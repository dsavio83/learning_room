const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Dy997OKx.js","assets/react-vendor-BzrpNAyj.js","assets/pdfjs-B2i6sGUR.js"])))=>i.map(i=>d[i]);
var Vy=Object.defineProperty;var Gy=(t,A,r)=>A in t?Vy(t,A,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[A]=r;var xA=(t,A,r)=>Gy(t,typeof A!="symbol"?A+"":A,r);import{r as Nb,g as Sb,a as qy}from"./react-vendor-BzrpNAyj.js";import{G as qf,p as Xy,g as Lg}from"./pdfjs-B2i6sGUR.js";(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var I0={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function Yy(){if($m)return Fu;$m=1;var t=Symbol.for("react.transitional.element"),A=Symbol.for("react.fragment");function r(a,i,l){var d=null;if(l!==void 0&&(d=""+l),i.key!==void 0&&(d=""+i.key),"key"in i){l={};for(var u in i)u!=="key"&&(l[u]=i[u])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:d,ref:i!==void 0?i:null,props:l}}return Fu.Fragment=A,Fu.jsx=r,Fu.jsxs=r,Fu}var e2;function Jy(){return e2||(e2=1,I0.exports=Yy()),I0.exports}var o=Jy(),P=Nb();const El=Sb(P);var D0={exports:{}},Nu={},M0={exports:{}},O0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2;function Wy(){return t2||(t2=1,(function(t){function A(R,Y){var Z=R.length;R.push(Y);e:for(;0<Z;){var ue=Z-1>>>1,ge=R[ue];if(0<i(ge,Y))R[ue]=Y,R[Z]=ge,Z=ue;else break e}}function r(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var Y=R[0],Z=R.pop();if(Z!==Y){R[0]=Z;e:for(var ue=0,ge=R.length,be=ge>>>1;ue<be;){var T=2*(ue+1)-1,q=R[T],$=T+1,le=R[$];if(0>i(q,Z))$<ge&&0>i(le,q)?(R[ue]=le,R[$]=Z,ue=$):(R[ue]=q,R[T]=Z,ue=T);else if($<ge&&0>i(le,Z))R[ue]=le,R[$]=Z,ue=$;else break e}}return Y}function i(R,Y){var Z=R.sortIndex-Y.sortIndex;return Z!==0?Z:R.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var d=Date,u=d.now();t.unstable_now=function(){return d.now()-u}}var f=[],g=[],w=1,v=null,C=3,b=!1,U=!1,F=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(R){for(var Y=r(g);Y!==null;){if(Y.callback===null)a(g);else if(Y.startTime<=R)a(g),Y.sortIndex=Y.expirationTime,A(f,Y);else break;Y=r(g)}}function V(R){if(F=!1,k(R),!U)if(r(f)!==null)U=!0,Ae||(Ae=!0,j());else{var Y=r(g);Y!==null&&ce(V,Y.startTime-R)}}var Ae=!1,ne=-1,J=5,D=-1;function ee(){return L?!0:!(t.unstable_now()-D<J)}function Q(){if(L=!1,Ae){var R=t.unstable_now();D=R;var Y=!0;try{e:{U=!1,F&&(F=!1,H(ne),ne=-1),b=!0;var Z=C;try{t:{for(k(R),v=r(f);v!==null&&!(v.expirationTime>R&&ee());){var ue=v.callback;if(typeof ue=="function"){v.callback=null,C=v.priorityLevel;var ge=ue(v.expirationTime<=R);if(R=t.unstable_now(),typeof ge=="function"){v.callback=ge,k(R),Y=!0;break t}v===r(f)&&a(f),k(R)}else a(f);v=r(f)}if(v!==null)Y=!0;else{var be=r(g);be!==null&&ce(V,be.startTime-R),Y=!1}}break e}finally{v=null,C=Z,b=!1}Y=void 0}}finally{Y?j():Ae=!1}}}var j;if(typeof _=="function")j=function(){_(Q)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,K=I.port2;I.port1.onmessage=Q,j=function(){K.postMessage(null)}}else j=function(){N(Q,0)};function ce(R,Y){ne=N(function(){R(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(R){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var Z=C;C=Y;try{return R()}finally{C=Z}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Z=C;C=R;try{return Y()}finally{C=Z}},t.unstable_scheduleCallback=function(R,Y,Z){var ue=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ue+Z:ue):Z=ue,R){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Z+ge,R={id:w++,callback:Y,priorityLevel:R,startTime:Z,expirationTime:ge,sortIndex:-1},Z>ue?(R.sortIndex=Z,A(g,R),r(f)===null&&R===r(g)&&(F?(H(ne),ne=-1):F=!0,ce(V,Z-ue))):(R.sortIndex=ge,A(f,R),U||b||(U=!0,Ae||(Ae=!0,j()))),R},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(R){var Y=C;return function(){var Z=C;C=Y;try{return R.apply(this,arguments)}finally{C=Z}}}})(O0)),O0}var A2;function Zy(){return A2||(A2=1,M0.exports=Wy()),M0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2;function $y(){if(r2)return Nu;r2=1;var t=Zy(),A=Nb(),r=qy();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function u(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(l(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=l(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,c=n;;){var p=s.return;if(p===null)break;var x=p.alternate;if(x===null){if(c=p.return,c!==null){s=c;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===s)return f(p),e;if(x===c)return f(p),n;x=x.sibling}throw Error(a(188))}if(s.return!==c.return)s=p,c=x;else{for(var E=!1,X=p.child;X;){if(X===s){E=!0,s=p,c=x;break}if(X===c){E=!0,c=p,s=x;break}X=X.sibling}if(!E){for(X=x.child;X;){if(X===s){E=!0,s=x,c=p;break}if(X===c){E=!0,c=x,s=p;break}X=X.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function w(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=w(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),_=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case N:return"Profiler";case L:return"StrictMode";case V:return"Suspense";case Ae:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case _:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:K(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return K(e(n))}catch{}}return null}var ce=Array.isArray,R=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ue=[],ge=-1;function be(e){return{current:e}}function T(e){0>ge||(e.current=ue[ge],ue[ge]=null,ge--)}function q(e,n){ge++,ue[ge]=e.current,e.current=n}var $=be(null),le=be(null),oe=be(null),we=be(null);function Se(e,n){switch(q(oe,n),q(le,e),q($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ym(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ym(n),e=Bm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T($),q($,e)}function Ne(){T($),T(le),T(oe)}function Le(e){e.memoizedState!==null&&q(we,e);var n=$.current,s=Bm(n,e.type);n!==s&&(q(le,e),q($,s))}function Te(e){le.current===e&&(T($),T(le)),we.current===e&&(T(we),Bu._currentValue=Z)}var Oe,ze;function qe(e){if(Oe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Oe=n&&n[1]||"",ze=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+e+ze}var re=!1;function Ge(e,n){if(!e||re)return"";re=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Ee){var Fe=Ee}Reflect.construct(e,[],Re)}else{try{Re.call()}catch(Ee){Fe=Ee}e.call(Re.prototype)}}else{try{throw Error()}catch(Ee){Fe=Ee}(Re=e())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Ee){if(Ee&&Fe&&typeof Ee.stack=="string")return[Ee.stack,Fe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=c.DetermineComponentFrameRoot(),E=x[0],X=x[1];if(E&&X){var de=E.split(`
`),Qe=X.split(`
`);for(p=c=0;c<de.length&&!de[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Qe.length&&!Qe[p].includes("DetermineComponentFrameRoot");)p++;if(c===de.length||p===Qe.length)for(c=de.length-1,p=Qe.length-1;1<=c&&0<=p&&de[c]!==Qe[p];)p--;for(;1<=c&&0<=p;c--,p--)if(de[c]!==Qe[p]){if(c!==1||p!==1)do if(c--,p--,0>p||de[c]!==Qe[p]){var _e=`
`+de[c].replace(" at new "," at ");return e.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",e.displayName)),_e}while(1<=c&&0<=p);break}}}finally{re=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qe(s):""}function We(e,n){switch(e.tag){case 26:case 27:case 5:return qe(e.type);case 16:return qe("Lazy");case 13:return e.child!==n&&n!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Ge(e.type,!1);case 11:return Ge(e.type.render,!1);case 1:return Ge(e.type,!0);case 31:return qe("Activity");default:return""}}function Xe(e){try{var n="",s=null;do n+=We(e,s),s=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ke=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,Ye=t.unstable_cancelCallback,rt=t.unstable_shouldYield,ot=t.unstable_requestPaint,yt=t.unstable_now,Mt=t.unstable_getCurrentPriorityLevel,Ft=t.unstable_ImmediatePriority,Ot=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,ct=t.unstable_LowPriority,jt=t.unstable_IdlePriority,ht=t.log,YA=t.unstable_setDisableYieldValue,zt=null,vt=null;function St(e){if(typeof ht=="function"&&YA(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(zt,e)}catch{}}var Vt=Math.clz32?Math.clz32:Ut,wt=Math.log,yA=Math.LN2;function Ut(e){return e>>>=0,e===0?32:31-(wt(e)/yA|0)|0}var Et=256,gA=262144,It=4194304;function gt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $t(e,n,s){var c=e.pendingLanes;if(c===0)return 0;var p=0,x=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var X=c&134217727;return X!==0?(c=X&~x,c!==0?p=gt(c):(E&=X,E!==0?p=gt(E):s||(s=X&~e,s!==0&&(p=gt(s))))):(X=c&~x,X!==0?p=gt(X):E!==0?p=gt(E):s||(s=c&~e,s!==0&&(p=gt(s)))),p===0?0:n!==0&&n!==p&&(n&x)===0&&(x=p&-p,s=n&-n,x>=s||x===32&&(s&4194048)!==0)?n:p}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Or(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var e=It;return It<<=1,(It&62914560)===0&&(It=4194304),e}function kn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Va(e,n,s,c,p,x){var E=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var X=e.entanglements,de=e.expirationTimes,Qe=e.hiddenUpdates;for(s=E&~s;0<s;){var _e=31-Vt(s),Re=1<<_e;X[_e]=0,de[_e]=-1;var Fe=Qe[_e];if(Fe!==null)for(Qe[_e]=null,_e=0;_e<Fe.length;_e++){var Ee=Fe[_e];Ee!==null&&(Ee.lane&=-536870913)}s&=~Re}c!==0&&xa(e,c,0),x!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=x&~(E&~n))}function xa(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Vt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|s&261930}function bn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var c=31-Vt(s),p=1<<c;p&n|e[c]&n&&(e[c]|=n),s&=~p}}function xn(e,n){var s=n&-n;return s=(s&42)!==0?1:HA(s),(s&(e.suspendedLanes|n))!==0?0:s}function HA(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yr(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Gm(e.type))}function Fs(e,n){var s=Y.p;try{return Y.p=e,n()}finally{Y.p=s}}var Jr=Math.random().toString(36).slice(2),pA="__reactFiber$"+Jr,TA="__reactProps$"+Jr,Rr="__reactContainer$"+Jr,vn="__reactEvents$"+Jr,Ln="__reactListeners$"+Jr,ti="__reactHandles$"+Jr,$n="__reactResources$"+Jr,ea="__reactMarker$"+Jr;function Ns(e){delete e[pA],delete e[TA],delete e[vn],delete e[Ln],delete e[ti]}function ta(e){var n=e[pA];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Rr]||s[pA]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Em(e);e!==null;){if(s=e[pA])return s;e=Em(e)}return n}e=s,s=e.parentNode}return null}function Aa(e){if(e=e[pA]||e[Rr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ai(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function va(e){var n=e[$n];return n||(n=e[$n]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function JA(e){e[ea]=!0}var _l=new Set,yn={};function ra(e,n){Ga(e,n),Ga(e+"Capture",n)}function Ga(e,n){for(yn[e]=n,e=0;e<n.length;e++)_l.add(n[e])}var Tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Dl={};function So(e){return ke.call(Dl,e)?!0:ke.call(Il,e)?!1:Tl.test(e)?Dl[e]=!0:(Il[e]=!0,!1)}function Bn(e,n,s){if(So(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function qa(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function na(e,n,s,c){if(c===null)e.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+c)}}function sA(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ml(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ya(e,n,s){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,x=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return p.call(this)},set:function(E){s=""+E,x.call(this,E)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ss(e){if(!e._valueTracker){var n=Ml(e)?"checked":"value";e._valueTracker=ya(e,n,""+e[n])}}function Ol(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),c="";return e&&(c=Ml(e)?e.checked?"true":"false":e.value),e=c,e!==s?(n.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function nr(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Oi(e,n,s,c,p,x,E,X){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),n!=null?E==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+sA(n)):e.value!==""+sA(n)&&(e.value=""+sA(n)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),n!=null?Rl(e,E,sA(n)):s!=null?Rl(e,E,sA(s)):c!=null&&e.removeAttribute("value"),p==null&&x!=null&&(e.defaultChecked=!!x),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?e.name=""+sA(X):e.removeAttribute("name")}function Eo(e,n,s,c,p,x,E,X){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),n!=null||s!=null){if(!(x!=="submit"&&x!=="reset"||n!=null)){Ss(e);return}s=s!=null?""+sA(s):"",n=n!=null?""+sA(n):s,X||n===e.value||(e.value=n),e.defaultValue=n}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=X?e.checked:!!c,e.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E),Ss(e)}function Rl(e,n,s){n==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Zr(e,n,s,c){if(e=e.options,n){n={};for(var p=0;p<s.length;p++)n["$"+s[p]]=!0;for(s=0;s<e.length;s++)p=n.hasOwnProperty("$"+e[s].value),e[s].selected!==p&&(e[s].selected=p),p&&c&&(e[s].defaultSelected=!0)}else{for(s=""+sA(s),n=null,p=0;p<e.length;p++){if(e[p].value===s){e[p].selected=!0,c&&(e[p].defaultSelected=!0);return}n!==null||e[p].disabled||(n=e[p])}n!==null&&(n.selected=!0)}}function Pl(e,n,s){if(n!=null&&(n=""+sA(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+sA(s):""}function Kl(e,n,s,c){if(n==null){if(c!=null){if(s!=null)throw Error(a(92));if(ce(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),n=s}s=sA(n),e.defaultValue=s,c=e.textContent,c===s&&c!==""&&c!==null&&(e.value=c),Ss(e)}function aa(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,s){var c=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,s):typeof s!="number"||s===0||ri.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Lo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var p in n)c=n[p],n.hasOwnProperty(p)&&s[p]!==c&&ko(e,p,c)}else for(var x in n)n.hasOwnProperty(x)&&ko(e,x,n[x])}function zl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function on(e){return jo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sa(){}var Xa=null;function ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Es=null,Bt=null;function Ho(e){var n=Aa(e);if(n&&(e=n.stateNode)){var s=e[TA]||null;e:switch(e=n.stateNode,n.type){case"input":if(Oi(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nr(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var c=s[n];if(c!==e&&c.form===e.form){var p=c[TA]||null;if(!p)throw Error(a(90));Oi(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<s.length;n++)c=s[n],c.form===e.form&&Ol(c)}break e;case"textarea":Pl(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Zr(e,!!s.multiple,n,!1)}}}var Gl=!1;function _o(e,n,s){if(Gl)return e(n,s);Gl=!0;try{var c=e(n);return c}finally{if(Gl=!1,(Es!==null||Bt!==null)&&(kd(),Es&&(n=Es,e=Bt,Bt=Es=null,Ho(n),e)))for(n=0;n<e.length;n++)Ho(e[n])}}function Cn(e,n){var s=e.stateNode;if(s===null)return null;var c=s[TA]||null;if(c===null)return null;s=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ql=!1;if(Sr)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){ql=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{ql=!1}var Un=null,si=null,Ba=null;function To(){if(Ba)return Ba;var e,n=si,s=n.length,c,p="value"in Un?Un.value:Un.textContent,x=p.length;for(e=0;e<s&&n[e]===p[e];e++);var E=s-e;for(c=1;c<=E&&n[s-c]===p[x-c];c++);return Ba=p.slice(e,1<c?1-c:void 0)}function jn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ri(){return!0}function Pi(){return!1}function Br(e){function n(s,c,p,x,E){this._reactName=s,this._targetInst=p,this.type=c,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var X in e)e.hasOwnProperty(X)&&(s=e[X],this[X]=s?s(x):x[X]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ri:Pi,this.isPropagationStopped=Pi,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hn=Br(Ca),Ya=v({},Ca,{view:0,detail:0}),Ki=Br(Ya),ii,Ja,Wa,li=v({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nt,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wa&&(Wa&&e.type==="mousemove"?(ii=e.screenX-Wa.screenX,Ja=e.screenY-Wa.screenY):Ja=ii=0,Wa=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),Xl=Br(li),Za=v({},li,{dataTransfer:0}),$a=Br(Za),Io=v({},Ya,{relatedTarget:0}),es=Br(Io),Do=v({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),y=Br(Do),M=v({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ie=Br(M),fe=v({},Ca,{data:0}),xe=Br(fe),Ie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},at={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ut(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=at[e])?!!n[e]:!1}function Nt(){return ut}var Ht=v({},Ya,{key:function(e){if(e.key){var n=Ie[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ke[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nt,charCode:function(e){return e.type==="keypress"?jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eA=Br(Ht),IA=v({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WA=Br(IA),BA=v({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nt}),hr=Br(BA),ar=v({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Er=Br(ar),ts=v({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=Br(ts),As=v({},Ca,{newState:0,oldState:0}),Yl=Br(As),zi=[9,13,27,32],Ua=Sr&&"CompositionEvent"in window,la=null;Sr&&"documentMode"in document&&(la=document.documentMode);var oi=Sr&&"TextEvent"in window&&!la,rs=Sr&&(!Ua||la&&8<la&&11>=la),Cr=" ",ks=!1;function Ls(e,n){switch(e){case"keyup":return zi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function $r(e,n){switch(e){case"compositionend":return Vi(n);case"keypress":return n.which!==32?null:(ks=!0,Cr);case"textInput":return e=n.data,e===Cr&&ks?null:e;default:return null}}function ns(e,n){if(Qa)return e==="compositionend"||!Ua&&Ls(e,n)?(e=To(),Ba=si=Un=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rs&&n.locale!=="ko"?null:n.data;default:return null}}var Gi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Gi[e.type]:n==="textarea"}function Qn(e,n,s,c){Es?Bt?Bt.push(c):Bt=[c]:Es=c,n=Dd(n,"onChange"),0<n.length&&(s=new Hn("onChange","change",null,s,c),e.push({event:s,listeners:n}))}var oa=null,as=null;function Wl(e){pm(e,0)}function ca(e){var n=Ai(e);if(Ol(n))return e}function js(e,n){if(e==="change")return n}var cn=!1;if(Sr){var en;if(Sr){var Fa="oninput"in document;if(!Fa){var Na=document.createElement("div");Na.setAttribute("oninput","return;"),Fa=typeof Na.oninput=="function"}en=Fa}else en=!1;cn=en&&(!document.documentMode||9<document.documentMode)}function ss(){oa&&(oa.detachEvent("onpropertychange",qi),as=oa=null)}function qi(e){if(e.propertyName==="value"&&ca(as)){var n=[];Qn(n,as,e,ni(e)),_o(Wl,n)}}function Xi(e,n,s){e==="focusin"?(ss(),oa=n,as=s,oa.attachEvent("onpropertychange",qi)):e==="focusout"&&ss()}function ZA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(as)}function Mo(e,n){if(e==="click")return ca(n)}function Sa(e,n){if(e==="input"||e==="change")return ca(n)}function Ea(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kr=typeof Object.is=="function"?Object.is:Ea;function is(e,n){if(kr(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),c=Object.keys(n);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var p=s[c];if(!ke.call(n,p)||!kr(e[p],n[p]))return!1}return!0}function Yi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ji(e,n){var s=Yi(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=n&&c>=n)return{node:s,offset:n-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yi(s)}}function ls(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ls(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function os(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Wr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Wr(e.document)}return n}function ka(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ci=Sr&&"documentMode"in document&&11>=document.documentMode,Fn=null,cs=null,Pr=null,_n=!1;function iA(e,n,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_n||Fn==null||Fn!==Wr(c)||(c=Fn,"selectionStart"in c&&ka(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pr&&is(Pr,c)||(Pr=c,c=Dd(cs,"onSelect"),0<c.length&&(n=new Hn("onSelect","select",null,n,s),e.push({event:n,listeners:c}),n.target=Fn)))}function tA(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var CA={animationend:tA("Animation","AnimationEnd"),animationiteration:tA("Animation","AnimationIteration"),animationstart:tA("Animation","AnimationStart"),transitionrun:tA("Transition","TransitionRun"),transitionstart:tA("Transition","TransitionStart"),transitioncancel:tA("Transition","TransitionCancel"),transitionend:tA("Transition","TransitionEnd")},$A={},La={};Sr&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete CA.animationend.animation,delete CA.animationiteration.animation,delete CA.animationstart.animation),"TransitionEvent"in window||delete CA.transitionend.transition);function ua(e){if($A[e])return $A[e];if(!CA[e])return e;var n=CA[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in La)return $A[e]=n[s];return e}var ui=ua("animationend"),Zl=ua("animationiteration"),Gc=ua("animationstart"),id=ua("transitionrun"),ld=ua("transitionstart"),od=ua("transitioncancel"),qc=ua("transitionend"),Xc=new Map,di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");di.push("scrollEnd");function Tn(e,n){Xc.set(e,n),ra(n,[e])}var $l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],fi=0,Oo=0;function eo(){for(var e=fi,n=Oo=fi=0;n<e;){var s=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var p=Nn[n];Nn[n++]=null;var x=Nn[n];if(Nn[n++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}x!==0&&Ao(s,p,x)}}function to(e,n,s,c){Nn[fi++]=e,Nn[fi++]=n,Nn[fi++]=s,Nn[fi++]=c,Oo|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ro(e,n,s,c){return to(e,n,s,c),Kr(e)}function us(e,n){return to(e,null,null,n),Kr(e)}function Ao(e,n,s){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s);for(var p=!1,x=e.return;x!==null;)x.childLanes|=s,c=x.alternate,c!==null&&(c.childLanes|=s),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(p=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,p&&n!==null&&(p=31-Vt(s),e=x.hiddenUpdates,c=e[p],c===null?e[p]=[n]:c.push(n),n.lane=s|536870912),x):null}function Kr(e){if(50<pu)throw pu=0,i0=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Lr={};function Po(e,n,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,n,s,c){return new Po(e,n,s,c)}function Ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function In(e,n){var s=e.alternate;return s===null?(s=zr(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ro(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Wi(e,n,s,c,p,x){var E=0;if(c=e,typeof e=="function")Ko(e)&&(E=1);else if(typeof e=="string")E=jy(e,s,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case D:return e=zr(31,s,n,p),e.elementType=D,e.lanes=x,e;case F:return Hs(s.children,p,x,n);case L:E=8,p|=24;break;case N:return e=zr(12,s,n,p|2),e.elementType=N,e.lanes=x,e;case V:return e=zr(13,s,n,p),e.elementType=V,e.lanes=x,e;case Ae:return e=zr(19,s,n,p),e.elementType=Ae,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _:E=10;break e;case H:E=9;break e;case k:E=11;break e;case ne:E=14;break e;case J:E=16,c=null;break e}E=29,s=Error(a(130,e===null?"null":typeof e,"")),c=null}return n=zr(E,s,n,p),n.elementType=e,n.type=c,n.lanes=x,n}function Hs(e,n,s,c){return e=zr(7,e,c,n),e.lanes=s,e}function no(e,n,s){return e=zr(6,e,null,n),e.lanes=s,e}function zo(e){var n=zr(18,null,null,0);return n.stateNode=e,n}function Zi(e,n,s){return n=zr(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vo=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=Vo.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Xe(n)},Vo.set(e,n),n)}return{value:e,source:n,stack:Xe(n)}}var $i=[],hi=0,Go=null,ao=0,Mn=[],On=0,_s=null,Rn=1,Pn="";function Sn(e,n){$i[hi++]=ao,$i[hi++]=Go,Go=e,ao=n}function cd(e,n,s){Mn[On++]=Rn,Mn[On++]=Pn,Mn[On++]=_s,_s=e;var c=Rn;e=Pn;var p=32-Vt(c)-1;c&=~(1<<p),s+=1;var x=32-Vt(n)+p;if(30<x){var E=p-p%5;x=(c&(1<<E)-1).toString(32),c>>=E,p-=E,Rn=1<<32-Vt(n)+p|s<<p|c,Pn=x+e}else Rn=1<<x|s<<p|c,Pn=e}function Yc(e){e.return!==null&&(Sn(e,1),cd(e,1,0))}function qo(e){for(;e===Go;)Go=$i[--hi],$i[hi]=null,ao=$i[--hi],$i[hi]=null;for(;e===_s;)_s=Mn[--On],Mn[On]=null,Pn=Mn[--On],Mn[On]=null,Rn=Mn[--On],Mn[On]=null}function ud(e,n){Mn[On++]=Rn,Mn[On++]=Pn,Mn[On++]=_s,Rn=n.id,Pn=n.overflow,_s=e}var jr=null,EA=null,qt=!1,tn=null,KA=!1,da=Error(a(519));function Ts(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Dn(n,e)),da}function Jc(e){var n=e.stateNode,s=e.type,c=e.memoizedProps;switch(n[pA]=e,n[TA]=c,s){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(s=0;s<wu.length;s++)Yt(wu[s],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":Yt("invalid",n),Eo(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Yt("invalid",n);break;case"textarea":Yt("invalid",n),Kl(n,c.value,c.defaultValue,c.children)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||c.suppressHydrationWarning===!0||xm(n.textContent,s)?(c.popover!=null&&(Yt("beforetoggle",n),Yt("toggle",n)),c.onScroll!=null&&Yt("scroll",n),c.onScrollEnd!=null&&Yt("scrollend",n),c.onClick!=null&&(n.onclick=sa),n=!0):n=!1,n||Ts(e,!0)}function ds(e){for(jr=e.return;jr;)switch(jr.tag){case 5:case 31:case 13:KA=!1;return;case 27:case 3:KA=!0;return;default:jr=jr.return}}function Hr(e){if(e!==jr)return!1;if(!qt)return ds(e),qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||y0(e.type,e.memoizedProps)),s=!s),s&&EA&&Ts(e),ds(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));EA=Sm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));EA=Sm(e)}else n===27?(n=EA,hl(e.type)?(e=F0,F0=null,EA=e):EA=n):EA=jr?Ta(e.stateNode.nextSibling):null;return!0}function gi(){EA=jr=null,qt=!1}function Wc(){var e=tn;return e!==null&&(Xn===null?Xn=e:Xn.push.apply(Xn,e),tn=null),e}function el(e){tn===null?tn=[e]:tn.push(e)}var Xo=be(null),Is=null,ja=null;function Ds(e,n,s){q(Xo,n._currentValue),n._currentValue=s}function Kn(e){e._currentValue=Xo.current,T(Xo)}function tl(e,n,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===s)break;e=e.return}}function pi(e,n,s,c){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var x=p.dependencies;if(x!==null){var E=p.child;x=x.firstContext;e:for(;x!==null;){var X=x;x=p;for(var de=0;de<n.length;de++)if(X.context===n[de]){x.lanes|=s,X=x.alternate,X!==null&&(X.lanes|=s),tl(x.return,s,e),c||(E=null);break e}x=X.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(a(341));E.lanes|=s,x=E.alternate,x!==null&&(x.lanes|=s),tl(E,s,e),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===e){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Ms(e,n,s,c){e=null;for(var p=n,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var X=p.type;kr(p.pendingProps.value,E.value)||(e!==null?e.push(X):e=[X])}}else if(p===we.current){if(E=p.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(Bu):e=[Bu])}p=p.return}e!==null&&pi(n,e,s,c),n.flags|=262144}function Yo(e){for(e=e.firstContext;e!==null;){if(!kr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Is=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _r(e){return dd(Is,e)}function Jo(e,n){return Is===null&&Os(e),dd(e,n)}function dd(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ja===null){if(e===null)throw Error(a(308));ja=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ja=ja.next=n;return s}var Qh=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Fh=t.unstable_scheduleCallback,Nh=t.unstable_NormalPriority,er={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Al(){return{controller:new Qh,data:new Map,refCount:0}}function so(e){e.refCount--,e.refCount===0&&Fh(Nh,function(){e.controller.abort()})}var io=null,Wo=0,h=0,m=null;function B(e,n){if(io===null){var s=io=[];Wo=0,h=f0(),m={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Wo++,n.then(S,S),n}function S(){if(--Wo===0&&io!==null){m!==null&&(m.status="fulfilled");var e=io;io=null,h=0,m=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function O(e,n){var s=[],c={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var p=0;p<s.length;p++)(0,s[p])(n)},function(p){for(c.status="rejected",c.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),c}var z=R.S;R.S=function(e,n){z1=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&B(e,n),z!==null&&z(e,n)};var G=be(null);function W(){var e=G.current;return e!==null?e:LA.pooledCache}function te(e,n){n===null?q(G,G.current):q(G,n.pool)}function se(){var e=W();return e===null?null:{parent:er._currentValue,pool:e}}var he=Error(a(460)),Ce=Error(a(474)),ae=Error(a(542)),me={then:function(){}};function ye(e){return e=e.status,e==="fulfilled"||e==="rejected"}function He(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(sa,sa),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ve(e),e;default:if(typeof n.status=="string")n.then(sa,sa);else{if(e=LA,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=c}},function(c){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ve(e),e}throw je=n,he}}function Be(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(je=s,he):s}}var je=null;function De(){if(je===null)throw Error(a(459));var e=je;return je=null,e}function Ve(e){if(e===he||e===ae)throw Error(a(483))}var Pe=null,it=0;function et(e){var n=it;return it+=1,Pe===null&&(Pe=[]),He(Pe,e,n)}function kt(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function nt(e,n){throw n.$$typeof===C?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gt(e){function n(ve,pe){if(e){var Ue=ve.deletions;Ue===null?(ve.deletions=[pe],ve.flags|=16):Ue.push(pe)}}function s(ve,pe){if(!e)return null;for(;pe!==null;)n(ve,pe),pe=pe.sibling;return null}function c(ve){for(var pe=new Map;ve!==null;)ve.key!==null?pe.set(ve.key,ve):pe.set(ve.index,ve),ve=ve.sibling;return pe}function p(ve,pe){return ve=In(ve,pe),ve.index=0,ve.sibling=null,ve}function x(ve,pe,Ue){return ve.index=Ue,e?(Ue=ve.alternate,Ue!==null?(Ue=Ue.index,Ue<pe?(ve.flags|=67108866,pe):Ue):(ve.flags|=67108866,pe)):(ve.flags|=1048576,pe)}function E(ve){return e&&ve.alternate===null&&(ve.flags|=67108866),ve}function X(ve,pe,Ue,Me){return pe===null||pe.tag!==6?(pe=no(Ue,ve.mode,Me),pe.return=ve,pe):(pe=p(pe,Ue),pe.return=ve,pe)}function de(ve,pe,Ue,Me){var xt=Ue.type;return xt===F?_e(ve,pe,Ue.props.children,Me,Ue.key):pe!==null&&(pe.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===J&&Be(xt)===pe.type)?(pe=p(pe,Ue.props),kt(pe,Ue),pe.return=ve,pe):(pe=Wi(Ue.type,Ue.key,Ue.props,null,ve.mode,Me),kt(pe,Ue),pe.return=ve,pe)}function Qe(ve,pe,Ue,Me){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ue.containerInfo||pe.stateNode.implementation!==Ue.implementation?(pe=Zi(Ue,ve.mode,Me),pe.return=ve,pe):(pe=p(pe,Ue.children||[]),pe.return=ve,pe)}function _e(ve,pe,Ue,Me,xt){return pe===null||pe.tag!==7?(pe=Hs(Ue,ve.mode,Me,xt),pe.return=ve,pe):(pe=p(pe,Ue),pe.return=ve,pe)}function Re(ve,pe,Ue){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=no(""+pe,ve.mode,Ue),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return Ue=Wi(pe.type,pe.key,pe.props,null,ve.mode,Ue),kt(Ue,pe),Ue.return=ve,Ue;case U:return pe=Zi(pe,ve.mode,Ue),pe.return=ve,pe;case J:return pe=Be(pe),Re(ve,pe,Ue)}if(ce(pe)||j(pe))return pe=Hs(pe,ve.mode,Ue,null),pe.return=ve,pe;if(typeof pe.then=="function")return Re(ve,et(pe),Ue);if(pe.$$typeof===_)return Re(ve,Jo(ve,pe),Ue);nt(ve,pe)}return null}function Fe(ve,pe,Ue,Me){var xt=pe!==null?pe.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return xt!==null?null:X(ve,pe,""+Ue,Me);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case b:return Ue.key===xt?de(ve,pe,Ue,Me):null;case U:return Ue.key===xt?Qe(ve,pe,Ue,Me):null;case J:return Ue=Be(Ue),Fe(ve,pe,Ue,Me)}if(ce(Ue)||j(Ue))return xt!==null?null:_e(ve,pe,Ue,Me,null);if(typeof Ue.then=="function")return Fe(ve,pe,et(Ue),Me);if(Ue.$$typeof===_)return Fe(ve,pe,Jo(ve,Ue),Me);nt(ve,Ue)}return null}function Ee(ve,pe,Ue,Me,xt){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ve=ve.get(Ue)||null,X(pe,ve,""+Me,xt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case b:return ve=ve.get(Me.key===null?Ue:Me.key)||null,de(pe,ve,Me,xt);case U:return ve=ve.get(Me.key===null?Ue:Me.key)||null,Qe(pe,ve,Me,xt);case J:return Me=Be(Me),Ee(ve,pe,Ue,Me,xt)}if(ce(Me)||j(Me))return ve=ve.get(Ue)||null,_e(pe,ve,Me,xt,null);if(typeof Me.then=="function")return Ee(ve,pe,Ue,et(Me),xt);if(Me.$$typeof===_)return Ee(ve,pe,Ue,Jo(pe,Me),xt);nt(pe,Me)}return null}function st(ve,pe,Ue,Me){for(var xt=null,oA=null,dt=pe,Pt=pe=0,Wt=null;dt!==null&&Pt<Ue.length;Pt++){dt.index>Pt?(Wt=dt,dt=null):Wt=dt.sibling;var cA=Fe(ve,dt,Ue[Pt],Me);if(cA===null){dt===null&&(dt=Wt);break}e&&dt&&cA.alternate===null&&n(ve,dt),pe=x(cA,pe,Pt),oA===null?xt=cA:oA.sibling=cA,oA=cA,dt=Wt}if(Pt===Ue.length)return s(ve,dt),qt&&Sn(ve,Pt),xt;if(dt===null){for(;Pt<Ue.length;Pt++)dt=Re(ve,Ue[Pt],Me),dt!==null&&(pe=x(dt,pe,Pt),oA===null?xt=dt:oA.sibling=dt,oA=dt);return qt&&Sn(ve,Pt),xt}for(dt=c(dt);Pt<Ue.length;Pt++)Wt=Ee(dt,ve,Pt,Ue[Pt],Me),Wt!==null&&(e&&Wt.alternate!==null&&dt.delete(Wt.key===null?Pt:Wt.key),pe=x(Wt,pe,Pt),oA===null?xt=Wt:oA.sibling=Wt,oA=Wt);return e&&dt.forEach(function(bl){return n(ve,bl)}),qt&&Sn(ve,Pt),xt}function Qt(ve,pe,Ue,Me){if(Ue==null)throw Error(a(151));for(var xt=null,oA=null,dt=pe,Pt=pe=0,Wt=null,cA=Ue.next();dt!==null&&!cA.done;Pt++,cA=Ue.next()){dt.index>Pt?(Wt=dt,dt=null):Wt=dt.sibling;var bl=Fe(ve,dt,cA.value,Me);if(bl===null){dt===null&&(dt=Wt);break}e&&dt&&bl.alternate===null&&n(ve,dt),pe=x(bl,pe,Pt),oA===null?xt=bl:oA.sibling=bl,oA=bl,dt=Wt}if(cA.done)return s(ve,dt),qt&&Sn(ve,Pt),xt;if(dt===null){for(;!cA.done;Pt++,cA=Ue.next())cA=Re(ve,cA.value,Me),cA!==null&&(pe=x(cA,pe,Pt),oA===null?xt=cA:oA.sibling=cA,oA=cA);return qt&&Sn(ve,Pt),xt}for(dt=c(dt);!cA.done;Pt++,cA=Ue.next())cA=Ee(dt,ve,Pt,cA.value,Me),cA!==null&&(e&&cA.alternate!==null&&dt.delete(cA.key===null?Pt:cA.key),pe=x(cA,pe,Pt),oA===null?xt=cA:oA.sibling=cA,oA=cA);return e&&dt.forEach(function(zy){return n(ve,zy)}),qt&&Sn(ve,Pt),xt}function NA(ve,pe,Ue,Me){if(typeof Ue=="object"&&Ue!==null&&Ue.type===F&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case b:e:{for(var xt=Ue.key;pe!==null;){if(pe.key===xt){if(xt=Ue.type,xt===F){if(pe.tag===7){s(ve,pe.sibling),Me=p(pe,Ue.props.children),Me.return=ve,ve=Me;break e}}else if(pe.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===J&&Be(xt)===pe.type){s(ve,pe.sibling),Me=p(pe,Ue.props),kt(Me,Ue),Me.return=ve,ve=Me;break e}s(ve,pe);break}else n(ve,pe);pe=pe.sibling}Ue.type===F?(Me=Hs(Ue.props.children,ve.mode,Me,Ue.key),Me.return=ve,ve=Me):(Me=Wi(Ue.type,Ue.key,Ue.props,null,ve.mode,Me),kt(Me,Ue),Me.return=ve,ve=Me)}return E(ve);case U:e:{for(xt=Ue.key;pe!==null;){if(pe.key===xt)if(pe.tag===4&&pe.stateNode.containerInfo===Ue.containerInfo&&pe.stateNode.implementation===Ue.implementation){s(ve,pe.sibling),Me=p(pe,Ue.children||[]),Me.return=ve,ve=Me;break e}else{s(ve,pe);break}else n(ve,pe);pe=pe.sibling}Me=Zi(Ue,ve.mode,Me),Me.return=ve,ve=Me}return E(ve);case J:return Ue=Be(Ue),NA(ve,pe,Ue,Me)}if(ce(Ue))return st(ve,pe,Ue,Me);if(j(Ue)){if(xt=j(Ue),typeof xt!="function")throw Error(a(150));return Ue=xt.call(Ue),Qt(ve,pe,Ue,Me)}if(typeof Ue.then=="function")return NA(ve,pe,et(Ue),Me);if(Ue.$$typeof===_)return NA(ve,pe,Jo(ve,Ue),Me);nt(ve,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,pe!==null&&pe.tag===6?(s(ve,pe.sibling),Me=p(pe,Ue),Me.return=ve,ve=Me):(s(ve,pe),Me=no(Ue,ve.mode,Me),Me.return=ve,ve=Me),E(ve)):s(ve,pe)}return function(ve,pe,Ue,Me){try{it=0;var xt=NA(ve,pe,Ue,Me);return Pe=null,xt}catch(dt){if(dt===he||dt===ae)throw dt;var oA=zr(29,dt,null,ve.mode);return oA.lanes=Me,oA.return=ve,oA}finally{}}}var kA=Gt(!0),_t=Gt(!1),tt=!1;function Je(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function DA(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ct(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(e,n,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(fA&2)!==0){var p=c.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),c.pending=n,n=Kr(e),Ao(e,null,s),n}return to(e,c,n,s),Kr(e)}function uA(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,bn(e,s)}}function gr(e,n){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var p=null,x=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};x===null?p=x=E:x=x.next=E,s=s.next}while(s!==null);x===null?p=x=n:x=x.next=n}else p=x=n;s={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:c.shared,callbacks:c.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Tr=!1;function UA(){if(Tr){var e=m;if(e!==null)throw e}}function sr(e,n,s,c){Tr=!1;var p=e.updateQueue;tt=!1;var x=p.firstBaseUpdate,E=p.lastBaseUpdate,X=p.shared.pending;if(X!==null){p.shared.pending=null;var de=X,Qe=de.next;de.next=null,E===null?x=Qe:E.next=Qe,E=de;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,X=_e.lastBaseUpdate,X!==E&&(X===null?_e.firstBaseUpdate=Qe:X.next=Qe,_e.lastBaseUpdate=de))}if(x!==null){var Re=p.baseState;E=0,_e=Qe=de=null,X=x;do{var Fe=X.lane&-536870913,Ee=Fe!==X.lane;if(Ee?(Jt&Fe)===Fe:(c&Fe)===Fe){Fe!==0&&Fe===h&&(Tr=!0),_e!==null&&(_e=_e.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var st=e,Qt=X;Fe=n;var NA=s;switch(Qt.tag){case 1:if(st=Qt.payload,typeof st=="function"){Re=st.call(NA,Re,Fe);break e}Re=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Qt.payload,Fe=typeof st=="function"?st.call(NA,Re,Fe):st,Fe==null)break e;Re=v({},Re,Fe);break e;case 2:tt=!0}}Fe=X.callback,Fe!==null&&(e.flags|=64,Ee&&(e.flags|=8192),Ee=p.callbacks,Ee===null?p.callbacks=[Fe]:Ee.push(Fe))}else Ee={lane:Fe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},_e===null?(Qe=_e=Ee,de=Re):_e=_e.next=Ee,E|=Fe;if(X=X.next,X===null){if(X=p.shared.pending,X===null)break;Ee=X,X=Ee.next,Ee.next=null,p.lastBaseUpdate=Ee,p.shared.pending=null}}while(!0);_e===null&&(de=Re),p.baseState=de,p.firstBaseUpdate=Qe,p.lastBaseUpdate=_e,x===null&&(p.shared.lanes=0),ol|=E,e.lanes=E,e.memoizedState=Re}}function Vr(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ir(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Vr(s[e],n)}var Kt=be(null),rA=be(0);function MA(e,n){e=Qi,q(rA,e),q(Kt,n),Qi=e|n.baseLanes}function lA(){q(rA,Qi),q(Kt,Kt.current)}function pr(){Qi=rA.current,T(Kt),T(rA)}var OA=be(null),nA=null;function tr(e){var n=e.alternate;q(AA,AA.current&1),q(OA,e),nA===null&&(n===null||Kt.current!==null||n.memoizedState!==null)&&(nA=e)}function dA(e){q(AA,AA.current),q(OA,e),nA===null&&(nA=e)}function lr(e){e.tag===22?(q(AA,AA.current),q(OA,e),nA===null&&(nA=e)):or()}function or(){q(AA,AA.current),q(OA,OA.current)}function mA(e){T(OA),nA===e&&(nA=null),T(AA)}var AA=be(0);function Gr(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||U0(s)||Q0(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zA=0,mt=null,bt=null,aA=null,un=!1,zn=!1,An=!1,cr=0,Rs=0,Ps=null,Zo=0;function QA(){throw Error(a(321))}function Zc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!kr(e[s],n[s]))return!1;return!0}function $c(e,n,s,c,p,x){return zA=x,mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=e===null||e.memoizedState===null?t1:Th,An=!1,x=s(c,p),An=!1,zn&&(x=fs(n,s,c,p)),$o(e),x}function $o(e){R.H=iu;var n=bt!==null&&bt.next!==null;if(zA=0,aA=bt=mt=null,un=!1,Rs=0,Ps=null,n)throw Error(a(300));e===null||Qr||(e=e.dependencies,e!==null&&Yo(e)&&(Qr=!0))}function fs(e,n,s,c){mt=e;var p=0;do{if(zn&&(Ps=null),Rs=0,zn=!1,25<=p)throw Error(a(301));if(p+=1,aA=bt=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}R.H=A1,x=n(s,c)}while(zn);return x}function Sh(){var e=R.H,n=e.useState()[0];return n=typeof n.then=="function"?Ks(n):n,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(mt.flags|=1024),n}function eu(){var e=cr!==0;return cr=0,e}function tu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ec(e){if(un){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}un=!1}zA=0,aA=bt=mt=null,zn=!1,Rs=cr=0,Ps=null}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aA===null?mt.memoizedState=aA=e:aA=aA.next=e,aA}function VA(){if(bt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var n=aA===null?mt.memoizedState:aA.next;if(n!==null)aA=n,bt=e;else{if(e===null)throw mt.alternate===null?Error(a(467)):Error(a(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},aA===null?mt.memoizedState=aA=e:aA=aA.next=e}return aA}function lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ks(e){var n=Rs;return Rs+=1,Ps===null&&(Ps=[]),e=He(Ps,e,n),n=mt,(aA===null?n.memoizedState:aA.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?t1:Th),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ks(e);if(e.$$typeof===_)return _r(e)}throw Error(a(438,String(e)))}function mi(e){var n=null,s=mt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var c=mt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=lo(),mt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),c=0;c<e;c++)s[c]=ee;return n.index++,s}function Ha(e,n){return typeof n=="function"?n(e):n}function tc(e){var n=VA();return nl(n,bt,e)}function nl(e,n,s){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var p=e.baseQueue,x=c.pending;if(x!==null){if(p!==null){var E=p.next;p.next=x.next,x.next=E}n.baseQueue=p=x,c.pending=null}if(x=e.baseState,p===null)e.memoizedState=x;else{n=p.next;var X=E=null,de=null,Qe=n,_e=!1;do{var Re=Qe.lane&-536870913;if(Re!==Qe.lane?(Jt&Re)===Re:(zA&Re)===Re){var Fe=Qe.revertLane;if(Fe===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),Re===h&&(_e=!0);else if((zA&Fe)===Fe){Qe=Qe.next,Fe===h&&(_e=!0);continue}else Re={lane:0,revertLane:Qe.revertLane,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},de===null?(X=de=Re,E=x):de=de.next=Re,mt.lanes|=Fe,ol|=Fe;Re=Qe.action,An&&s(x,Re),x=Qe.hasEagerState?Qe.eagerState:s(x,Re)}else Fe={lane:Re,revertLane:Qe.revertLane,gesture:Qe.gesture,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},de===null?(X=de=Fe,E=x):de=de.next=Fe,mt.lanes|=Re,ol|=Re;Qe=Qe.next}while(Qe!==null&&Qe!==n);if(de===null?E=x:de.next=X,!kr(x,e.memoizedState)&&(Qr=!0,_e&&(s=m,s!==null)))throw s;e.memoizedState=x,e.baseState=E,e.baseQueue=de,c.lastRenderedState=x}return p===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Ac(e){var n=VA(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var c=s.dispatch,p=s.pending,x=n.memoizedState;if(p!==null){s.pending=null;var E=p=p.next;do x=e(x,E.action),E=E.next;while(E!==p);kr(x,n.memoizedState)||(Qr=!0),n.memoizedState=x,n.baseQueue===null&&(n.baseState=x),s.lastRenderedState=x}return[x,c]}function rc(e,n,s){var c=mt,p=VA(),x=qt;if(x){if(s===void 0)throw Error(a(407));s=s()}else s=n();var E=!kr((bt||p).memoizedState,s);if(E&&(p.memoizedState=s,Qr=!0),p=p.queue,Eh(ru.bind(null,c,p,e),[e]),p.getSnapshot!==n||E||aA!==null&&aA.memoizedState.tag&1){if(c.flags|=2048,bi(9,{destroy:void 0},Au.bind(null,c,p,s,n),null),LA===null)throw Error(a(349));x||(zA&127)!==0||hs(c,n,s)}return s}function hs(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=mt.updateQueue,n===null?(n=lo(),mt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Au(e,n,s,c){n.value=s,n.getSnapshot=c,fd(n)&&nu(e)}function ru(e,n,s){return s(function(){fd(n)&&nu(e)})}function fd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!kr(e,s)}catch{return!0}}function nu(e){var n=us(e,2);n!==null&&Yn(n,e,2)}function zs(e){var n=Ur();if(typeof e=="function"){var s=e;if(e=s(),An){St(!0);try{s()}finally{St(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},n}function hd(e,n,s,c){return e.baseState=s,nl(e,bt,typeof c=="function"?c:Ha)}function gd(e,n,s,c,p){if(bd(e))throw Error(a(485));if(e=n.action,e!==null){var x={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};R.T!==null?s(!0):x.isTransition=!1,c(x),s=n.pending,s===null?(x.next=n.pending=x,pd(n,x)):(x.next=s.next,n.pending=s.next=x)}}function pd(e,n){var s=n.action,c=n.payload,p=e.state;if(n.isTransition){var x=R.T,E={};R.T=E;try{var X=s(p,c),de=R.S;de!==null&&de(E,X),au(e,n,X)}catch(Qe){wi(e,n,Qe)}finally{x!==null&&E.types!==null&&(x.types=E.types),R.T=x}}else try{x=s(p,c),au(e,n,x)}catch(Qe){wi(e,n,Qe)}}function au(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){md(e,n,c)},function(c){return wi(e,n,c)}):md(e,n,s)}function md(e,n,s){n.status="fulfilled",n.value=s,nc(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,pd(e,s)))}function wi(e,n,s){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=s,nc(n),n=n.next;while(n!==c)}e.action=null}function nc(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function oo(e,n){return n}function _a(e,n){if(qt){var s=LA.formState;if(s!==null){e:{var c=mt;if(qt){if(EA){t:{for(var p=EA,x=KA;p.nodeType!==8;){if(!x){p=null;break t}if(p=Ta(p.nextSibling),p===null){p=null;break t}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){EA=Ta(p.nextSibling),c=p.data==="F!";break e}}Ts(c)}c=!1}c&&(n=s[0])}}return s=Ur(),s.memoizedState=s.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:n},s.queue=c,s=Zp.bind(null,mt,c),c.dispatch=s,c=zs(!1),x=_h.bind(null,mt,!1,c.queue),c=Ur(),p={state:n,dispatch:null,action:e,pending:null},c.queue=p,s=gd.bind(null,mt,p,x,s),p.dispatch=s,c.memoizedState=e,[n,s,!1]}function gs(e){var n=VA();return ps(n,bt,e)}function ps(e,n,s){if(n=nl(e,n,oo)[0],e=tc(Ha)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Ks(n)}catch(E){throw E===he?ae:E}else c=n;n=VA();var p=n.queue,x=p.dispatch;return s!==n.memoizedState&&(mt.flags|=2048,bi(9,{destroy:void 0},ac.bind(null,p,s),null)),[c,x,e]}function ac(e,n){e.action=n}function sc(e){var n=VA(),s=bt;if(s!==null)return ps(n,s,e);VA(),n=n.memoizedState,s=VA();var c=s.queue.dispatch;return s.memoizedState=e,[n,c,!1]}function bi(e,n,s,c){return e={tag:e,create:s,deps:c,inst:n,next:null},n=mt.updateQueue,n===null&&(n=lo(),mt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,n.lastEffect=e),e}function wd(){return VA().memoizedState}function al(e,n,s,c){var p=Ur();mt.flags|=e,p.memoizedState=bi(1|n,{destroy:void 0},s,c===void 0?null:c)}function sl(e,n,s,c){var p=VA();c=c===void 0?null:c;var x=p.memoizedState.inst;bt!==null&&c!==null&&Zc(c,bt.memoizedState.deps)?p.memoizedState=bi(n,x,s,c):(mt.flags|=e,p.memoizedState=bi(1|n,x,s,c))}function Dp(e,n){al(8390656,8,e,n)}function Eh(e,n){sl(2048,8,e,n)}function Dv(e){mt.flags|=4;var n=mt.updateQueue;if(n===null)n=lo(),mt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Mp(e){var n=VA().memoizedState;return Dv({ref:n,nextImpl:e}),function(){if((fA&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Op(e,n){return sl(4,2,e,n)}function Rp(e,n){return sl(4,4,e,n)}function Pp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kp(e,n,s){s=s!=null?s.concat([e]):null,sl(4,4,Pp.bind(null,n,e),s)}function kh(){}function zp(e,n){var s=VA();n=n===void 0?null:n;var c=s.memoizedState;return n!==null&&Zc(n,c[1])?c[0]:(s.memoizedState=[e,n],e)}function Vp(e,n){var s=VA();n=n===void 0?null:n;var c=s.memoizedState;if(n!==null&&Zc(n,c[1]))return c[0];if(c=e(),An){St(!0);try{e()}finally{St(!1)}}return s.memoizedState=[c,n],c}function Lh(e,n,s){return s===void 0||(zA&1073741824)!==0&&(Jt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=G1(),mt.lanes|=e,ol|=e,s)}function Gp(e,n,s,c){return kr(s,n)?s:Kt.current!==null?(e=Lh(e,s,c),kr(e,n)||(Qr=!0),e):(zA&42)===0||(zA&1073741824)!==0&&(Jt&261930)===0?(Qr=!0,e.memoizedState=s):(e=G1(),mt.lanes|=e,ol|=e,n)}function qp(e,n,s,c,p){var x=Y.p;Y.p=x!==0&&8>x?x:8;var E=R.T,X={};R.T=X,_h(e,!1,n,s);try{var de=p(),Qe=R.S;if(Qe!==null&&Qe(X,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var _e=O(de,c);su(e,n,_e,ga(e))}else su(e,n,c,ga(e))}catch(Re){su(e,n,{then:function(){},status:"rejected",reason:Re},ga())}finally{Y.p=x,E!==null&&X.types!==null&&(E.types=X.types),R.T=E}}function Mv(){}function jh(e,n,s,c){if(e.tag!==5)throw Error(a(476));var p=Xp(e).queue;qp(e,p,n,Z,s===null?Mv:function(){return Yp(e),s(c)})}function Xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:Z},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yp(e){var n=Xp(e);n.next===null&&(n=e.alternate.memoizedState),su(e,n.next.queue,{},ga())}function Hh(){return _r(Bu)}function Jp(){return VA().memoizedState}function Wp(){return VA().memoizedState}function Ov(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=ga();e=Ct(s);var c=Dt(n,e,s);c!==null&&(Yn(c,n,s),uA(c,n,s)),n={cache:Al()},e.payload=n;return}n=n.return}}function Rv(e,n,s){var c=ga();s={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},bd(e)?$p(n,s):(s=Ro(e,n,s,c),s!==null&&(Yn(s,e,c),e1(s,n,c)))}function Zp(e,n,s){var c=ga();su(e,n,s,c)}function su(e,n,s,c){var p={lane:c,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(bd(e))$p(n,p);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=n.lastRenderedReducer,x!==null))try{var E=n.lastRenderedState,X=x(E,s);if(p.hasEagerState=!0,p.eagerState=X,kr(X,E))return to(e,n,p,0),LA===null&&eo(),!1}catch{}finally{}if(s=Ro(e,n,p,c),s!==null)return Yn(s,e,c),e1(s,n,c),!0}return!1}function _h(e,n,s,c){if(c={lane:2,revertLane:f0(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bd(e)){if(n)throw Error(a(479))}else n=Ro(e,s,c,2),n!==null&&Yn(n,e,2)}function bd(e){var n=e.alternate;return e===mt||n!==null&&n===mt}function $p(e,n){zn=un=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function e1(e,n,s){if((s&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,s|=c,n.lanes=s,bn(e,s)}}var iu={readContext:_r,use:rl,useCallback:QA,useContext:QA,useEffect:QA,useImperativeHandle:QA,useLayoutEffect:QA,useInsertionEffect:QA,useMemo:QA,useReducer:QA,useRef:QA,useState:QA,useDebugValue:QA,useDeferredValue:QA,useTransition:QA,useSyncExternalStore:QA,useId:QA,useHostTransitionStatus:QA,useFormState:QA,useActionState:QA,useOptimistic:QA,useMemoCache:QA,useCacheRefresh:QA};iu.useEffectEvent=QA;var t1={readContext:_r,use:rl,useCallback:function(e,n){return Ur().memoizedState=[e,n===void 0?null:n],e},useContext:_r,useEffect:Dp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,al(4194308,4,Pp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return al(4194308,4,e,n)},useInsertionEffect:function(e,n){al(4,2,e,n)},useMemo:function(e,n){var s=Ur();n=n===void 0?null:n;var c=e();if(An){St(!0);try{e()}finally{St(!1)}}return s.memoizedState=[c,n],c},useReducer:function(e,n,s){var c=Ur();if(s!==void 0){var p=s(n);if(An){St(!0);try{s(n)}finally{St(!1)}}}else p=n;return c.memoizedState=c.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},c.queue=e,e=e.dispatch=Rv.bind(null,mt,e),[c.memoizedState,e]},useRef:function(e){var n=Ur();return e={current:e},n.memoizedState=e},useState:function(e){e=zs(e);var n=e.queue,s=Zp.bind(null,mt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:kh,useDeferredValue:function(e,n){var s=Ur();return Lh(s,e,n)},useTransition:function(){var e=zs(!1);return e=qp.bind(null,mt,e.queue,!0,!1),Ur().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var c=mt,p=Ur();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),LA===null)throw Error(a(349));(Jt&127)!==0||hs(c,n,s)}p.memoizedState=s;var x={value:s,getSnapshot:n};return p.queue=x,Dp(ru.bind(null,c,x,e),[e]),c.flags|=2048,bi(9,{destroy:void 0},Au.bind(null,c,x,s,n),null),s},useId:function(){var e=Ur(),n=LA.identifierPrefix;if(qt){var s=Pn,c=Rn;s=(c&~(1<<32-Vt(c)-1)).toString(32)+s,n="_"+n+"R_"+s,s=cr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Zo++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Hh,useFormState:_a,useActionState:_a,useOptimistic:function(e){var n=Ur();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=_h.bind(null,mt,!0,s),s.dispatch=n,[e,n]},useMemoCache:mi,useCacheRefresh:function(){return Ur().memoizedState=Ov.bind(null,mt)},useEffectEvent:function(e){var n=Ur(),s={impl:e};return n.memoizedState=s,function(){if((fA&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Th={readContext:_r,use:rl,useCallback:zp,useContext:_r,useEffect:Eh,useImperativeHandle:Kp,useInsertionEffect:Op,useLayoutEffect:Rp,useMemo:Vp,useReducer:tc,useRef:wd,useState:function(){return tc(Ha)},useDebugValue:kh,useDeferredValue:function(e,n){var s=VA();return Gp(s,bt.memoizedState,e,n)},useTransition:function(){var e=tc(Ha)[0],n=VA().memoizedState;return[typeof e=="boolean"?e:Ks(e),n]},useSyncExternalStore:rc,useId:Jp,useHostTransitionStatus:Hh,useFormState:gs,useActionState:gs,useOptimistic:function(e,n){var s=VA();return hd(s,bt,e,n)},useMemoCache:mi,useCacheRefresh:Wp};Th.useEffectEvent=Mp;var A1={readContext:_r,use:rl,useCallback:zp,useContext:_r,useEffect:Eh,useImperativeHandle:Kp,useInsertionEffect:Op,useLayoutEffect:Rp,useMemo:Vp,useReducer:Ac,useRef:wd,useState:function(){return Ac(Ha)},useDebugValue:kh,useDeferredValue:function(e,n){var s=VA();return bt===null?Lh(s,e,n):Gp(s,bt.memoizedState,e,n)},useTransition:function(){var e=Ac(Ha)[0],n=VA().memoizedState;return[typeof e=="boolean"?e:Ks(e),n]},useSyncExternalStore:rc,useId:Jp,useHostTransitionStatus:Hh,useFormState:sc,useActionState:sc,useOptimistic:function(e,n){var s=VA();return bt!==null?hd(s,bt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mi,useCacheRefresh:Wp};A1.useEffectEvent=Mp;function Ih(e,n,s,c){n=e.memoizedState,s=s(c,n),s=s==null?n:v({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Dh={enqueueSetState:function(e,n,s){e=e._reactInternals;var c=ga(),p=Ct(c);p.payload=n,s!=null&&(p.callback=s),n=Dt(e,p,c),n!==null&&(Yn(n,e,c),uA(n,e,c))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var c=ga(),p=Ct(c);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=Dt(e,p,c),n!==null&&(Yn(n,e,c),uA(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=ga(),c=Ct(s);c.tag=2,n!=null&&(c.callback=n),n=Dt(e,c,s),n!==null&&(Yn(n,e,s),uA(n,e,s))}};function r1(e,n,s,c,p,x,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,x,E):n.prototype&&n.prototype.isPureReactComponent?!is(s,c)||!is(p,x):!0}function n1(e,n,s,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,c),n.state!==e&&Dh.enqueueReplaceState(n,n.state,null)}function co(e,n){var s=n;if("ref"in n){s={};for(var c in n)c!=="ref"&&(s[c]=n[c])}if(e=e.defaultProps){s===n&&(s=v({},s));for(var p in e)s[p]===void 0&&(s[p]=e[p])}return s}function a1(e){$l(e)}function s1(e){console.error(e)}function i1(e){$l(e)}function xd(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function l1(e,n,s){try{var c=e.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Mh(e,n,s){return s=Ct(s),s.tag=3,s.payload={element:null},s.callback=function(){xd(e,n)},s}function o1(e){return e=Ct(e),e.tag=3,e}function c1(e,n,s,c){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var x=c.value;e.payload=function(){return p(x)},e.callback=function(){l1(n,s,c)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){l1(n,s,c),typeof p!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var X=c.stack;this.componentDidCatch(c.value,{componentStack:X!==null?X:""})})}function Pv(e,n,s,c,p){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=s.alternate,n!==null&&Ms(n,s,p,!0),s=OA.current,s!==null){switch(s.tag){case 31:case 13:return nA===null?Ld():s.alternate===null&&ur===0&&(ur=3),s.flags&=-257,s.flags|=65536,s.lanes=p,c===me?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([c]):n.add(c),c0(e,c,p)),!1;case 22:return s.flags|=65536,c===me?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([c]):s.add(c)),c0(e,c,p)),!1}throw Error(a(435,s.tag))}return c0(e,c,p),Ld(),!1}if(qt)return n=OA.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,c!==da&&(e=Error(a(422),{cause:c}),el(Dn(e,s)))):(c!==da&&(n=Error(a(423),{cause:c}),el(Dn(n,s))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,c=Dn(c,s),p=Mh(e.stateNode,c,p),gr(e,p),ur!==4&&(ur=2)),!1;var x=Error(a(520),{cause:c});if(x=Dn(x,s),gu===null?gu=[x]:gu.push(x),ur!==4&&(ur=2),n===null)return!0;c=Dn(c,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=p&-p,s.lanes|=e,e=Mh(s.stateNode,c,e),gr(s,e),!1;case 1:if(n=s.type,x=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cl===null||!cl.has(x))))return s.flags|=65536,p&=-p,s.lanes|=p,p=o1(p),c1(p,e,s,c),gr(s,p),!1}s=s.return}while(s!==null);return!1}var Oh=Error(a(461)),Qr=!1;function rn(e,n,s,c){n.child=e===null?_t(n,null,s,c):kA(n,e.child,s,c)}function u1(e,n,s,c,p){s=s.render;var x=n.ref;if("ref"in c){var E={};for(var X in c)X!=="ref"&&(E[X]=c[X])}else E=c;return Os(n),c=$c(e,n,s,E,x,p),X=eu(),e!==null&&!Qr?(tu(e,n,p),xi(e,n,p)):(qt&&X&&Yc(n),n.flags|=1,rn(e,n,c,p),n.child)}function d1(e,n,s,c,p){if(e===null){var x=s.type;return typeof x=="function"&&!Ko(x)&&x.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=x,f1(e,n,x,c,p)):(e=Wi(s.type,null,c,n,n.mode,p),e.ref=n.ref,e.return=n,n.child=e)}if(x=e.child,!Xh(e,p)){var E=x.memoizedProps;if(s=s.compare,s=s!==null?s:is,s(E,c)&&e.ref===n.ref)return xi(e,n,p)}return n.flags|=1,e=In(x,c),e.ref=n.ref,e.return=n,n.child=e}function f1(e,n,s,c,p){if(e!==null){var x=e.memoizedProps;if(is(x,c)&&e.ref===n.ref)if(Qr=!1,n.pendingProps=c=x,Xh(e,p))(e.flags&131072)!==0&&(Qr=!0);else return n.lanes=e.lanes,xi(e,n,p)}return Rh(e,n,s,c,p)}function h1(e,n,s,c){var p=c.children,x=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(x=x!==null?x.baseLanes|s:s,e!==null){for(c=n.child=e.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~x}else c=0,n.child=null;return g1(e,n,x,s,c)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&te(n,x!==null?x.cachePool:null),x!==null?MA(n,x):lA(),lr(n);else return c=n.lanes=536870912,g1(e,n,x!==null?x.baseLanes|s:s,s,c)}else x!==null?(te(n,x.cachePool),MA(n,x),or(),n.memoizedState=null):(e!==null&&te(n,null),lA(),or());return rn(e,n,p,s),n.child}function lu(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function g1(e,n,s,c,p){var x=W();return x=x===null?null:{parent:er._currentValue,pool:x},n.memoizedState={baseLanes:s,cachePool:x},e!==null&&te(n,null),lA(),lr(n),e!==null&&Ms(e,n,c,!0),n.childLanes=p,null}function vd(e,n){return n=Bd({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function p1(e,n,s){return kA(n,e.child,null,s),e=vd(n,n.pendingProps),e.flags|=2,mA(n),n.memoizedState=null,e}function Kv(e,n,s){var c=n.pendingProps,p=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(qt){if(c.mode==="hidden")return e=vd(n,c),n.lanes=536870912,lu(null,e);if(dA(n),(e=EA)?(e=Nm(e,KA),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Rn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},s=zo(e),s.return=n,n.child=s,jr=n,EA=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return vd(n,c)}var x=e.memoizedState;if(x!==null){var E=x.dehydrated;if(dA(n),p)if(n.flags&256)n.flags&=-257,n=p1(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qr||Ms(e,n,s,!1),p=(s&e.childLanes)!==0,Qr||p){if(c=LA,c!==null&&(E=xn(c,s),E!==0&&E!==x.retryLane))throw x.retryLane=E,us(e,E),Yn(c,e,E),Oh;Ld(),n=p1(e,n,s)}else e=x.treeContext,EA=Ta(E.nextSibling),jr=n,qt=!0,tn=null,KA=!1,e!==null&&ud(n,e),n=vd(n,c),n.flags|=4096;return n}return e=In(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function yd(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Rh(e,n,s,c,p){return Os(n),s=$c(e,n,s,c,void 0,p),c=eu(),e!==null&&!Qr?(tu(e,n,p),xi(e,n,p)):(qt&&c&&Yc(n),n.flags|=1,rn(e,n,s,p),n.child)}function m1(e,n,s,c,p,x){return Os(n),n.updateQueue=null,s=fs(n,c,s,p),$o(e),c=eu(),e!==null&&!Qr?(tu(e,n,x),xi(e,n,x)):(qt&&c&&Yc(n),n.flags|=1,rn(e,n,s,x),n.child)}function w1(e,n,s,c,p){if(Os(n),n.stateNode===null){var x=Lr,E=s.contextType;typeof E=="object"&&E!==null&&(x=_r(E)),x=new s(c,x),n.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Dh,n.stateNode=x,x._reactInternals=n,x=n.stateNode,x.props=c,x.state=n.memoizedState,x.refs={},Je(n),E=s.contextType,x.context=typeof E=="object"&&E!==null?_r(E):Lr,x.state=n.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Ih(n,s,E,c),x.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Dh.enqueueReplaceState(x,x.state,null),sr(n,c,x,p),UA(),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){x=n.stateNode;var X=n.memoizedProps,de=co(s,X);x.props=de;var Qe=x.context,_e=s.contextType;E=Lr,typeof _e=="object"&&_e!==null&&(E=_r(_e));var Re=s.getDerivedStateFromProps;_e=typeof Re=="function"||typeof x.getSnapshotBeforeUpdate=="function",X=n.pendingProps!==X,_e||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(X||Qe!==E)&&n1(n,x,c,E),tt=!1;var Fe=n.memoizedState;x.state=Fe,sr(n,c,x,p),UA(),Qe=n.memoizedState,X||Fe!==Qe||tt?(typeof Re=="function"&&(Ih(n,s,Re,c),Qe=n.memoizedState),(de=tt||r1(n,s,de,c,Fe,Qe,E))?(_e||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=Qe),x.props=c,x.state=Qe,x.context=E,c=de):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{x=n.stateNode,DA(e,n),E=n.memoizedProps,_e=co(s,E),x.props=_e,Re=n.pendingProps,Fe=x.context,Qe=s.contextType,de=Lr,typeof Qe=="object"&&Qe!==null&&(de=_r(Qe)),X=s.getDerivedStateFromProps,(Qe=typeof X=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==Re||Fe!==de)&&n1(n,x,c,de),tt=!1,Fe=n.memoizedState,x.state=Fe,sr(n,c,x,p),UA();var Ee=n.memoizedState;E!==Re||Fe!==Ee||tt||e!==null&&e.dependencies!==null&&Yo(e.dependencies)?(typeof X=="function"&&(Ih(n,s,X,c),Ee=n.memoizedState),(_e=tt||r1(n,s,_e,c,Fe,Ee,de)||e!==null&&e.dependencies!==null&&Yo(e.dependencies))?(Qe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,Ee,de),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,Ee,de)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===e.memoizedProps&&Fe===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Fe===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Ee),x.props=c,x.state=Ee,x.context=de,c=_e):(typeof x.componentDidUpdate!="function"||E===e.memoizedProps&&Fe===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&Fe===e.memoizedState||(n.flags|=1024),c=!1)}return x=c,yd(e,n),c=(n.flags&128)!==0,x||c?(x=n.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:x.render(),n.flags|=1,e!==null&&c?(n.child=kA(n,e.child,null,p),n.child=kA(n,null,s,p)):rn(e,n,s,p),n.memoizedState=x.state,e=n.child):e=xi(e,n,p),e}function b1(e,n,s,c){return gi(),n.flags|=256,rn(e,n,s,c),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kh(e){return{baseLanes:e,cachePool:se()}}function zh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=ha),e}function x1(e,n,s){var c=n.pendingProps,p=!1,x=(n.flags&128)!==0,E;if((E=x)||(E=e!==null&&e.memoizedState===null?!1:(AA.current&2)!==0),E&&(p=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,e===null){if(qt){if(p?tr(n):or(),(e=EA)?(e=Nm(e,KA),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Rn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},s=zo(e),s.return=n,n.child=s,jr=n,EA=null)):e=null,e===null)throw Ts(n);return Q0(e)?n.lanes=32:n.lanes=536870912,null}var X=c.children;return c=c.fallback,p?(or(),p=n.mode,X=Bd({mode:"hidden",children:X},p),c=Hs(c,p,s,null),X.return=n,c.return=n,X.sibling=c,n.child=X,c=n.child,c.memoizedState=Kh(s),c.childLanes=zh(e,E,s),n.memoizedState=Ph,lu(null,c)):(tr(n),Vh(n,X))}var de=e.memoizedState;if(de!==null&&(X=de.dehydrated,X!==null)){if(x)n.flags&256?(tr(n),n.flags&=-257,n=Gh(e,n,s)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),X=c.fallback,p=n.mode,c=Bd({mode:"visible",children:c.children},p),X=Hs(X,p,s,null),X.flags|=2,c.return=n,X.return=n,c.sibling=X,n.child=c,kA(n,e.child,null,s),c=n.child,c.memoizedState=Kh(s),c.childLanes=zh(e,E,s),n.memoizedState=Ph,n=lu(null,c));else if(tr(n),Q0(X)){if(E=X.nextSibling&&X.nextSibling.dataset,E)var Qe=E.dgst;E=Qe,c=Error(a(419)),c.stack="",c.digest=E,el({value:c,source:null,stack:null}),n=Gh(e,n,s)}else if(Qr||Ms(e,n,s,!1),E=(s&e.childLanes)!==0,Qr||E){if(E=LA,E!==null&&(c=xn(E,s),c!==0&&c!==de.retryLane))throw de.retryLane=c,us(e,c),Yn(E,e,c),Oh;U0(X)||Ld(),n=Gh(e,n,s)}else U0(X)?(n.flags|=192,n.child=e.child,n=null):(e=de.treeContext,EA=Ta(X.nextSibling),jr=n,qt=!0,tn=null,KA=!1,e!==null&&ud(n,e),n=Vh(n,c.children),n.flags|=4096);return n}return p?(or(),X=c.fallback,p=n.mode,de=e.child,Qe=de.sibling,c=In(de,{mode:"hidden",children:c.children}),c.subtreeFlags=de.subtreeFlags&65011712,Qe!==null?X=In(Qe,X):(X=Hs(X,p,s,null),X.flags|=2),X.return=n,c.return=n,c.sibling=X,n.child=c,lu(null,c),c=n.child,X=e.child.memoizedState,X===null?X=Kh(s):(p=X.cachePool,p!==null?(de=er._currentValue,p=p.parent!==de?{parent:de,pool:de}:p):p=se(),X={baseLanes:X.baseLanes|s,cachePool:p}),c.memoizedState=X,c.childLanes=zh(e,E,s),n.memoizedState=Ph,lu(e.child,c)):(tr(n),s=e.child,e=s.sibling,s=In(s,{mode:"visible",children:c.children}),s.return=n,s.sibling=null,e!==null&&(E=n.deletions,E===null?(n.deletions=[e],n.flags|=16):E.push(e)),n.child=s,n.memoizedState=null,s)}function Vh(e,n){return n=Bd({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bd(e,n){return e=zr(22,e,null,n),e.lanes=0,e}function Gh(e,n,s){return kA(n,e.child,null,s),e=Vh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function v1(e,n,s){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),tl(e.return,n,s)}function qh(e,n,s,c,p,x){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:p,treeForkCount:x}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=s,E.tailMode=p,E.treeForkCount=x)}function y1(e,n,s){var c=n.pendingProps,p=c.revealOrder,x=c.tail;c=c.children;var E=AA.current,X=(E&2)!==0;if(X?(E=E&1|2,n.flags|=128):E&=1,q(AA,E),rn(e,n,c,s),c=qt?ao:0,!X&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&v1(e,s,n);else if(e.tag===19)v1(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(s=n.child,p=null;s!==null;)e=s.alternate,e!==null&&Gr(e)===null&&(p=s),s=s.sibling;s=p,s===null?(p=n.child,n.child=null):(p=s.sibling,s.sibling=null),qh(n,!1,p,s,x,c);break;case"backwards":case"unstable_legacy-backwards":for(s=null,p=n.child,n.child=null;p!==null;){if(e=p.alternate,e!==null&&Gr(e)===null){n.child=p;break}e=p.sibling,p.sibling=s,s=p,p=e}qh(n,!0,s,null,x,c);break;case"together":qh(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function xi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),ol|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ms(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=In(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=In(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Xh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Yo(e)))}function zv(e,n,s){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),Ds(n,er,e.memoizedState.cache),gi();break;case 27:case 5:Le(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dA(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(tr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?x1(e,n,s):(tr(n),e=xi(e,n,s),e!==null?e.sibling:null);tr(n);break;case 19:var p=(e.flags&128)!==0;if(c=(s&n.childLanes)!==0,c||(Ms(e,n,s,!1),c=(s&n.childLanes)!==0),p){if(c)return y1(e,n,s);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),q(AA,AA.current),c)break;return null;case 22:return n.lanes=0,h1(e,n,s,n.pendingProps);case 24:Ds(n,er,e.memoizedState.cache)}return xi(e,n,s)}function B1(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qr=!0;else{if(!Xh(e,s)&&(n.flags&128)===0)return Qr=!1,zv(e,n,s);Qr=(e.flags&131072)!==0}else Qr=!1,qt&&(n.flags&1048576)!==0&&cd(n,ao,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=Be(n.elementType),n.type=e,typeof e=="function")Ko(e)?(c=co(e,c),n.tag=1,n=w1(null,n,e,c,s)):(n.tag=0,n=Rh(null,n,e,c,s));else{if(e!=null){var p=e.$$typeof;if(p===k){n.tag=11,n=u1(null,n,e,c,s);break e}else if(p===ne){n.tag=14,n=d1(null,n,e,c,s);break e}}throw n=K(e)||e,Error(a(306,n,""))}}return n;case 0:return Rh(e,n,n.type,n.pendingProps,s);case 1:return c=n.type,p=co(c,n.pendingProps),w1(e,n,c,p,s);case 3:e:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(a(387));c=n.pendingProps;var x=n.memoizedState;p=x.element,DA(e,n),sr(n,c,null,s);var E=n.memoizedState;if(c=E.cache,Ds(n,er,c),c!==x.cache&&pi(n,[er],s,!0),UA(),c=E.element,x.isDehydrated)if(x={element:c,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=x,n.memoizedState=x,n.flags&256){n=b1(e,n,c,s);break e}else if(c!==p){p=Dn(Error(a(424)),n),el(p),n=b1(e,n,c,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(EA=Ta(e.firstChild),jr=n,qt=!0,tn=null,KA=!0,s=_t(n,null,c,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(gi(),c===p){n=xi(e,n,s);break e}rn(e,n,c,s)}n=n.child}return n;case 26:return yd(e,n),e===null?(s=Hm(n.type,null,n.pendingProps,null))?n.memoizedState=s:qt||(s=n.type,e=n.pendingProps,c=Md(oe.current).createElement(s),c[pA]=n,c[TA]=e,nn(c,s,e),JA(c),n.stateNode=c):n.memoizedState=Hm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Le(n),e===null&&qt&&(c=n.stateNode=km(n.type,n.pendingProps,oe.current),jr=n,KA=!0,p=EA,hl(n.type)?(F0=p,EA=Ta(c.firstChild)):EA=p),rn(e,n,n.pendingProps.children,s),yd(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&qt&&((p=c=EA)&&(c=xy(c,n.type,n.pendingProps,KA),c!==null?(n.stateNode=c,jr=n,EA=Ta(c.firstChild),KA=!1,p=!0):p=!1),p||Ts(n)),Le(n),p=n.type,x=n.pendingProps,E=e!==null?e.memoizedProps:null,c=x.children,y0(p,x)?c=null:E!==null&&y0(p,E)&&(n.flags|=32),n.memoizedState!==null&&(p=$c(e,n,Sh,null,null,s),Bu._currentValue=p),yd(e,n),rn(e,n,c,s),n.child;case 6:return e===null&&qt&&((e=s=EA)&&(s=vy(s,n.pendingProps,KA),s!==null?(n.stateNode=s,jr=n,EA=null,e=!0):e=!1),e||Ts(n)),null;case 13:return x1(e,n,s);case 4:return Se(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=kA(n,null,c,s):rn(e,n,c,s),n.child;case 11:return u1(e,n,n.type,n.pendingProps,s);case 7:return rn(e,n,n.pendingProps,s),n.child;case 8:return rn(e,n,n.pendingProps.children,s),n.child;case 12:return rn(e,n,n.pendingProps.children,s),n.child;case 10:return c=n.pendingProps,Ds(n,n.type,c.value),rn(e,n,c.children,s),n.child;case 9:return p=n.type._context,c=n.pendingProps.children,Os(n),p=_r(p),c=c(p),n.flags|=1,rn(e,n,c,s),n.child;case 14:return d1(e,n,n.type,n.pendingProps,s);case 15:return f1(e,n,n.type,n.pendingProps,s);case 19:return y1(e,n,s);case 31:return Kv(e,n,s);case 22:return h1(e,n,s,n.pendingProps);case 24:return Os(n),c=_r(er),e===null?(p=W(),p===null&&(p=LA,x=Al(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=s),p=x),n.memoizedState={parent:c,cache:p},Je(n),Ds(n,er,p)):((e.lanes&s)!==0&&(DA(e,n),sr(n,null,null,s),UA()),p=e.memoizedState,x=n.memoizedState,p.parent!==c?(p={parent:c,cache:c},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Ds(n,er,c)):(c=x.cache,Ds(n,er,c),c!==p.cache&&pi(n,[er],s,!0))),rn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function vi(e){e.flags|=4}function Yh(e,n,s,c,p){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(J1())e.flags|=8192;else throw je=me,Ce}else e.flags&=-16777217}function C1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Mm(n))if(J1())e.flags|=8192;else throw je=me,Ce}function Cd(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ba():536870912,e.lanes|=n,cc|=n)}function ou(e,n){if(!qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function RA(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(n)for(var p=e.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)s|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=c,e.childLanes=s,n}function Vv(e,n,s){var c=n.pendingProps;switch(qo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return RA(n),null;case 1:return RA(n),null;case 3:return s=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Kn(er),Ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Hr(n)?vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),RA(n),null;case 26:var p=n.type,x=n.memoizedState;return e===null?(vi(n),x!==null?(RA(n),C1(n,x)):(RA(n),Yh(n,p,null,c,s))):x?x!==e.memoizedState?(vi(n),RA(n),C1(n,x)):(RA(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&vi(n),RA(n),Yh(n,p,e,c,s)),null;case 27:if(Te(n),s=oe.current,p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&vi(n);else{if(!c){if(n.stateNode===null)throw Error(a(166));return RA(n),null}e=$.current,Hr(n)?Jc(n):(e=km(p,c,s),n.stateNode=e,vi(n))}return RA(n),null;case 5:if(Te(n),p=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&vi(n);else{if(!c){if(n.stateNode===null)throw Error(a(166));return RA(n),null}if(x=$.current,Hr(n))Jc(n);else{var E=Md(oe.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?x.multiple=!0:c.size&&(x.size=c.size);break;default:x=typeof c.is=="string"?E.createElement(p,{is:c.is}):E.createElement(p)}}x[pA]=n,x[TA]=c;e:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break e;for(;E.sibling===null;){if(E.return===null||E.return===n)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=x;e:switch(nn(x,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&vi(n)}}return RA(n),Yh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&vi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(a(166));if(e=oe.current,Hr(n)){if(e=n.stateNode,s=n.memoizedProps,c=null,p=jr,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}e[pA]=n,e=!!(e.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||xm(e.nodeValue,s)),e||Ts(n,!0)}else e=Md(e).createTextNode(c),e[pA]=n,n.stateNode=e}return RA(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(c=Hr(n),s!==null){if(e===null){if(!c)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[pA]=n}else gi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;RA(n),e=!1}else s=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(mA(n),n):(mA(n),null);if((n.flags&128)!==0)throw Error(a(558))}return RA(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Hr(n),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[pA]=n}else gi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;RA(n),p=!1}else p=Wc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(mA(n),n):(mA(n),null)}return mA(n),(n.flags&128)!==0?(n.lanes=s,n):(s=c!==null,e=e!==null&&e.memoizedState!==null,s&&(c=n.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==p&&(c.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Cd(n,n.updateQueue),RA(n),null);case 4:return Ne(),e===null&&m0(n.stateNode.containerInfo),RA(n),null;case 10:return Kn(n.type),RA(n),null;case 19:if(T(AA),c=n.memoizedState,c===null)return RA(n),null;if(p=(n.flags&128)!==0,x=c.rendering,x===null)if(p)ou(c,!1);else{if(ur!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=Gr(e),x!==null){for(n.flags|=128,ou(c,!1),e=x.updateQueue,n.updateQueue=e,Cd(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)ro(s,e),s=s.sibling;return q(AA,AA.current&1|2),qt&&Sn(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&yt()>Sd&&(n.flags|=128,p=!0,ou(c,!1),n.lanes=4194304)}else{if(!p)if(e=Gr(x),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,n.updateQueue=e,Cd(n,e),ou(c,!0),c.tail===null&&c.tailMode==="hidden"&&!x.alternate&&!qt)return RA(n),null}else 2*yt()-c.renderingStartTime>Sd&&s!==536870912&&(n.flags|=128,p=!0,ou(c,!1),n.lanes=4194304);c.isBackwards?(x.sibling=n.child,n.child=x):(e=c.last,e!==null?e.sibling=x:n.child=x,c.last=x)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=yt(),e.sibling=null,s=AA.current,q(AA,p?s&1|2:s&1),qt&&Sn(n,c.treeForkCount),e):(RA(n),null);case 22:case 23:return mA(n),pr(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(s&536870912)!==0&&(n.flags&128)===0&&(RA(n),n.subtreeFlags&6&&(n.flags|=8192)):RA(n),s=n.updateQueue,s!==null&&Cd(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==s&&(n.flags|=2048),e!==null&&T(G),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Kn(er),RA(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Gv(e,n){switch(qo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Kn(er),Ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Te(n),null;case 31:if(n.memoizedState!==null){if(mA(n),n.alternate===null)throw Error(a(340));gi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mA(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));gi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return T(AA),null;case 4:return Ne(),null;case 10:return Kn(n.type),null;case 22:case 23:return mA(n),pr(),e!==null&&T(G),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Kn(er),null;case 25:return null;default:return null}}function U1(e,n){switch(qo(n),n.tag){case 3:Kn(er),Ne();break;case 26:case 27:case 5:Te(n);break;case 4:Ne();break;case 31:n.memoizedState!==null&&mA(n);break;case 13:mA(n);break;case 19:T(AA);break;case 10:Kn(n.type);break;case 22:case 23:mA(n),pr(),e!==null&&T(G);break;case 24:Kn(er)}}function cu(e,n){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var p=c.next;s=p;do{if((s.tag&e)===e){c=void 0;var x=s.create,E=s.inst;c=x(),E.destroy=c}s=s.next}while(s!==p)}}catch(X){bA(n,n.return,X)}}function il(e,n,s){try{var c=n.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var x=p.next;c=x;do{if((c.tag&e)===e){var E=c.inst,X=E.destroy;if(X!==void 0){E.destroy=void 0,p=n;var de=s,Qe=X;try{Qe()}catch(_e){bA(p,de,_e)}}}c=c.next}while(c!==x)}}catch(_e){bA(n,n.return,_e)}}function Q1(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ir(n,s)}catch(c){bA(e,e.return,c)}}}function F1(e,n,s){s.props=co(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(c){bA(e,n,c)}}function uu(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof s=="function"?e.refCleanup=s(c):s.current=c}}catch(p){bA(e,n,p)}}function Vs(e,n){var s=e.ref,c=e.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(p){bA(e,n,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){bA(e,n,p)}else s.current=null}function N1(e){var n=e.type,s=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(p){bA(e,e.return,p)}}function Jh(e,n,s){try{var c=e.stateNode;hy(c,e.type,s,n),c[TA]=n}catch(p){bA(e,e.return,p)}}function S1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hl(e.type)||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zh(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=sa));else if(c!==4&&(c===27&&hl(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Zh(e,n,s),e=e.sibling;e!==null;)Zh(e,n,s),e=e.sibling}function Ud(e,n,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(c!==4&&(c===27&&hl(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ud(e,n,s),e=e.sibling;e!==null;)Ud(e,n,s),e=e.sibling}function E1(e){var n=e.stateNode,s=e.memoizedProps;try{for(var c=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);nn(n,c,s),n[pA]=e,n[TA]=s}catch(x){bA(e,e.return,x)}}var yi=!1,Fr=!1,$h=!1,k1=typeof WeakSet=="function"?WeakSet:Set,qr=null;function qv(e,n){if(e=e.containerInfo,x0=Gd,e=os(e),ka(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var p=c.anchorOffset,x=c.focusNode;c=c.focusOffset;try{s.nodeType,x.nodeType}catch{s=null;break e}var E=0,X=-1,de=-1,Qe=0,_e=0,Re=e,Fe=null;t:for(;;){for(var Ee;Re!==s||p!==0&&Re.nodeType!==3||(X=E+p),Re!==x||c!==0&&Re.nodeType!==3||(de=E+c),Re.nodeType===3&&(E+=Re.nodeValue.length),(Ee=Re.firstChild)!==null;)Fe=Re,Re=Ee;for(;;){if(Re===e)break t;if(Fe===s&&++Qe===p&&(X=E),Fe===x&&++_e===c&&(de=E),(Ee=Re.nextSibling)!==null)break;Re=Fe,Fe=Re.parentNode}Re=Ee}s=X===-1||de===-1?null:{start:X,end:de}}else s=null}s=s||{start:0,end:0}}else s=null;for(v0={focusedElem:e,selectionRange:s},Gd=!1,qr=n;qr!==null;)if(n=qr,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qr=e;else for(;qr!==null;){switch(n=qr,x=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)p=e[s],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,s=n,p=x.memoizedProps,x=x.memoizedState,c=s.stateNode;try{var st=co(s.type,p);e=c.getSnapshotBeforeUpdate(st,x),c.__reactInternalSnapshotBeforeUpdate=e}catch(Qt){bA(s,s.return,Qt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)C0(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":C0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qr=e;break}qr=n.return}}function L1(e,n,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(e,s),c&4&&cu(5,s);break;case 1:if(Ci(e,s),c&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(E){bA(s,s.return,E)}else{var p=co(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(p,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){bA(s,s.return,E)}}c&64&&Q1(s),c&512&&uu(s,s.return);break;case 3:if(Ci(e,s),c&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ir(e,n)}catch(E){bA(s,s.return,E)}}break;case 27:n===null&&c&4&&E1(s);case 26:case 5:Ci(e,s),n===null&&c&4&&N1(s),c&512&&uu(s,s.return);break;case 12:Ci(e,s);break;case 31:Ci(e,s),c&4&&_1(e,s);break;case 13:Ci(e,s),c&4&&T1(e,s),c&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Ay.bind(null,s),yy(e,s))));break;case 22:if(c=s.memoizedState!==null||yi,!c){n=n!==null&&n.memoizedState!==null||Fr,p=yi;var x=Fr;yi=c,(Fr=n)&&!x?Ui(e,s,(s.subtreeFlags&8772)!==0):Ci(e,s),yi=p,Fr=x}break;case 30:break;default:Ci(e,s)}}function j1(e){var n=e.alternate;n!==null&&(e.alternate=null,j1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ns(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var GA=null,Vn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)H1(e,n,s),s=s.sibling}function H1(e,n,s){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(zt,s)}catch{}switch(s.tag){case 26:Fr||Vs(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Fr||Vs(s,n);var c=GA,p=Vn;hl(s.type)&&(GA=s.stateNode,Vn=!1),Bi(e,n,s),xu(s.stateNode),GA=c,Vn=p;break;case 5:Fr||Vs(s,n);case 6:if(c=GA,p=Vn,GA=null,Bi(e,n,s),GA=c,Vn=p,GA!==null)if(Vn)try{(GA.nodeType===9?GA.body:GA.nodeName==="HTML"?GA.ownerDocument.body:GA).removeChild(s.stateNode)}catch(x){bA(s,n,x)}else try{GA.removeChild(s.stateNode)}catch(x){bA(s,n,x)}break;case 18:GA!==null&&(Vn?(e=GA,Qm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),wc(e)):Qm(GA,s.stateNode));break;case 4:c=GA,p=Vn,GA=s.stateNode.containerInfo,Vn=!0,Bi(e,n,s),GA=c,Vn=p;break;case 0:case 11:case 14:case 15:il(2,s,n),Fr||il(4,s,n),Bi(e,n,s);break;case 1:Fr||(Vs(s,n),c=s.stateNode,typeof c.componentWillUnmount=="function"&&F1(s,n,c)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Fr=(c=Fr)||s.memoizedState!==null,Bi(e,n,s),Fr=c;break;default:Bi(e,n,s)}}function _1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wc(e)}catch(s){bA(n,n.return,s)}}}function T1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wc(e)}catch(s){bA(n,n.return,s)}}function Xv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new k1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new k1),n;default:throw Error(a(435,e.tag))}}function Qd(e,n){var s=Xv(e);n.forEach(function(c){if(!s.has(c)){s.add(c);var p=ry.bind(null,e,c);c.then(p,p)}})}function Gn(e,n){var s=n.deletions;if(s!==null)for(var c=0;c<s.length;c++){var p=s[c],x=e,E=n,X=E;e:for(;X!==null;){switch(X.tag){case 27:if(hl(X.type)){GA=X.stateNode,Vn=!1;break e}break;case 5:GA=X.stateNode,Vn=!1;break e;case 3:case 4:GA=X.stateNode.containerInfo,Vn=!0;break e}X=X.return}if(GA===null)throw Error(a(160));H1(x,E,p),GA=null,Vn=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)I1(n,e),n=n.sibling}var ms=null;function I1(e,n){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gn(n,e),qn(e),c&4&&(il(3,e,e.return),cu(3,e),il(5,e,e.return));break;case 1:Gn(n,e),qn(e),c&512&&(Fr||s===null||Vs(s,s.return)),c&64&&yi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var p=ms;if(Gn(n,e),qn(e),c&512&&(Fr||s===null||Vs(s,s.return)),c&4){var x=s!==null?s.memoizedState:null;if(c=e.memoizedState,s===null)if(c===null)if(e.stateNode===null){e:{c=e.type,s=e.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":x=p.getElementsByTagName("title")[0],(!x||x[ea]||x[pA]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(c),p.head.insertBefore(x,p.querySelector("head > title"))),nn(x,c,s),x[pA]=e,JA(x),c=x;break e;case"link":var E=Im("link","href",p).get(c+(s.href||""));if(E){for(var X=0;X<E.length;X++)if(x=E[X],x.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&x.getAttribute("rel")===(s.rel==null?null:s.rel)&&x.getAttribute("title")===(s.title==null?null:s.title)&&x.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(X,1);break t}}x=p.createElement(c),nn(x,c,s),p.head.appendChild(x);break;case"meta":if(E=Im("meta","content",p).get(c+(s.content||""))){for(X=0;X<E.length;X++)if(x=E[X],x.getAttribute("content")===(s.content==null?null:""+s.content)&&x.getAttribute("name")===(s.name==null?null:s.name)&&x.getAttribute("property")===(s.property==null?null:s.property)&&x.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&x.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(X,1);break t}}x=p.createElement(c),nn(x,c,s),p.head.appendChild(x);break;default:throw Error(a(468,c))}x[pA]=e,JA(x),c=x}e.stateNode=c}else Dm(p,e.type,e.stateNode);else e.stateNode=Tm(p,c,e.memoizedProps);else x!==c?(x===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):x.count--,c===null?Dm(p,e.type,e.stateNode):Tm(p,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Jh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Gn(n,e),qn(e),c&512&&(Fr||s===null||Vs(s,s.return)),s!==null&&c&4&&Jh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Gn(n,e),qn(e),c&512&&(Fr||s===null||Vs(s,s.return)),e.flags&32){p=e.stateNode;try{aa(p,"")}catch(st){bA(e,e.return,st)}}c&4&&e.stateNode!=null&&(p=e.memoizedProps,Jh(e,p,s!==null?s.memoizedProps:p)),c&1024&&($h=!0);break;case 6:if(Gn(n,e),qn(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,s=e.stateNode;try{s.nodeValue=c}catch(st){bA(e,e.return,st)}}break;case 3:if(Pd=null,p=ms,ms=Od(n.containerInfo),Gn(n,e),ms=p,qn(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{wc(n.containerInfo)}catch(st){bA(e,e.return,st)}$h&&($h=!1,D1(e));break;case 4:c=ms,ms=Od(e.stateNode.containerInfo),Gn(n,e),qn(e),ms=c;break;case 12:Gn(n,e),qn(e);break;case 31:Gn(n,e),qn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Qd(e,c)));break;case 13:Gn(n,e),qn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Nd=yt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Qd(e,c)));break;case 22:p=e.memoizedState!==null;var de=s!==null&&s.memoizedState!==null,Qe=yi,_e=Fr;if(yi=Qe||p,Fr=_e||de,Gn(n,e),Fr=_e,yi=Qe,qn(e),c&8192)e:for(n=e.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(s===null||de||yi||Fr||uo(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){de=s=n;try{if(x=de.stateNode,p)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{X=de.stateNode;var Re=de.memoizedProps.style,Fe=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;X.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(st){bA(de,de.return,st)}}}else if(n.tag===6){if(s===null){de=n;try{de.stateNode.nodeValue=p?"":de.memoizedProps}catch(st){bA(de,de.return,st)}}}else if(n.tag===18){if(s===null){de=n;try{var Ee=de.stateNode;p?Fm(Ee,!0):Fm(de.stateNode,!1)}catch(st){bA(de,de.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Qd(e,s))));break;case 19:Gn(n,e),qn(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Qd(e,c)));break;case 30:break;case 21:break;default:Gn(n,e),qn(e)}}function qn(e){var n=e.flags;if(n&2){try{for(var s,c=e.return;c!==null;){if(S1(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var p=s.stateNode,x=Wh(e);Ud(e,x,p);break;case 5:var E=s.stateNode;s.flags&32&&(aa(E,""),s.flags&=-33);var X=Wh(e);Ud(e,X,E);break;case 3:case 4:var de=s.stateNode.containerInfo,Qe=Wh(e);Zh(e,Qe,de);break;default:throw Error(a(161))}}catch(_e){bA(e,e.return,_e)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function D1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;D1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ci(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)L1(e,n.alternate,n),n=n.sibling}function uo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:il(4,n,n.return),uo(n);break;case 1:Vs(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&F1(n,n.return,s),uo(n);break;case 27:xu(n.stateNode);case 26:case 5:Vs(n,n.return),uo(n);break;case 22:n.memoizedState===null&&uo(n);break;case 30:uo(n);break;default:uo(n)}e=e.sibling}}function Ui(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,p=e,x=n,E=x.flags;switch(x.tag){case 0:case 11:case 15:Ui(p,x,s),cu(4,x);break;case 1:if(Ui(p,x,s),c=x,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Qe){bA(c,c.return,Qe)}if(c=x,p=c.updateQueue,p!==null){var X=c.stateNode;try{var de=p.shared.hiddenCallbacks;if(de!==null)for(p.shared.hiddenCallbacks=null,p=0;p<de.length;p++)Vr(de[p],X)}catch(Qe){bA(c,c.return,Qe)}}s&&E&64&&Q1(x),uu(x,x.return);break;case 27:E1(x);case 26:case 5:Ui(p,x,s),s&&c===null&&E&4&&N1(x),uu(x,x.return);break;case 12:Ui(p,x,s);break;case 31:Ui(p,x,s),s&&E&4&&_1(p,x);break;case 13:Ui(p,x,s),s&&E&4&&T1(p,x);break;case 22:x.memoizedState===null&&Ui(p,x,s),uu(x,x.return);break;case 30:break;default:Ui(p,x,s)}n=n.sibling}}function e0(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&so(s))}function t0(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&so(e))}function ws(e,n,s,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)M1(e,n,s,c),n=n.sibling}function M1(e,n,s,c){var p=n.flags;switch(n.tag){case 0:case 11:case 15:ws(e,n,s,c),p&2048&&cu(9,n);break;case 1:ws(e,n,s,c);break;case 3:ws(e,n,s,c),p&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&so(e)));break;case 12:if(p&2048){ws(e,n,s,c),e=n.stateNode;try{var x=n.memoizedProps,E=x.id,X=x.onPostCommit;typeof X=="function"&&X(E,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(de){bA(n,n.return,de)}}else ws(e,n,s,c);break;case 31:ws(e,n,s,c);break;case 13:ws(e,n,s,c);break;case 23:break;case 22:x=n.stateNode,E=n.alternate,n.memoizedState!==null?x._visibility&2?ws(e,n,s,c):du(e,n):x._visibility&2?ws(e,n,s,c):(x._visibility|=2,ic(e,n,s,c,(n.subtreeFlags&10256)!==0||!1)),p&2048&&e0(E,n);break;case 24:ws(e,n,s,c),p&2048&&t0(n.alternate,n);break;default:ws(e,n,s,c)}}function ic(e,n,s,c,p){for(p=p&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var x=e,E=n,X=s,de=c,Qe=E.flags;switch(E.tag){case 0:case 11:case 15:ic(x,E,X,de,p),cu(8,E);break;case 23:break;case 22:var _e=E.stateNode;E.memoizedState!==null?_e._visibility&2?ic(x,E,X,de,p):du(x,E):(_e._visibility|=2,ic(x,E,X,de,p)),p&&Qe&2048&&e0(E.alternate,E);break;case 24:ic(x,E,X,de,p),p&&Qe&2048&&t0(E.alternate,E);break;default:ic(x,E,X,de,p)}n=n.sibling}}function du(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,c=n,p=c.flags;switch(c.tag){case 22:du(s,c),p&2048&&e0(c.alternate,c);break;case 24:du(s,c),p&2048&&t0(c.alternate,c);break;default:du(s,c)}n=n.sibling}}var fu=8192;function lc(e,n,s){if(e.subtreeFlags&fu)for(e=e.child;e!==null;)O1(e,n,s),e=e.sibling}function O1(e,n,s){switch(e.tag){case 26:lc(e,n,s),e.flags&fu&&e.memoizedState!==null&&Hy(s,ms,e.memoizedState,e.memoizedProps);break;case 5:lc(e,n,s);break;case 3:case 4:var c=ms;ms=Od(e.stateNode.containerInfo),lc(e,n,s),ms=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=fu,fu=16777216,lc(e,n,s),fu=c):lc(e,n,s));break;default:lc(e,n,s)}}function R1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];qr=c,K1(c,e)}R1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P1(e),e=e.sibling}function P1(e){switch(e.tag){case 0:case 11:case 15:hu(e),e.flags&2048&&il(9,e,e.return);break;case 3:hu(e);break;case 12:hu(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fd(e)):hu(e);break;default:hu(e)}}function Fd(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var c=n[s];qr=c,K1(c,e)}R1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:il(8,n,n.return),Fd(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fd(n));break;default:Fd(n)}e=e.sibling}}function K1(e,n){for(;qr!==null;){var s=qr;switch(s.tag){case 0:case 11:case 15:il(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:so(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,qr=c;else e:for(s=e;qr!==null;){c=qr;var p=c.sibling,x=c.return;if(j1(c),c===s){qr=null;break e}if(p!==null){p.return=x,qr=p;break e}qr=x}}}var Yv={getCacheForType:function(e){var n=_r(er),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return _r(er).controller.signal}},Jv=typeof WeakMap=="function"?WeakMap:Map,fA=0,LA=null,Xt=null,Jt=0,wA=0,fa=null,ll=!1,oc=!1,A0=!1,Qi=0,ur=0,ol=0,fo=0,r0=0,ha=0,cc=0,gu=null,Xn=null,n0=!1,Nd=0,z1=0,Sd=1/0,Ed=null,cl=null,Ir=0,ul=null,uc=null,Fi=0,a0=0,s0=null,V1=null,pu=0,i0=null;function ga(){return(fA&2)!==0&&Jt!==0?Jt&-Jt:R.T!==null?f0():yr()}function G1(){if(ha===0)if((Jt&536870912)===0||qt){var e=gA;gA<<=1,(gA&3932160)===0&&(gA=262144),ha=e}else ha=536870912;return e=OA.current,e!==null&&(e.flags|=32),ha}function Yn(e,n,s){(e===LA&&(wA===2||wA===9)||e.cancelPendingCommit!==null)&&(dc(e,0),dl(e,Jt,ha,!1)),pt(e,s),((fA&2)===0||e!==LA)&&(e===LA&&((fA&2)===0&&(fo|=s),ur===4&&dl(e,Jt,ha,!1)),Gs(e))}function q1(e,n,s){if((fA&6)!==0)throw Error(a(327));var c=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),p=c?$v(e,n):o0(e,n,!0),x=c;do{if(p===0){oc&&!c&&dl(e,n,0,!1);break}else{if(s=e.current.alternate,x&&!Wv(s)){p=o0(e,n,!1),x=!1;continue}if(p===2){if(x=n,e.errorRecoveryDisabledLanes&x)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;e:{var X=e;p=gu;var de=X.current.memoizedState.isDehydrated;if(de&&(dc(X,E).flags|=256),E=o0(X,E,!1),E!==2){if(A0&&!de){X.errorRecoveryDisabledLanes|=x,fo|=x,p=4;break e}x=Xn,Xn=p,x!==null&&(Xn===null?Xn=x:Xn.push.apply(Xn,x))}p=E}if(x=!1,p!==2)continue}}if(p===1){dc(e,0),dl(e,n,0,!0);break}e:{switch(c=e,x=p,x){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:dl(c,n,ha,!ll);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(p=Nd+300-yt(),10<p)){if(dl(c,n,ha,!ll),$t(c,0,!0)!==0)break e;Fi=n,c.timeoutHandle=Cm(X1.bind(null,c,s,Xn,Ed,n0,n,ha,fo,cc,ll,x,"Throttled",-0,0),p);break e}X1(c,s,Xn,Ed,n0,n,ha,fo,cc,ll,x,null,-0,0)}}break}while(!0);Gs(e)}function X1(e,n,s,c,p,x,E,X,de,Qe,_e,Re,Fe,Ee){if(e.timeoutHandle=-1,Re=n.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sa},O1(n,x,Re);var st=(x&62914560)===x?Nd-yt():(x&4194048)===x?z1-yt():0;if(st=_y(Re,st),st!==null){Fi=x,e.cancelPendingCommit=st(Am.bind(null,e,n,x,s,c,p,E,X,de,_e,Re,null,Fe,Ee)),dl(e,x,E,!Qe);return}}Am(e,n,x,s,c,p,E,X,de)}function Wv(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var p=s[c],x=p.getSnapshot;p=p.value;try{if(!kr(x(),p))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dl(e,n,s,c){n&=~r0,n&=~fo,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var p=n;0<p;){var x=31-Vt(p),E=1<<x;c[x]=-1,p&=~E}s!==0&&xa(e,s,n)}function kd(){return(fA&6)===0?(mu(0),!1):!0}function l0(){if(Xt!==null){if(wA===0)var e=Xt.return;else e=Xt,ja=Is=null,ec(e),Pe=null,it=0,e=Xt;for(;e!==null;)U1(e.alternate,e),e=e.return;Xt=null}}function dc(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,my(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,l0(),LA=e,Xt=s=In(e.current,null),Jt=n,wA=0,fa=null,ll=!1,oc=Zn(e,n),A0=!1,cc=ha=r0=fo=ol=ur=0,Xn=gu=null,n0=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var p=31-Vt(c),x=1<<p;n|=e[p],c&=~x}return Qi=n,eo(),s}function Y1(e,n){mt=null,R.H=iu,n===he||n===ae?(n=De(),wA=3):n===Ce?(n=De(),wA=4):wA=n===Oh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fa=n,Xt===null&&(ur=1,xd(e,Dn(n,e.current)))}function J1(){var e=OA.current;return e===null?!0:(Jt&4194048)===Jt?nA===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?e===nA:!1}function W1(){var e=R.H;return R.H=iu,e===null?iu:e}function Z1(){var e=R.A;return R.A=Yv,e}function Ld(){ur=4,ll||(Jt&4194048)!==Jt&&OA.current!==null||(oc=!0),(ol&134217727)===0&&(fo&134217727)===0||LA===null||dl(LA,Jt,ha,!1)}function o0(e,n,s){var c=fA;fA|=2;var p=W1(),x=Z1();(LA!==e||Jt!==n)&&(Ed=null,dc(e,n)),n=!1;var E=ur;e:do try{if(wA!==0&&Xt!==null){var X=Xt,de=fa;switch(wA){case 8:l0(),E=6;break e;case 3:case 2:case 9:case 6:OA.current===null&&(n=!0);var Qe=wA;if(wA=0,fa=null,fc(e,X,de,Qe),s&&oc){E=0;break e}break;default:Qe=wA,wA=0,fa=null,fc(e,X,de,Qe)}}Zv(),E=ur;break}catch(_e){Y1(e,_e)}while(!0);return n&&e.shellSuspendCounter++,ja=Is=null,fA=c,R.H=p,R.A=x,Xt===null&&(LA=null,Jt=0,eo()),E}function Zv(){for(;Xt!==null;)$1(Xt)}function $v(e,n){var s=fA;fA|=2;var c=W1(),p=Z1();LA!==e||Jt!==n?(Ed=null,Sd=yt()+500,dc(e,n)):oc=Zn(e,n);e:do try{if(wA!==0&&Xt!==null){n=Xt;var x=fa;t:switch(wA){case 1:wA=0,fa=null,fc(e,n,x,1);break;case 2:case 9:if(ye(x)){wA=0,fa=null,em(n);break}n=function(){wA!==2&&wA!==9||LA!==e||(wA=7),Gs(e)},x.then(n,n);break e;case 3:wA=7;break e;case 4:wA=5;break e;case 7:ye(x)?(wA=0,fa=null,em(n)):(wA=0,fa=null,fc(e,n,x,7));break;case 5:var E=null;switch(Xt.tag){case 26:E=Xt.memoizedState;case 5:case 27:var X=Xt;if(E?Mm(E):X.stateNode.complete){wA=0,fa=null;var de=X.sibling;if(de!==null)Xt=de;else{var Qe=X.return;Qe!==null?(Xt=Qe,jd(Qe)):Xt=null}break t}}wA=0,fa=null,fc(e,n,x,5);break;case 6:wA=0,fa=null,fc(e,n,x,6);break;case 8:l0(),ur=6;break e;default:throw Error(a(462))}}ey();break}catch(_e){Y1(e,_e)}while(!0);return ja=Is=null,R.H=c,R.A=p,fA=s,Xt!==null?0:(LA=null,Jt=0,eo(),ur)}function ey(){for(;Xt!==null&&!rt();)$1(Xt)}function $1(e){var n=B1(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?jd(e):Xt=n}function em(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=m1(s,n,n.pendingProps,n.type,void 0,Jt);break;case 11:n=m1(s,n,n.pendingProps,n.type.render,n.ref,Jt);break;case 5:ec(n);default:U1(s,n),n=Xt=ro(n,Qi),n=B1(s,n,Qi)}e.memoizedProps=e.pendingProps,n===null?jd(e):Xt=n}function fc(e,n,s,c){ja=Is=null,ec(n),Pe=null,it=0;var p=n.return;try{if(Pv(e,p,n,s,Jt)){ur=1,xd(e,Dn(s,e.current)),Xt=null;return}}catch(x){if(p!==null)throw Xt=p,x;ur=1,xd(e,Dn(s,e.current)),Xt=null;return}n.flags&32768?(qt||c===1?e=!0:oc||(Jt&536870912)!==0?e=!1:(ll=e=!0,(c===2||c===9||c===3||c===6)&&(c=OA.current,c!==null&&c.tag===13&&(c.flags|=16384))),tm(n,e)):jd(n)}function jd(e){var n=e;do{if((n.flags&32768)!==0){tm(n,ll);return}e=n.return;var s=Vv(n.alternate,n,Qi);if(s!==null){Xt=s;return}if(n=n.sibling,n!==null){Xt=n;return}Xt=n=e}while(n!==null);ur===0&&(ur=5)}function tm(e,n){do{var s=Gv(e.alternate,e);if(s!==null){s.flags&=32767,Xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Xt=e;return}Xt=e=s}while(e!==null);ur=6,Xt=null}function Am(e,n,s,c,p,x,E,X,de){e.cancelPendingCommit=null;do Hd();while(Ir!==0);if((fA&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(x=n.lanes|n.childLanes,x|=Oo,Va(e,s,x,E,X,de),e===LA&&(Xt=LA=null,Jt=0),uc=n,ul=e,Fi=s,a0=x,s0=p,V1=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ny(Rt,function(){return im(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=R.T,R.T=null,p=Y.p,Y.p=2,E=fA,fA|=4;try{qv(e,n,s)}finally{fA=E,Y.p=p,R.T=c}}Ir=1,rm(),nm(),am()}}function rm(){if(Ir===1){Ir=0;var e=ul,n=uc,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=R.T,R.T=null;var c=Y.p;Y.p=2;var p=fA;fA|=4;try{I1(n,e);var x=v0,E=os(e.containerInfo),X=x.focusedElem,de=x.selectionRange;if(E!==X&&X&&X.ownerDocument&&ls(X.ownerDocument.documentElement,X)){if(de!==null&&ka(X)){var Qe=de.start,_e=de.end;if(_e===void 0&&(_e=Qe),"selectionStart"in X)X.selectionStart=Qe,X.selectionEnd=Math.min(_e,X.value.length);else{var Re=X.ownerDocument||document,Fe=Re&&Re.defaultView||window;if(Fe.getSelection){var Ee=Fe.getSelection(),st=X.textContent.length,Qt=Math.min(de.start,st),NA=de.end===void 0?Qt:Math.min(de.end,st);!Ee.extend&&Qt>NA&&(E=NA,NA=Qt,Qt=E);var ve=Ji(X,Qt),pe=Ji(X,NA);if(ve&&pe&&(Ee.rangeCount!==1||Ee.anchorNode!==ve.node||Ee.anchorOffset!==ve.offset||Ee.focusNode!==pe.node||Ee.focusOffset!==pe.offset)){var Ue=Re.createRange();Ue.setStart(ve.node,ve.offset),Ee.removeAllRanges(),Qt>NA?(Ee.addRange(Ue),Ee.extend(pe.node,pe.offset)):(Ue.setEnd(pe.node,pe.offset),Ee.addRange(Ue))}}}}for(Re=[],Ee=X;Ee=Ee.parentNode;)Ee.nodeType===1&&Re.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Re.length;X++){var Me=Re[X];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Gd=!!x0,v0=x0=null}finally{fA=p,Y.p=c,R.T=s}}e.current=n,Ir=2}}function nm(){if(Ir===2){Ir=0;var e=ul,n=uc,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=R.T,R.T=null;var c=Y.p;Y.p=2;var p=fA;fA|=4;try{L1(e,n.alternate,n)}finally{fA=p,Y.p=c,R.T=s}}Ir=3}}function am(){if(Ir===4||Ir===3){Ir=0,ot();var e=ul,n=uc,s=Fi,c=V1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ir=5:(Ir=0,uc=ul=null,sm(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(cl=null),rr(s),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(zt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=R.T,p=Y.p,Y.p=2,R.T=null;try{for(var x=e.onRecoverableError,E=0;E<c.length;E++){var X=c[E];x(X.value,{componentStack:X.stack})}}finally{R.T=n,Y.p=p}}(Fi&3)!==0&&Hd(),Gs(e),p=e.pendingLanes,(s&261930)!==0&&(p&42)!==0?e===i0?pu++:(pu=0,i0=e):pu=0,mu(0)}}function sm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,so(n)))}function Hd(){return rm(),nm(),am(),im()}function im(){if(Ir!==5)return!1;var e=ul,n=a0;a0=0;var s=rr(Fi),c=R.T,p=Y.p;try{Y.p=32>s?32:s,R.T=null,s=s0,s0=null;var x=ul,E=Fi;if(Ir=0,uc=ul=null,Fi=0,(fA&6)!==0)throw Error(a(331));var X=fA;if(fA|=4,P1(x.current),M1(x,x.current,E,s),fA=X,mu(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(zt,x)}catch{}return!0}finally{Y.p=p,R.T=c,sm(e,n)}}function lm(e,n,s){n=Dn(s,n),n=Mh(e.stateNode,n,2),e=Dt(e,n,2),e!==null&&(pt(e,2),Gs(e))}function bA(e,n,s){if(e.tag===3)lm(e,e,s);else for(;n!==null;){if(n.tag===3){lm(n,e,s);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cl===null||!cl.has(c))){e=Dn(s,e),s=o1(2),c=Dt(n,s,2),c!==null&&(c1(s,c,n,e),pt(c,2),Gs(c));break}}n=n.return}}function c0(e,n,s){var c=e.pingCache;if(c===null){c=e.pingCache=new Jv;var p=new Set;c.set(n,p)}else p=c.get(n),p===void 0&&(p=new Set,c.set(n,p));p.has(s)||(A0=!0,p.add(s),e=ty.bind(null,e,n,s),n.then(e,e))}function ty(e,n,s){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,LA===e&&(Jt&s)===s&&(ur===4||ur===3&&(Jt&62914560)===Jt&&300>yt()-Nd?(fA&2)===0&&dc(e,0):r0|=s,cc===Jt&&(cc=0)),Gs(e)}function om(e,n){n===0&&(n=ba()),e=us(e,n),e!==null&&(pt(e,n),Gs(e))}function Ay(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),om(e,s)}function ry(e,n){var s=0;switch(e.tag){case 31:case 13:var c=e.stateNode,p=e.memoizedState;p!==null&&(s=p.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(n),om(e,s)}function ny(e,n){return Ze(e,n)}var _d=null,hc=null,u0=!1,Td=!1,d0=!1,fl=0;function Gs(e){e!==hc&&e.next===null&&(hc===null?_d=hc=e:hc=hc.next=e),Td=!0,u0||(u0=!0,sy())}function mu(e,n){if(!d0&&Td){d0=!0;do for(var s=!1,c=_d;c!==null;){if(e!==0){var p=c.pendingLanes;if(p===0)var x=0;else{var E=c.suspendedLanes,X=c.pingedLanes;x=(1<<31-Vt(42|e)+1)-1,x&=p&~(E&~X),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(s=!0,fm(c,x))}else x=Jt,x=$t(c,c===LA?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(x&3)===0||Zn(c,x)||(s=!0,fm(c,x));c=c.next}while(s);d0=!1}}function ay(){cm()}function cm(){Td=u0=!1;var e=0;fl!==0&&py()&&(e=fl);for(var n=yt(),s=null,c=_d;c!==null;){var p=c.next,x=um(c,n);x===0?(c.next=null,s===null?_d=p:s.next=p,p===null&&(hc=s)):(s=c,(e!==0||(x&3)!==0)&&(Td=!0)),c=p}Ir!==0&&Ir!==5||mu(e),fl!==0&&(fl=0)}function um(e,n){for(var s=e.suspendedLanes,c=e.pingedLanes,p=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var E=31-Vt(x),X=1<<E,de=p[E];de===-1?((X&s)===0||(X&c)!==0)&&(p[E]=Or(X,n)):de<=n&&(e.expiredLanes|=X),x&=~X}if(n=LA,s=Jt,s=$t(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,s===0||e===n&&(wA===2||wA===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Ye(c),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(c!==null&&Ye(c),rr(s)){case 2:case 8:s=Ot;break;case 32:s=Rt;break;case 268435456:s=jt;break;default:s=Rt}return c=dm.bind(null,e),s=Ze(s,c),e.callbackPriority=n,e.callbackNode=s,n}return c!==null&&c!==null&&Ye(c),e.callbackPriority=2,e.callbackNode=null,2}function dm(e,n){if(Ir!==0&&Ir!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Hd()&&e.callbackNode!==s)return null;var c=Jt;return c=$t(e,e===LA?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(q1(e,c,n),um(e,yt()),e.callbackNode!=null&&e.callbackNode===s?dm.bind(null,e):null)}function fm(e,n){if(Hd())return null;q1(e,n,!0)}function sy(){wy(function(){(fA&6)!==0?Ze(Ft,ay):cm()})}function f0(){if(fl===0){var e=h;e===0&&(e=Et,Et<<=1,(Et&261888)===0&&(Et=256)),fl=e}return fl}function hm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:on(""+e)}function gm(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function iy(e,n,s,c,p){if(n==="submit"&&s&&s.stateNode===p){var x=hm((p[TA]||null).action),E=c.submitter;E&&(n=(n=E[TA]||null)?hm(n.formAction):E.getAttribute("formAction"),n!==null&&(x=n,E=null));var X=new Hn("action","action",null,c,p);e.push({event:X,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(fl!==0){var de=E?gm(p,E):new FormData(p);jh(s,{pending:!0,data:de,method:p.method,action:x},null,de)}}else typeof x=="function"&&(X.preventDefault(),de=E?gm(p,E):new FormData(p),jh(s,{pending:!0,data:de,method:p.method,action:x},x,de))},currentTarget:p}]})}}for(var h0=0;h0<di.length;h0++){var g0=di[h0],ly=g0.toLowerCase(),oy=g0[0].toUpperCase()+g0.slice(1);Tn(ly,"on"+oy)}Tn(ui,"onAnimationEnd"),Tn(Zl,"onAnimationIteration"),Tn(Gc,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(id,"onTransitionRun"),Tn(ld,"onTransitionStart"),Tn(od,"onTransitionCancel"),Tn(qc,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function pm(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],p=c.event;c=c.listeners;e:{var x=void 0;if(n)for(var E=c.length-1;0<=E;E--){var X=c[E],de=X.instance,Qe=X.currentTarget;if(X=X.listener,de!==x&&p.isPropagationStopped())break e;x=X,p.currentTarget=Qe;try{x(p)}catch(_e){$l(_e)}p.currentTarget=null,x=de}else for(E=0;E<c.length;E++){if(X=c[E],de=X.instance,Qe=X.currentTarget,X=X.listener,de!==x&&p.isPropagationStopped())break e;x=X,p.currentTarget=Qe;try{x(p)}catch(_e){$l(_e)}p.currentTarget=null,x=de}}}}function Yt(e,n){var s=n[vn];s===void 0&&(s=n[vn]=new Set);var c=e+"__bubble";s.has(c)||(mm(n,e,2,!1),s.add(c))}function p0(e,n,s){var c=0;n&&(c|=4),mm(s,e,c,n)}var Id="_reactListening"+Math.random().toString(36).slice(2);function m0(e){if(!e[Id]){e[Id]=!0,_l.forEach(function(s){s!=="selectionchange"&&(cy.has(s)||p0(s,!1,e),p0(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Id]||(n[Id]=!0,p0("selectionchange",!1,n))}}function mm(e,n,s,c){switch(Gm(n)){case 2:var p=Dy;break;case 8:p=My;break;default:p=L0}s=p.bind(null,n,s,e),p=void 0,!ql||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),c?p!==void 0?e.addEventListener(n,s,{capture:!0,passive:p}):e.addEventListener(n,s,!0):p!==void 0?e.addEventListener(n,s,{passive:p}):e.addEventListener(n,s,!1)}function w0(e,n,s,c,p){var x=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var X=c.stateNode.containerInfo;if(X===p)break;if(E===4)for(E=c.return;E!==null;){var de=E.tag;if((de===3||de===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;X!==null;){if(E=ta(X),E===null)return;if(de=E.tag,de===5||de===6||de===26||de===27){c=x=E;continue e}X=X.parentNode}}c=c.return}_o(function(){var Qe=x,_e=ni(s),Re=[];e:{var Fe=Xc.get(e);if(Fe!==void 0){var Ee=Hn,st=e;switch(e){case"keypress":if(jn(s)===0)break e;case"keydown":case"keyup":Ee=eA;break;case"focusin":st="focus",Ee=es;break;case"focusout":st="blur",Ee=es;break;case"beforeblur":case"afterblur":Ee=es;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=$a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=hr;break;case ui:case Zl:case Gc:Ee=y;break;case qc:Ee=Er;break;case"scroll":case"scrollend":Ee=Ki;break;case"wheel":Ee=ia;break;case"copy":case"cut":case"paste":Ee=ie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=WA;break;case"toggle":case"beforetoggle":Ee=Yl}var Qt=(n&4)!==0,NA=!Qt&&(e==="scroll"||e==="scrollend"),ve=Qt?Fe!==null?Fe+"Capture":null:Fe;Qt=[];for(var pe=Qe,Ue;pe!==null;){var Me=pe;if(Ue=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||Ue===null||ve===null||(Me=Cn(pe,ve),Me!=null&&Qt.push(bu(pe,Me,Ue))),NA)break;pe=pe.return}0<Qt.length&&(Fe=new Ee(Fe,st,null,s,_e),Re.push({event:Fe,listeners:Qt}))}}if((n&7)===0){e:{if(Fe=e==="mouseover"||e==="pointerover",Ee=e==="mouseout"||e==="pointerout",Fe&&s!==Xa&&(st=s.relatedTarget||s.fromElement)&&(ta(st)||st[Rr]))break e;if((Ee||Fe)&&(Fe=_e.window===_e?_e:(Fe=_e.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,Ee?(st=s.relatedTarget||s.toElement,Ee=Qe,st=st?ta(st):null,st!==null&&(NA=l(st),Qt=st.tag,st!==NA||Qt!==5&&Qt!==27&&Qt!==6)&&(st=null)):(Ee=null,st=Qe),Ee!==st)){if(Qt=Xl,Me="onMouseLeave",ve="onMouseEnter",pe="mouse",(e==="pointerout"||e==="pointerover")&&(Qt=WA,Me="onPointerLeave",ve="onPointerEnter",pe="pointer"),NA=Ee==null?Fe:Ai(Ee),Ue=st==null?Fe:Ai(st),Fe=new Qt(Me,pe+"leave",Ee,s,_e),Fe.target=NA,Fe.relatedTarget=Ue,Me=null,ta(_e)===Qe&&(Qt=new Qt(ve,pe+"enter",st,s,_e),Qt.target=Ue,Qt.relatedTarget=NA,Me=Qt),NA=Me,Ee&&st)t:{for(Qt=uy,ve=Ee,pe=st,Ue=0,Me=ve;Me;Me=Qt(Me))Ue++;Me=0;for(var xt=pe;xt;xt=Qt(xt))Me++;for(;0<Ue-Me;)ve=Qt(ve),Ue--;for(;0<Me-Ue;)pe=Qt(pe),Me--;for(;Ue--;){if(ve===pe||pe!==null&&ve===pe.alternate){Qt=ve;break t}ve=Qt(ve),pe=Qt(pe)}Qt=null}else Qt=null;Ee!==null&&wm(Re,Fe,Ee,Qt,!1),st!==null&&NA!==null&&wm(Re,NA,st,Qt,!0)}}e:{if(Fe=Qe?Ai(Qe):window,Ee=Fe.nodeName&&Fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&Fe.type==="file")var oA=js;else if(Jl(Fe))if(cn)oA=Sa;else{oA=ZA;var dt=Xi}else Ee=Fe.nodeName,!Ee||Ee.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Qe&&zl(Qe.elementType)&&(oA=js):oA=Mo;if(oA&&(oA=oA(e,Qe))){Qn(Re,oA,s,_e);break e}dt&&dt(e,Fe,Qe),e==="focusout"&&Qe&&Fe.type==="number"&&Qe.memoizedProps.value!=null&&Rl(Fe,"number",Fe.value)}switch(dt=Qe?Ai(Qe):window,e){case"focusin":(Jl(dt)||dt.contentEditable==="true")&&(Fn=dt,cs=Qe,Pr=null);break;case"focusout":Pr=cs=Fn=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,iA(Re,s,_e);break;case"selectionchange":if(ci)break;case"keydown":case"keyup":iA(Re,s,_e)}var Pt;if(Ua)e:{switch(e){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else Qa?Ls(e,s)&&(Wt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Wt="onCompositionStart");Wt&&(rs&&s.locale!=="ko"&&(Qa||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&Qa&&(Pt=To()):(Un=_e,si="value"in Un?Un.value:Un.textContent,Qa=!0)),dt=Dd(Qe,Wt),0<dt.length&&(Wt=new xe(Wt,e,null,s,_e),Re.push({event:Wt,listeners:dt}),Pt?Wt.data=Pt:(Pt=Vi(s),Pt!==null&&(Wt.data=Pt)))),(Pt=oi?$r(e,s):ns(e,s))&&(Wt=Dd(Qe,"onBeforeInput"),0<Wt.length&&(dt=new xe("onBeforeInput","beforeinput",null,s,_e),Re.push({event:dt,listeners:Wt}),dt.data=Pt)),iy(Re,e,Qe,s,_e)}pm(Re,n)})}function bu(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Dd(e,n){for(var s=n+"Capture",c=[];e!==null;){var p=e,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=Cn(e,s),p!=null&&c.unshift(bu(e,p,x)),p=Cn(e,n),p!=null&&c.push(bu(e,p,x))),e.tag===3)return c;e=e.return}return[]}function uy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wm(e,n,s,c,p){for(var x=n._reactName,E=[];s!==null&&s!==c;){var X=s,de=X.alternate,Qe=X.stateNode;if(X=X.tag,de!==null&&de===c)break;X!==5&&X!==26&&X!==27||Qe===null||(de=Qe,p?(Qe=Cn(s,x),Qe!=null&&E.unshift(bu(s,Qe,de))):p||(Qe=Cn(s,x),Qe!=null&&E.push(bu(s,Qe,de)))),s=s.return}E.length!==0&&e.push({event:n,listeners:E})}var dy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function bm(e){return(typeof e=="string"?e:""+e).replace(dy,`
`).replace(fy,"")}function xm(e,n){return n=bm(n),bm(e)===n}function FA(e,n,s,c,p,x){switch(s){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||aa(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&aa(e,""+c);break;case"className":qa(e,"class",c);break;case"tabIndex":qa(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":qa(e,s,c);break;case"style":Lo(e,c,x);break;case"data":if(n!=="object"){qa(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=on(""+c),e.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(s==="formAction"?(n!=="input"&&FA(e,n,"name",p.name,p,null),FA(e,n,"formEncType",p.formEncType,p,null),FA(e,n,"formMethod",p.formMethod,p,null),FA(e,n,"formTarget",p.formTarget,p,null)):(FA(e,n,"encType",p.encType,p,null),FA(e,n,"method",p.method,p,null),FA(e,n,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(s);break}c=on(""+c),e.setAttribute(s,c);break;case"onClick":c!=null&&(e.onclick=sa);break;case"onScroll":c!=null&&Yt("scroll",e);break;case"onScrollEnd":c!=null&&Yt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}s=on(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""+c):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":c===!0?e.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(s,c):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(s,c):e.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(s):e.setAttribute(s,c);break;case"popover":Yt("beforetoggle",e),Yt("toggle",e),Bn(e,"popover",c);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Bn(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vl.get(s)||s,Bn(e,s,c))}}function b0(e,n,s,c,p,x){switch(s){case"style":Lo(e,c,x);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof c=="string"?aa(e,c):(typeof c=="number"||typeof c=="bigint")&&aa(e,""+c);break;case"onScroll":c!=null&&Yt("scroll",e);break;case"onScrollEnd":c!=null&&Yt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),n=s.slice(2,p?s.length-7:void 0),x=e[TA]||null,x=x!=null?x[s]:null,typeof x=="function"&&e.removeEventListener(n,x,p),typeof c=="function")){typeof x!="function"&&x!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,c,p);break e}s in e?e[s]=c:c===!0?e.setAttribute(s,""):Bn(e,s,c)}}}function nn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",e),Yt("load",e);var c=!1,p=!1,x;for(x in s)if(s.hasOwnProperty(x)){var E=s[x];if(E!=null)switch(x){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:FA(e,n,x,E,s,null)}}p&&FA(e,n,"srcSet",s.srcSet,s,null),c&&FA(e,n,"src",s.src,s,null);return;case"input":Yt("invalid",e);var X=x=E=p=null,de=null,Qe=null;for(c in s)if(s.hasOwnProperty(c)){var _e=s[c];if(_e!=null)switch(c){case"name":p=_e;break;case"type":E=_e;break;case"checked":de=_e;break;case"defaultChecked":Qe=_e;break;case"value":x=_e;break;case"defaultValue":X=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,n));break;default:FA(e,n,c,_e,s,null)}}Eo(e,x,X,de,Qe,E,p,!1);return;case"select":Yt("invalid",e),c=E=x=null;for(p in s)if(s.hasOwnProperty(p)&&(X=s[p],X!=null))switch(p){case"value":x=X;break;case"defaultValue":E=X;break;case"multiple":c=X;default:FA(e,n,p,X,s,null)}n=x,s=E,e.multiple=!!c,n!=null?Zr(e,!!c,n,!1):s!=null&&Zr(e,!!c,s,!0);return;case"textarea":Yt("invalid",e),x=p=c=null;for(E in s)if(s.hasOwnProperty(E)&&(X=s[E],X!=null))switch(E){case"value":c=X;break;case"defaultValue":p=X;break;case"children":x=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(91));break;default:FA(e,n,E,X,s,null)}Kl(e,c,p,x);return;case"option":for(de in s)if(s.hasOwnProperty(de)&&(c=s[de],c!=null))switch(de){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:FA(e,n,de,c,s,null)}return;case"dialog":Yt("beforetoggle",e),Yt("toggle",e),Yt("cancel",e),Yt("close",e);break;case"iframe":case"object":Yt("load",e);break;case"video":case"audio":for(c=0;c<wu.length;c++)Yt(wu[c],e);break;case"image":Yt("error",e),Yt("load",e);break;case"details":Yt("toggle",e);break;case"embed":case"source":case"link":Yt("error",e),Yt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in s)if(s.hasOwnProperty(Qe)&&(c=s[Qe],c!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:FA(e,n,Qe,c,s,null)}return;default:if(zl(n)){for(_e in s)s.hasOwnProperty(_e)&&(c=s[_e],c!==void 0&&b0(e,n,_e,c,s,void 0));return}}for(X in s)s.hasOwnProperty(X)&&(c=s[X],c!=null&&FA(e,n,X,c,s,null))}function hy(e,n,s,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,E=null,X=null,de=null,Qe=null,_e=null;for(Ee in s){var Re=s[Ee];if(s.hasOwnProperty(Ee)&&Re!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":de=Re;default:c.hasOwnProperty(Ee)||FA(e,n,Ee,null,c,Re)}}for(var Fe in c){var Ee=c[Fe];if(Re=s[Fe],c.hasOwnProperty(Fe)&&(Ee!=null||Re!=null))switch(Fe){case"type":x=Ee;break;case"name":p=Ee;break;case"checked":Qe=Ee;break;case"defaultChecked":_e=Ee;break;case"value":E=Ee;break;case"defaultValue":X=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(a(137,n));break;default:Ee!==Re&&FA(e,n,Fe,Ee,c,Re)}}Oi(e,E,X,de,Qe,_e,x,p);return;case"select":Ee=E=X=Fe=null;for(x in s)if(de=s[x],s.hasOwnProperty(x)&&de!=null)switch(x){case"value":break;case"multiple":Ee=de;default:c.hasOwnProperty(x)||FA(e,n,x,null,c,de)}for(p in c)if(x=c[p],de=s[p],c.hasOwnProperty(p)&&(x!=null||de!=null))switch(p){case"value":Fe=x;break;case"defaultValue":X=x;break;case"multiple":E=x;default:x!==de&&FA(e,n,p,x,c,de)}n=X,s=E,c=Ee,Fe!=null?Zr(e,!!s,Fe,!1):!!c!=!!s&&(n!=null?Zr(e,!!s,n,!0):Zr(e,!!s,s?[]:"",!1));return;case"textarea":Ee=Fe=null;for(X in s)if(p=s[X],s.hasOwnProperty(X)&&p!=null&&!c.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:FA(e,n,X,null,c,p)}for(E in c)if(p=c[E],x=s[E],c.hasOwnProperty(E)&&(p!=null||x!=null))switch(E){case"value":Fe=p;break;case"defaultValue":Ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==x&&FA(e,n,E,p,c,x)}Pl(e,Fe,Ee);return;case"option":for(var st in s)if(Fe=s[st],s.hasOwnProperty(st)&&Fe!=null&&!c.hasOwnProperty(st))switch(st){case"selected":e.selected=!1;break;default:FA(e,n,st,null,c,Fe)}for(de in c)if(Fe=c[de],Ee=s[de],c.hasOwnProperty(de)&&Fe!==Ee&&(Fe!=null||Ee!=null))switch(de){case"selected":e.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:FA(e,n,de,Fe,c,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qt in s)Fe=s[Qt],s.hasOwnProperty(Qt)&&Fe!=null&&!c.hasOwnProperty(Qt)&&FA(e,n,Qt,null,c,Fe);for(Qe in c)if(Fe=c[Qe],Ee=s[Qe],c.hasOwnProperty(Qe)&&Fe!==Ee&&(Fe!=null||Ee!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(a(137,n));break;default:FA(e,n,Qe,Fe,c,Ee)}return;default:if(zl(n)){for(var NA in s)Fe=s[NA],s.hasOwnProperty(NA)&&Fe!==void 0&&!c.hasOwnProperty(NA)&&b0(e,n,NA,void 0,c,Fe);for(_e in c)Fe=c[_e],Ee=s[_e],!c.hasOwnProperty(_e)||Fe===Ee||Fe===void 0&&Ee===void 0||b0(e,n,_e,Fe,c,Ee);return}}for(var ve in s)Fe=s[ve],s.hasOwnProperty(ve)&&Fe!=null&&!c.hasOwnProperty(ve)&&FA(e,n,ve,null,c,Fe);for(Re in c)Fe=c[Re],Ee=s[Re],!c.hasOwnProperty(Re)||Fe===Ee||Fe==null&&Ee==null||FA(e,n,Re,Fe,c,Ee)}function vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),c=0;c<s.length;c++){var p=s[c],x=p.transferSize,E=p.initiatorType,X=p.duration;if(x&&X&&vm(E)){for(E=0,X=p.responseEnd,c+=1;c<s.length;c++){var de=s[c],Qe=de.startTime;if(Qe>X)break;var _e=de.transferSize,Re=de.initiatorType;_e&&vm(Re)&&(de=de.responseEnd,E+=_e*(de<X?1:(X-Qe)/(de-Qe)))}if(--c,n+=8*(x+E)/(p.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var x0=null,v0=null;function Md(e){return e.nodeType===9?e:e.ownerDocument}function ym(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function y0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var B0=null;function py(){var e=window.event;return e&&e.type==="popstate"?e===B0?!1:(B0=e,!0):(B0=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,wy=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(by)}:Cm;function by(e){setTimeout(function(){throw e})}function hl(e){return e==="head"}function Qm(e,n){var s=n,c=0;do{var p=s.nextSibling;if(e.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"||s==="/&"){if(c===0){e.removeChild(p),wc(n);return}c--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")c++;else if(s==="html")xu(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,xu(s);for(var x=s.firstChild;x;){var E=x.nextSibling,X=x.nodeName;x[ea]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&x.rel.toLowerCase()==="stylesheet"||s.removeChild(x),x=E}}else s==="body"&&xu(e.ownerDocument.body);s=p}while(s);wc(n)}function Fm(e,n){var s=e;e=0;do{var c=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=c}while(s)}function C0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":C0(s),Ns(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function xy(e,n,s,c){for(;e.nodeType===1;){var p=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ea])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Ta(e.nextSibling),e===null)break}return null}function vy(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ta(e.nextSibling),e===null))return null;return e}function Nm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ta(e.nextSibling),e===null))return null;return e}function U0(e){return e.data==="$?"||e.data==="$~"}function Q0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yy(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var c=function(){n(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ta(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var F0=null;function Sm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ta(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Em(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function km(e,n,s){switch(n=Md(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function xu(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ns(e)}var Ia=new Map,Lm=new Set;function Od(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ni=Y.d;Y.d={f:By,r:Cy,D:Uy,C:Qy,L:Fy,m:Ny,X:Ey,S:Sy,M:ky};function By(){var e=Ni.f(),n=kd();return e||n}function Cy(e){var n=Aa(e);n!==null&&n.tag===5&&n.type==="form"?Yp(n):Ni.r(e)}var gc=typeof document>"u"?null:document;function jm(e,n,s){var c=gc;if(c&&typeof n=="string"&&n){var p=nr(n);p='link[rel="'+e+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),Lm.has(p)||(Lm.add(p),e={rel:e,crossOrigin:s,href:n},c.querySelector(p)===null&&(n=c.createElement("link"),nn(n,"link",e),JA(n),c.head.appendChild(n)))}}function Uy(e){Ni.D(e),jm("dns-prefetch",e,null)}function Qy(e,n){Ni.C(e,n),jm("preconnect",e,n)}function Fy(e,n,s){Ni.L(e,n,s);var c=gc;if(c&&e&&n){var p='link[rel="preload"][as="'+nr(n)+'"]';n==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+nr(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+nr(s.imageSizes)+'"]')):p+='[href="'+nr(e)+'"]';var x=p;switch(n){case"style":x=pc(e);break;case"script":x=mc(e)}Ia.has(x)||(e=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ia.set(x,e),c.querySelector(p)!==null||n==="style"&&c.querySelector(vu(x))||n==="script"&&c.querySelector(yu(x))||(n=c.createElement("link"),nn(n,"link",e),JA(n),c.head.appendChild(n)))}}function Ny(e,n){Ni.m(e,n);var s=gc;if(s&&e){var c=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+nr(c)+'"][href="'+nr(e)+'"]',x=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=mc(e)}if(!Ia.has(x)&&(e=v({rel:"modulepreload",href:e},n),Ia.set(x,e),s.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yu(x)))return}c=s.createElement("link"),nn(c,"link",e),JA(c),s.head.appendChild(c)}}}function Sy(e,n,s){Ni.S(e,n,s);var c=gc;if(c&&e){var p=va(c).hoistableStyles,x=pc(e);n=n||"default";var E=p.get(x);if(!E){var X={loading:0,preload:null};if(E=c.querySelector(vu(x)))X.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ia.get(x))&&N0(e,s);var de=E=c.createElement("link");JA(de),nn(de,"link",e),de._p=new Promise(function(Qe,_e){de.onload=Qe,de.onerror=_e}),de.addEventListener("load",function(){X.loading|=1}),de.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Rd(E,n,c)}E={type:"stylesheet",instance:E,count:1,state:X},p.set(x,E)}}}function Ey(e,n){Ni.X(e,n);var s=gc;if(s&&e){var c=va(s).hoistableScripts,p=mc(e),x=c.get(p);x||(x=s.querySelector(yu(p)),x||(e=v({src:e,async:!0},n),(n=Ia.get(p))&&S0(e,n),x=s.createElement("script"),JA(x),nn(x,"link",e),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(p,x))}}function ky(e,n){Ni.M(e,n);var s=gc;if(s&&e){var c=va(s).hoistableScripts,p=mc(e),x=c.get(p);x||(x=s.querySelector(yu(p)),x||(e=v({src:e,async:!0,type:"module"},n),(n=Ia.get(p))&&S0(e,n),x=s.createElement("script"),JA(x),nn(x,"link",e),s.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},c.set(p,x))}}function Hm(e,n,s,c){var p=(p=oe.current)?Od(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=pc(s.href),s=va(p).hoistableStyles,c=s.get(n),c||(c={type:"style",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=pc(s.href);var x=va(p).hoistableStyles,E=x.get(e);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,E),(x=p.querySelector(vu(e)))&&!x._p&&(E.instance=x,E.state.loading=5),Ia.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ia.set(e,s),x||Ly(p,e,s,E.state))),n&&c===null)throw Error(a(528,""));return E}if(n&&c!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=mc(s),s=va(p).hoistableScripts,c=s.get(n),c||(c={type:"script",instance:null,count:0,state:null},s.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function pc(e){return'href="'+nr(e)+'"'}function vu(e){return'link[rel="stylesheet"]['+e+"]"}function _m(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Ly(e,n,s,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),nn(n,"link",s),JA(n),e.head.appendChild(n))}function mc(e){return'[src="'+nr(e)+'"]'}function yu(e){return"script[async]"+e}function Tm(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+nr(s.href)+'"]');if(c)return n.instance=c,JA(c),c;var p=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),JA(c),nn(c,"style",p),Rd(c,s.precedence,e),n.instance=c;case"stylesheet":p=pc(s.href);var x=e.querySelector(vu(p));if(x)return n.state.loading|=4,n.instance=x,JA(x),x;c=_m(s),(p=Ia.get(p))&&N0(c,p),x=(e.ownerDocument||e).createElement("link"),JA(x);var E=x;return E._p=new Promise(function(X,de){E.onload=X,E.onerror=de}),nn(x,"link",c),n.state.loading|=4,Rd(x,s.precedence,e),n.instance=x;case"script":return x=mc(s.src),(p=e.querySelector(yu(x)))?(n.instance=p,JA(p),p):(c=s,(p=Ia.get(x))&&(c=v({},s),S0(c,p)),e=e.ownerDocument||e,p=e.createElement("script"),JA(p),nn(p,"link",c),e.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,Rd(c,s.precedence,e));return n.instance}function Rd(e,n,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,x=p,E=0;E<c.length;E++){var X=c[E];if(X.dataset.precedence===n)x=X;else if(x!==p)break}x?x.parentNode.insertBefore(e,x.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function N0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function S0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Pd=null;function Im(e,n,s){if(Pd===null){var c=new Map,p=Pd=new Map;p.set(s,c)}else p=Pd,c=p.get(s),c||(c=new Map,p.set(s,c));if(c.has(e))return c;for(c.set(e,null),s=s.getElementsByTagName(e),p=0;p<s.length;p++){var x=s[p];if(!(x[ea]||x[pA]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(n)||"";E=e+E;var X=c.get(E);X?X.push(x):c.set(E,[x])}}return c}function Dm(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function jy(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hy(e,n,s,c){if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=pc(c.href),x=n.querySelector(vu(p));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Kd.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=x,JA(x);return}x=n.ownerDocument||n,c=_m(c),(p=Ia.get(p))&&N0(c,p),x=x.createElement("link"),JA(x);var E=x;E._p=new Promise(function(X,de){E.onload=X,E.onerror=de}),nn(x,"link",c),s.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Kd.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var E0=0;function _y(e,n){return e.stylesheets&&e.count===0&&Vd(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var c=setTimeout(function(){if(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+n);0<e.imgBytes&&E0===0&&(E0=62500*gy());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>E0?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zd=null;function Vd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zd=new Map,n.forEach(Ty,e),zd=null,Kd.call(e))}function Ty(e,n){if(!(n.state.loading&4)){var s=zd.get(e);if(s)var c=s.get(null);else{s=new Map,zd.set(e,s);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var E=p[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),c=E)}c&&s.set(null,c)}p=n.instance,E=p.getAttribute("data-precedence"),x=s.get(E)||c,x===c&&s.set(null,p),s.set(E,p),this.count++,c=Kd.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),x?x.parentNode.insertBefore(p,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),n.state.loading|=4}}var Bu={$$typeof:_,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Iy(e,n,s,c,p,x,E,X,de){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function Om(e,n,s,c,p,x,E,X,de,Qe,_e,Re){return e=new Iy(e,n,s,E,de,Qe,_e,Re,X),n=1,x===!0&&(n|=24),x=zr(3,null,null,n),e.current=x,x.stateNode=e,n=Al(),n.refCount++,e.pooledCache=n,n.refCount++,x.memoizedState={element:c,isDehydrated:s,cache:n},Je(x),e}function Rm(e){return e?(e=Lr,e):Lr}function Pm(e,n,s,c,p,x){p=Rm(p),c.context===null?c.context=p:c.pendingContext=p,c=Ct(n),c.payload={element:s},x=x===void 0?null:x,x!==null&&(c.callback=x),s=Dt(e,c,n),s!==null&&(Yn(s,e,n),uA(s,e,n))}function Km(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function k0(e,n){Km(e,n),(e=e.alternate)&&Km(e,n)}function zm(e){if(e.tag===13||e.tag===31){var n=us(e,67108864);n!==null&&Yn(n,e,67108864),k0(e,67108864)}}function Vm(e){if(e.tag===13||e.tag===31){var n=ga();n=HA(n);var s=us(e,n);s!==null&&Yn(s,e,n),k0(e,n)}}var Gd=!0;function Dy(e,n,s,c){var p=R.T;R.T=null;var x=Y.p;try{Y.p=2,L0(e,n,s,c)}finally{Y.p=x,R.T=p}}function My(e,n,s,c){var p=R.T;R.T=null;var x=Y.p;try{Y.p=8,L0(e,n,s,c)}finally{Y.p=x,R.T=p}}function L0(e,n,s,c){if(Gd){var p=j0(c);if(p===null)w0(e,n,c,qd,s),qm(e,c);else if(Ry(p,e,n,s,c))c.stopPropagation();else if(qm(e,c),n&4&&-1<Oy.indexOf(e)){for(;p!==null;){var x=Aa(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=gt(x.pendingLanes);if(E!==0){var X=x;for(X.pendingLanes|=2,X.entangledLanes|=2;E;){var de=1<<31-Vt(E);X.entanglements[1]|=de,E&=~de}Gs(x),(fA&6)===0&&(Sd=yt()+500,mu(0))}}break;case 31:case 13:X=us(x,2),X!==null&&Yn(X,x,2),kd(),k0(x,2)}if(x=j0(c),x===null&&w0(e,n,c,qd,s),x===p)break;p=x}p!==null&&c.stopPropagation()}else w0(e,n,c,null,s)}}function j0(e){return e=ni(e),H0(e)}var qd=null;function H0(e){if(qd=null,e=ta(e),e!==null){var n=l(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=u(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qd=e,null}function Gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Ft:return 2;case Ot:return 8;case Rt:case ct:return 32;case jt:return 268435456;default:return 32}default:return 32}}var _0=!1,gl=null,pl=null,ml=null,Cu=new Map,Uu=new Map,wl=[],Oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,n){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Cu.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(n.pointerId)}}function Qu(e,n,s,c,p,x){return e===null||e.nativeEvent!==x?(e={blockedOn:n,domEventName:s,eventSystemFlags:c,nativeEvent:x,targetContainers:[p]},n!==null&&(n=Aa(n),n!==null&&zm(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),e)}function Ry(e,n,s,c,p){switch(n){case"focusin":return gl=Qu(gl,e,n,s,c,p),!0;case"dragenter":return pl=Qu(pl,e,n,s,c,p),!0;case"mouseover":return ml=Qu(ml,e,n,s,c,p),!0;case"pointerover":var x=p.pointerId;return Cu.set(x,Qu(Cu.get(x)||null,e,n,s,c,p)),!0;case"gotpointercapture":return x=p.pointerId,Uu.set(x,Qu(Uu.get(x)||null,e,n,s,c,p)),!0}return!1}function Xm(e){var n=ta(e.target);if(n!==null){var s=l(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fs(e.priority,function(){Vm(s)});return}}else if(n===31){if(n=u(s),n!==null){e.blockedOn=n,Fs(e.priority,function(){Vm(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xd(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=j0(e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Xa=c,s.target.dispatchEvent(c),Xa=null}else return n=Aa(s),n!==null&&zm(n),e.blockedOn=s,!1;n.shift()}return!0}function Ym(e,n,s){Xd(e)&&s.delete(n)}function Py(){_0=!1,gl!==null&&Xd(gl)&&(gl=null),pl!==null&&Xd(pl)&&(pl=null),ml!==null&&Xd(ml)&&(ml=null),Cu.forEach(Ym),Uu.forEach(Ym)}function Yd(e,n){e.blockedOn===n&&(e.blockedOn=null,_0||(_0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Py)))}var Jd=null;function Jm(e){Jd!==e&&(Jd=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jd===e&&(Jd=null);for(var n=0;n<e.length;n+=3){var s=e[n],c=e[n+1],p=e[n+2];if(typeof c!="function"){if(H0(c||s)===null)continue;break}var x=Aa(s);x!==null&&(e.splice(n,3),n-=3,jh(x,{pending:!0,data:p,method:s.method,action:c},c,p))}}))}function wc(e){function n(de){return Yd(de,e)}gl!==null&&Yd(gl,e),pl!==null&&Yd(pl,e),ml!==null&&Yd(ml,e),Cu.forEach(n),Uu.forEach(n);for(var s=0;s<wl.length;s++){var c=wl[s];c.blockedOn===e&&(c.blockedOn=null)}for(;0<wl.length&&(s=wl[0],s.blockedOn===null);)Xm(s),s.blockedOn===null&&wl.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var p=s[c],x=s[c+1],E=p[TA]||null;if(typeof x=="function")E||Jm(s);else if(E){var X=null;if(x&&x.hasAttribute("formAction")){if(p=x,E=x[TA]||null)X=E.formAction;else if(H0(p)!==null)continue}else X=E.action;typeof X=="function"?s[c+1]=X:(s.splice(c,3),c-=3),Jm(s)}}}function Wm(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function n(){p!==null&&(p(),p=null),c||setTimeout(s,20)}function s(){if(!c&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),p!==null&&(p(),p=null)}}}function T0(e){this._internalRoot=e}Wd.prototype.render=T0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,c=ga();Pm(s,c,e,n,null,null)},Wd.prototype.unmount=T0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Pm(e.current,2,null,e,null,null),kd(),n[Rr]=null}};function Wd(e){this._internalRoot=e}Wd.prototype.unstable_scheduleHydration=function(e){if(e){var n=yr();e={blockedOn:null,target:e,priority:n};for(var s=0;s<wl.length&&n!==0&&n<wl[s].priority;s++);wl.splice(s,0,e),s===0&&Xm(e)}};var Zm=A.version;if(Zm!=="19.2.0")throw Error(a(527,Zm,"19.2.0"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var Ky={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{zt=Zd.inject(Ky),vt=Zd}catch{}}return Nu.createRoot=function(e,n){if(!i(e))throw Error(a(299));var s=!1,c="",p=a1,x=s1,E=i1;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Om(e,1,!1,null,null,s,c,null,p,x,E,Wm),e[Rr]=n.current,m0(e),new T0(n)},Nu.hydrateRoot=function(e,n,s){if(!i(e))throw Error(a(299));var c=!1,p="",x=a1,E=s1,X=i1,de=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(X=s.onRecoverableError),s.formState!==void 0&&(de=s.formState)),n=Om(e,1,!0,n,s??null,c,p,de,x,E,X,Wm),n.context=Rm(null),s=n.current,c=ga(),c=HA(c),p=Ct(c),p.callback=null,Dt(s,p,c),s=c,n.current.lanes=s,pt(n,s),Gs(n),e[Rr]=n.current,m0(e),new Wd(n)},Nu.version="19.2.0",Nu}var n2;function eB(){if(n2)return D0.exports;n2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(A){console.error(A)}}return t(),D0.exports=$y(),D0.exports}var tB=eB();const AB=Sb(tB),rB="/api",Bs=async(t,A)=>{const r=await fetch(`${rB}${t}`,{headers:{"Content-Type":"application/json"},...A});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.message||`API Error: ${r.statusText}`)}return r.json()},nB=(t,A)=>Bs("/auth/login",{method:"POST",body:JSON.stringify({username:t,password:A})}),wp=()=>Bs("/classes"),bp=t=>Bs(`/subjects?classId=${t}`),xp=t=>Bs(`/units?subjectId=${t}`),vp=t=>Bs(`/subUnits?unitId=${t}`),yp=t=>Bs(`/lessons?subUnitId=${t}`),wn=t=>Bs(`/hierarchy/${t}`),za=(t,A)=>{let r=`/content?lessonId=${t}`;return console.log("[API] getContentsByLessonId called:",{lessonId:t,types:A,url:r}),A&&A.length>0&&(r+=`&type=${A[0]}`,console.log("[API] getContentsByLessonId with type filter:",r)),Bs(r)},aB=async t=>{const A=await za(t),r={};return A.forEach(a=>{r[a.type]=a.count}),r},sB=(t,A)=>Bs(`/users/${t}/update-profile`,{method:"PUT",body:JSON.stringify(A)}),iB=(t,A)=>Bs(`/users/${t}/change-password`,{method:"PUT",body:JSON.stringify(A)}),lB=(t,A)=>Bs(`/users/${t}/profile`,{method:"PUT",body:JSON.stringify(A)}),oB=async t=>"",xl="learningPlatformNavigation",bc="learningPlatformLastActivity",cB="learningPlatformRestartDetected",uB=1800*1e3,Eb={classId:null,subjectId:null,unitId:null,subUnitId:null,lessonId:null,selectedResourceType:null,activePage:"browser",scrollPosition:0},kb={classId:null,subjectId:null,unitId:null,subUnitId:null,lessonId:null,selectedResourceType:null,scrollPosition:0},$d={adminState:Eb,teacherState:kb,lastUpdated:Date.now()},dB=()=>{const[t,A]=P.useState(()=>{try{const b=localStorage.getItem(xl),U=localStorage.getItem(bc),F=localStorage.getItem(cB);if(console.log("[PersistentNavigation] Initializing...",{hasSavedState:!!b,hasLastActivity:!!U,restartDetected:F}),U){const L=parseInt(U,10);if(Date.now()-L>uB)return console.log("[PersistentNavigation] Session expired, clearing state"),localStorage.removeItem(xl),localStorage.removeItem(bc),$d}if(b)try{const L=JSON.parse(b);console.log("[PersistentNavigation] Successfully loaded saved state:",L);const N=L.adminState&&(L.adminState.classId||L.adminState.subjectId||L.adminState.unitId||L.adminState.lessonId||L.adminState.selectedResourceType),H=L.teacherState&&(L.teacherState.classId||L.teacherState.subjectId||L.teacherState.unitId||L.teacherState.lessonId||L.teacherState.selectedResourceType);console.log("[PersistentNavigation] State has data:",{hasAdminData:N,hasTeacherData:H});const _={adminState:{...Eb,...L.adminState},teacherState:{...kb,...L.teacherState},lastUpdated:L.lastUpdated||Date.now()};return console.log("[PersistentNavigation] Restored state:",_),_}catch(L){console.error("[PersistentNavigation] Failed to parse saved state:",L),localStorage.removeItem(xl),localStorage.removeItem(bc)}else console.log("[PersistentNavigation] No saved state found, using defaults")}catch(b){console.error("[PersistentNavigation] Error reading navigation state:",b),localStorage.removeItem(xl),localStorage.removeItem(bc)}return $d}),r=P.useCallback(()=>{try{localStorage.setItem(bc,Date.now().toString())}catch(b){console.error("Failed to update last activity:",b)}},[]),a=P.useRef(void 0),i=P.useCallback(b=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{const U={...t,...b,lastUpdated:Date.now()};console.log("[PersistentNavigation] Debounced saving state:",U),A(U),localStorage.setItem(xl,JSON.stringify(U)),r()},100)},[t,r]),l=P.useCallback(b=>{console.log("[PersistentNavigation] Updating admin state with:",b);const U={...t.adminState,...b};console.log("[PersistentNavigation] New admin state will be:",U),i({adminState:U})},[t.adminState,i]),d=P.useCallback(b=>{console.log("[PersistentNavigation] Updating teacher state with:",b);const U={...t.teacherState,...b};console.log("[PersistentNavigation] New teacher state will be:",U),i({teacherState:U})},[t.teacherState,i]),u=P.useCallback(()=>{console.log("[PersistentNavigation] Clearing navigation state"),localStorage.removeItem(xl),localStorage.removeItem(bc),A($d)},[]);P.useEffect(()=>{const b=L=>{console.log("[PersistentNavigation] Browser closing")},U=()=>{document.visibilityState==="visible"&&r()},F=()=>{console.log("[PersistentNavigation] Page hiding, force saving state");try{localStorage.setItem(xl,JSON.stringify(t))}catch(L){console.error("Failed to save state on page hide:",L)}};return window.addEventListener("beforeunload",b),window.addEventListener("pagehide",F),document.addEventListener("visibilitychange",U),r(),()=>{window.removeEventListener("beforeunload",b),window.removeEventListener("pagehide",F),document.removeEventListener("visibilitychange",U)}},[r,t]),P.useEffect(()=>{const b=setInterval(r,3e5);return()=>clearInterval(b)},[r]);const f=P.useCallback(()=>{console.log("[PersistentNavigation] Force saving current state"),localStorage.setItem(xl,JSON.stringify(t))},[t]),g=()=>{const b=t.adminState,U=t.teacherState,F=!!(b.classId||b.subjectId||b.unitId||b.subUnitId||b.lessonId||b.selectedResourceType),L=!!(U.classId||U.subjectId||U.unitId||U.subUnitId||U.lessonId||U.selectedResourceType);return F||L},w=t.lastUpdated!==$d.lastUpdated,v=g(),C=!!(w&&v);return{adminState:t.adminState,teacherState:t.teacherState,updateAdminState:l,updateTeacherState:d,clearNavigationState:u,isNavigationRestored:C,getCurrentState:()=>({adminState:t.adminState,teacherState:t.teacherState,lastUpdated:t.lastUpdated,isRestored:C}),forceSave:f}},fB={classId:null,subjectId:null,unitId:null,subUnitId:null,lessonId:null,selectedResourceType:null,activePage:"browser",scrollPosition:0},hB={classId:null,subjectId:null,unitId:null,subUnitId:null,lessonId:null,selectedResourceType:null,scrollPosition:0},R0={user:null,token:null,adminState:fB,teacherState:hB,fontSize:18},ef="learningPlatformSession",Lb=P.createContext(void 0),gB=({children:t})=>{const[A,r]=P.useState(()=>{try{const k=localStorage.getItem(ef);if(k){const V=JSON.parse(k);return{...R0,user:V.user||null,token:V.token||null,fontSize:typeof V.fontSize=="number"?V.fontSize:18}}}catch(k){console.error("Failed to parse session from localStorage",k),localStorage.removeItem(ef)}return R0}),{adminState:a,teacherState:i,updateAdminState:l,updateTeacherState:d,clearNavigationState:u,isNavigationRestored:f,getCurrentState:g,forceSave:w}=dB(),v=P.useMemo(()=>{const k={...A,adminState:a,teacherState:i};return console.log("[SessionContext] Combining session and navigation state:",{session:{user:A.user?"present":"null",token:A.token?"present":"null",fontSize:A.fontSize},navigation:{adminState:{classId:a.classId,subjectId:a.subjectId,unitId:a.unitId,subUnitId:a.subUnitId,lessonId:a.lessonId},teacherState:{classId:i.classId,subjectId:i.subjectId,unitId:i.unitId,subUnitId:i.subUnitId,lessonId:i.lessonId}},isNavigationRestored:f}),k},[A,a,i,f]);P.useEffect(()=>{try{const k={user:v.user,token:v.token,fontSize:v.fontSize};localStorage.setItem(ef,JSON.stringify(k))}catch(k){console.error("Failed to save session to localStorage",k)}},[v.user,v.token,v.fontSize]);const C=P.useCallback(k=>{r(V=>({...V,user:k.user,token:k.token}))},[]),b=P.useCallback(()=>{r(R0),localStorage.removeItem(ef),u()},[u]),U=P.useCallback(k=>{r(V=>V.user?{...V,user:k}:V)},[]),F=P.useCallback(k=>{l(k)},[l]),L=P.useCallback(k=>{d(k)},[d]),N=P.useCallback(k=>{r(V=>({...V,fontSize:k}))},[]),H=P.useCallback(()=>{u()},[u]),_=P.useMemo(()=>({session:v,login:C,logout:b,updateProfile:U,updateAdminState:F,updateTeacherState:L,setFontSize:N,clearNavigationState:H,isNavigationRestored:f,getCurrentNavigationState:g,forceSaveNavigation:w}),[v,C,b,U,F,L,N,H,f,g,w]);return o.jsx(Lb.Provider,{value:_,children:t})},Di=()=>{const t=P.useContext(Lb);if(t===void 0)throw new Error("useSession must be used within a SessionProvider");return t},pB=()=>{const[t,A]=P.useState([]),r=["","","","","","","","","","","","","","","","","1","2","3","4","5","6","7","8","9","0","+","-","","","=","%","E=mc","a+b=c","f(x)","lim","log","sin","cos","tan","HO","CO","NaCl","HSO","O","N","He","Ne","Ar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];return P.useEffect(()=>{const a=d=>({id:d,x:Math.random()*100,y:Math.random()*100,symbol:r[Math.floor(Math.random()*r.length)],delay:Math.random()*5,duration:8+Math.random()*12,size:12+Math.random()*20,opacity:.1+Math.random()*.3}),i=Array.from({length:25},(d,u)=>a(u));A(i);const l=setInterval(()=>{A(d=>{const u=[...d];return u.length<30&&u.push(a(Date.now())),u.length>30&&u.shift(),u})},3e3);return()=>clearInterval(l)},[]),o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900"}),o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-blue-300 dark:bg-blue-700 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-20 animate-pulse"}),o.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-purple-300 dark:bg-purple-700 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-20 animate-pulse delay-1000"}),o.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-indigo-300 dark:bg-indigo-700 rounded-full mix-blend-multiply dark:mix-blend-overlay filter blur-xl opacity-20 animate-pulse delay-2000"})]}),t.map(a=>o.jsx("div",{className:"absolute text-blue-600 dark:text-blue-300 font-mono select-none animate-float",style:{left:`${a.x}%`,top:`${a.y}%`,fontSize:`${a.size}px`,opacity:a.opacity,animationDelay:`${a.delay}s`,animationDuration:`${a.duration}s`},children:a.symbol},a.id)),o.jsx("div",{className:"absolute inset-0 opacity-10",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[o.jsx("defs",{children:o.jsx("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),o.jsx("rect",{width:"100",height:"100",fill:"url(#grid)",className:"animate-pulse"})]})})]})},mB=()=>{const{login:t}=Di(),[A,r]=P.useState(""),[a,i]=P.useState(""),[l,d]=P.useState(null),[u,f]=P.useState(!1),[g,w]=P.useState(!1),v=async b=>{b.preventDefault(),d(null),f(!0);try{const U=await nB(A,a);t(U)}catch(U){U instanceof Error?d(U.message):d("An unknown error occurred.")}finally{f(!1)}},C=()=>{w(!g)};return o.jsxs("div",{className:"relative flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8",children:[o.jsx(pB,{}),o.jsxs("div",{className:"relative z-10 w-full max-w-md p-6 sm:p-8 space-y-6 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/20 mx-auto",children:[o.jsxs("div",{className:"text-center welcome-text",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Learning Platform"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-300",children:"Please sign in to your account"})]}),o.jsxs("form",{className:"space-y-5 sm:space-y-6",onSubmit:v,children:[o.jsxs("div",{className:"edu-symbol",children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),o.jsx("input",{id:"username",type:"text",value:A,onChange:b=>r(b.target.value),required:!0,className:"w-full px-4 py-3 text-base bg-white/90 dark:bg-gray-700/90 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm",placeholder:"Enter your username",autoComplete:"username"})]}),o.jsxs("div",{className:"edu-symbol",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",type:g?"text":"password",value:a,onChange:b=>i(b.target.value),required:!0,className:"w-full px-4 py-3 text-base bg-white/90 dark:bg-gray-700/90 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 pr-12 backdrop-blur-sm",placeholder:"Enter your password",autoComplete:"current-password"}),o.jsx("button",{type:"button",onClick:C,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-300 focus:outline-none focus:text-blue-500 transition-all duration-300 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30","aria-label":g?"Hide password":"Show password",children:g?o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):o.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l&&o.jsx("div",{className:"error-message p-3 text-sm text-red-600 dark:text-red-400 bg-red-50/80 dark:bg-red-900/30 rounded-lg border border-red-200 dark:border-red-800 backdrop-blur-sm",children:l}),o.jsx("button",{type:"submit",disabled:u,className:"w-full enhanced-button px-4 py-3 sm:py-4 text-base sm:text-lg font-semibold text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 rounded-lg transition-all duration-300 disabled:from-blue-400 disabled:to-blue-500 disabled:cursor-not-allowed shadow-lg hover:shadow-xl animated-gradient",children:u?"Signing in...":"Sign In"})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" 2025 Learning Platform. All rights reserved."})})]})]})};function Ar(t,A=[],r=!0){const[a,i]=P.useState(null),[l,d]=P.useState(!1),[u,f]=P.useState(null);return P.useEffect(()=>{if(f(null),!r){d(!1);return}const g=new AbortController;return(async()=>{d(!0);try{const v=await t();g.signal.aborted||i(v)}catch(v){g.signal.aborted||(v instanceof Error?f(v):f(new Error("An unknown error occurred")))}finally{g.signal.aborted||d(!1)}})(),()=>{g.abort()}},[...A,r]),{data:a,isLoading:l,error:u,setData:i}}const Wu=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"9 18 15 12 9 6"})}),wB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"15 18 9 12 15 6"})}),Ti=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),dh=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),o.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),vs=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),o.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),o.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),bB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),xB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}),vB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Uo=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),a2=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14 2 14 8 20 8"}),o.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),o.jsx("polyline",{points:"9 15 12 12 15 15"})]}),Bp=({className:t})=>o.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})}),Pa=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),yB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),BB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),CB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),UB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),o.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),rd=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),s2=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M133 440a35.37 35.37 0 01-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0135.77.45l247.85 148.36a36 36 0 010 61l-247.89 148.4A35.5 35.5 0 01133 440z",stroke:"none"})}),QB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M208 432h-48a16 16 0 01-16-16V96a16 16 0 0116-16h48a16 16 0 0116 16v320a16 16 0 01-16 16zM352 432h-48a16 16 0 01-16-16V96a16 16 0 0116-16h48a16 16 0 0116 16v320a16 16 0 01-16 16z",stroke:"none"})}),FB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),o.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})]}),NB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),o.jsx("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),o.jsx("line",{x1:"17",y1:"9",x2:"23",y2:"15"})]}),Mi=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7 10 12 15 17 10"}),o.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),i2=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),SB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),o.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),Su=({label:t,value:A,onChange:r,options:a,isLoading:i,disabled:l})=>o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:A||"",onChange:r,disabled:l||i,className:"w-full px-4 py-3 text-base bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",disabled:!0,children:i?"Loading...":`Select ${t}`}),a==null?void 0:a.map(d=>o.jsx("option",{value:d._id,children:d.name},d._id))]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o.jsx("svg",{className:"w-4 h-4 text-gray-400 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),jb=({isOpen:t,onClose:A,classId:r,subjectId:a,unitId:i,subUnitId:l,lessonId:d,onClassChange:u,onSubjectChange:f,onUnitChange:g,onSubUnitChange:w,onLessonChange:v,onSave:C,defaultClass:b,onlyPublished:U=!1})=>{const{data:F,isLoading:L}=Ar(()=>wp(U),[U]),{data:N,isLoading:H}=Ar(()=>bp(r,U),[r,U],!!r),{data:_,isLoading:k}=Ar(()=>xp(a,U),[a,U],!!a),{data:V,isLoading:Ae}=Ar(()=>vp(i,U),[i,U],!!i),{data:ne,isLoading:J}=Ar(()=>yp(l,U),[l,U],!!l);P.useEffect(()=>{if(t&&F&&F.length>0&&!r&&b){const Q=F.find(j=>j.name.toLowerCase().includes(b.toLowerCase())||j._id===b);Q&&u(Q._id)}},[t,F,r,b,u]);const D=()=>{C(),A()},ee=r||a||i||l||d;return t?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:A}),o.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white dark:bg-gray-900 shadow-xl rounded-2xl border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Options"}),o.jsx("button",{onClick:A,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:o.jsx(Pa,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Su,{label:"Class",value:r,onChange:Q=>u(Q.target.value||null),options:F,isLoading:L,disabled:!1}),r&&o.jsx(Su,{label:"Subject",value:a,onChange:Q=>f(Q.target.value||null),options:N,isLoading:H,disabled:!r}),a&&o.jsx(Su,{label:"Unit",value:i,onChange:Q=>g(Q.target.value||null),options:_,isLoading:k,disabled:!a}),i&&(Ae||V&&V.length>0)&&o.jsx(Su,{label:"Sub-Unit",value:l,onChange:Q=>w(Q.target.value||null),options:V,isLoading:Ae,disabled:!i}),l&&(J||ne&&ne.length>0)&&o.jsx(Su,{label:"Chapter",value:d,onChange:Q=>v(Q.target.value||null),options:ne,isLoading:J,disabled:!l})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("button",{onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{onClick:D,className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!ee,children:"Save Selection"})]})]})]})}):null},EB=({classId:t,subjectId:A,unitId:r,subUnitId:a,lessonId:i,onClassChange:l,onSubjectChange:d,onUnitChange:u,onSubUnitChange:f,onLessonChange:g,onModalToggle:w,onlyPublished:v=!1})=>{const{data:C,isLoading:b}=Ar(()=>wp(v),[v]),{data:U,isLoading:F}=Ar(()=>bp(t,v),[t,v],!!t),{data:L,isLoading:N}=Ar(()=>xp(A,v),[A,v],!!A),{data:H,isLoading:_}=Ar(()=>vp(r,v),[r,v],!!r),{data:k,isLoading:V}=Ar(()=>yp(a,v),[a,v],!!a),[Ae,ne]=P.useState(!1),J=t||A||r||a||i,D=()=>{if(!t||!C)return null;const R=C.find(Y=>Y._id===t);return(R==null?void 0:R.name)||null},ee=()=>{if(!A||!U)return null;const R=U.find(Y=>Y._id===A);return(R==null?void 0:R.name)||null},Q=()=>{if(i&&k){const R=k.find(Y=>Y._id===i);return(R==null?void 0:R.name)||null}if(a&&H){const R=H.find(Y=>Y._id===a);return(R==null?void 0:R.name)||null}if(r&&L){const R=L.find(Y=>Y._id===r);return(R==null?void 0:R.name)||null}if(A&&U){const R=U.find(Y=>Y._id===A);return(R==null?void 0:R.name)||null}return null},j=()=>{const R=D(),Y=ee(),Z=Q();if(!R&&!Y&&!Z)return"Choose Class, Subject, Unit, Sub-Unit & Chapter";const ue=[];if(R&&ue.push(R.length>15?R.substring(0,12)+"...":R),Y){const ge=ue.length===0?20:15;ue.push(Y.length>ge?Y.substring(0,ge-3)+"...":Y)}if(Z){const ge=ue.length===0?25:ue.length===1?18:12;ue.push(Z.length>ge?Z.substring(0,ge-3)+"...":Z)}return ue.join("  ")};P.useEffect(()=>{!J&&C&&C.length>0&&(ne(!0),w==null||w(!0))},[J,C,w]),P.useEffect(()=>{r&&!_&&H&&H.length===0&&i!==r&&g(r)},[r,H,_,i,g]),P.useEffect(()=>{a&&!V&&k&&k.length===0&&i!==a&&(console.log("[CascadeSelectors] SubUnit as lesson - setting lessonId to subUnitId:",{subUnitId:a,previousLessonId:i}),g(a))},[a,k,V,i,g]);const I=()=>{ne(!0),w==null||w(!0)},K=()=>{ne(!1),w==null||w(!1)},ce=()=>{ne(!1),w==null||w(!1)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block p-4 bg-white dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700 shrink-0",children:o.jsxs("div",{className:"flex flex-wrap gap-3 lg:gap-4 overflow-hidden",children:[o.jsx(Eu,{label:"Class",value:t,onChange:R=>l(R.target.value||null),options:C,isLoading:b,disabled:!1}),t&&o.jsx(Eu,{label:"Subject",value:A,onChange:R=>d(R.target.value||null),options:U,isLoading:F,disabled:!t}),A&&o.jsx(Eu,{label:"Unit",value:r,onChange:R=>u(R.target.value||null),options:L,isLoading:N,disabled:!A}),r&&(_||H&&H.length>0)&&o.jsx(Eu,{label:"Sub-Unit",value:a,onChange:R=>f(R.target.value||null),options:H,isLoading:_,disabled:!r}),a&&(V||k&&k.length>0)&&o.jsx(Eu,{label:"Chapter",value:i,onChange:R=>g(R.target.value||null),options:k,isLoading:V,disabled:!a})]})}),o.jsx("div",{className:"md:hidden shrink-0",children:o.jsxs("button",{onClick:I,className:"w-full flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 shadow-sm rounded-md",children:[o.jsx("div",{className:"flex-1 min-w-0 px-3 py-2 text-left",children:o.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100 truncate leading-tight",children:j()})}),o.jsx("div",{className:"flex-shrink-0 px-3 py-2",children:o.jsx("div",{className:"p-1.5 rounded-md bg-gray-100 dark:bg-gray-700",children:o.jsx("svg",{className:"h-4 w-4 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]})}),o.jsx(jb,{isOpen:Ae,onClose:K,classId:t,subjectId:A,unitId:r,subUnitId:a,lessonId:i,onClassChange:l,onSubjectChange:d,onUnitChange:u,onSubUnitChange:f,onLessonChange:g,onSave:ce,defaultClass:"8",onlyPublished:v})]})},Eu=({label:t,value:A,onChange:r,options:a,isLoading:i,disabled:l})=>o.jsx("div",{className:"relative flex-1 min-w-[160px] max-w-[200px]",children:o.jsxs("select",{value:A||"",onChange:r,disabled:l||i,className:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed truncate",style:{textOverflow:"ellipsis"},children:[o.jsx("option",{value:"",disabled:!0,children:i?"Loading...":`Select ${t}`}),a==null?void 0:a.map(d=>o.jsx("option",{value:d._id,className:"truncate",children:d.name},d._id))]})}),jg=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),o.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),_f=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),o.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Hg=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),o.jsx("polyline",{points:"13 2 13 9 20 9"})]}),_g=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),kB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),o.jsx("polyline",{points:"2 17 12 22 22 17"}),o.jsx("polyline",{points:"2 12 12 17 22 12"})]}),Xf=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),o.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),Yf=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),o.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),o.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"})]}),Jf=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14 2 14 8 20 8"}),o.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.jsx("polyline",{points:"10 9 9 9 8 9"})]}),Wf=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14 2 14 8 20 8"}),o.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.jsx("polyline",{points:"10 9 9 9 8 9"})]}),Ec=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M17 10C17 13.866 12 13 12 13C12 13 7 13.866 7 10C7 6.13401 9.23858 4 12 4C14.7614 4 17 6.13401 17 10Z"}),o.jsx("path",{d:"M12 13V15"}),o.jsx("path",{d:"M10.5 15.5L12 17L13.5 15.5"}),o.jsx("path",{d:"M12 17V20"}),o.jsx("path",{d:"M12 7.5C12 7.5 12.5 8 13 8.5C13.5 9 14 9 14 9"}),o.jsx("path",{d:"M12 7.5V7"})]}),Pc=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{x:"3",y:"4",width:"18",height:"12",rx:"2",ry:"2"}),o.jsx("line",{x1:"7",y1:"8",x2:"17",y2:"8"}),o.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"}),o.jsx("circle",{cx:"9",cy:"10",r:"1",fill:"currentColor"}),o.jsx("circle",{cx:"13",cy:"10",r:"1",fill:"currentColor"}),o.jsx("path",{d:"M8 18l-2 3h12l-2-3"})]}),Hb=[{key:"book",label:"Book",Icon:jg,description:"Read and explore the core textbook content.",color:"text-blue-600",gradient:"from-black to-blue-600"},{key:"slide",label:"Slides",Icon:Pc,description:"Visual presentations and lesson overviews.",color:"text-orange-500",gradient:"from-black to-orange-500"},{key:"flashcard",label:"Flashcard",Icon:_f,description:"Interactive cards for quick revision.",color:"text-violet-600",gradient:"from-black to-violet-600"},{key:"notes",label:"Notes",Icon:Hg,description:"Detailed study notes and key points.",color:"text-amber-500",gradient:"from-black to-amber-500"},{key:"qa",label:"Q-A & More",Icon:_g,description:"Questions, answers, and additional exercises.",color:"text-emerald-600",gradient:"from-black to-emerald-600"},{key:"quiz",label:"Quiz",Icon:Ec,description:"Test your knowledge with interactive quizzes.",color:"text-rose-600",gradient:"from-black to-rose-600"},{key:"activity",label:"Bookback Activity",Icon:kB,description:"Exercises and activities from the textbook.",color:"text-cyan-600",gradient:"from-black to-cyan-600"},{key:"video",label:"Video",Icon:Xf,description:"Educational videos and explanations.",color:"text-red-600",gradient:"from-black to-red-600"},{key:"audio",label:"Audio",Icon:Yf,description:"Audio lessons and pronunciations.",color:"text-purple-600",gradient:"from-black to-purple-600"},{key:"worksheet",label:"Worksheet",Icon:Jf,description:"Downloadable practice sheets and assignments.",color:"text-green-600",gradient:"from-black to-green-600"},{key:"questionPaper",label:"Question Papers",Icon:Wf,description:"Previous year and sample question papers.",color:"text-indigo-600",gradient:"from-black to-indigo-600"}],LB=({lessonId:t,selectedType:A,onSelectType:r,collapsed:a=!1})=>{const{data:i}=Ar(()=>aB(t),[t],!!t);return o.jsx("div",{className:"flex flex-col gap-1.5",children:Hb.map(l=>{const d=(i==null?void 0:i[l.key])||0,u=A===l.key;return o.jsxs("button",{onClick:()=>r(l.key),className:`
              relative flex items-center transition-all duration-300 group
              ${a?"justify-center w-12 h-12 rounded-xl mx-auto":"w-full justify-start py-2.5 px-3 rounded-lg overflow-hidden"}
              ${u?(()=>{const f=l.color.split("-"),g=f[1],w=f[2]||"600";return`bg-gradient-to-br from-${g}-${w} to-${g}-${parseInt(w)>400?parseInt(w)-100:parseInt(w)+100} text-white shadow-md`})():"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
            `,title:a?`${l.label} (${d})`:"","aria-pressed":u,disabled:!t,style:{opacity:t?1:.5,cursor:t?"pointer":"not-allowed"},children:[o.jsx(l.Icon,{className:`
              shrink-0 transition-transform duration-200
              ${a?"w-6 h-6":"w-5 h-5 mr-3"}
              ${!a&&u?"scale-110":""}
              ${u?"text-white":l.color}
            `}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:`text-sm font-bold flex-1 text-left tracking-wide ${u?"text-white":"text-gray-700 dark:text-gray-300"}`,children:l.label}),d>0&&o.jsx("span",{className:`
                    ml-2 px-2 py-0.5 text-[10px] font-extrabold rounded-full shadow-sm
                    ${u?"bg-white/20 text-white backdrop-blur-sm":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-600"}
                  `,children:d})]}),a&&d>0&&o.jsx("span",{className:`absolute top-0 right-0 -mr-1 -mt-1 flex h-4 w-4 items-center justify-center rounded-full text-[9px] font-bold text-white shadow ring-2 ring-white dark:ring-gray-900 ${l.color.replace("text-","bg-")}`,children:d>9?"9+":d}),a&&o.jsxs("div",{className:"absolute left-full top-1/2 ml-3 -translate-y-1/2 px-3 py-1.5 bg-gray-900 text-white text-xs font-semibold rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap z-50 shadow-xl",children:[l.label,o.jsx("div",{className:"absolute top-1/2 -left-1 -mt-1 border-4 border-transparent border-r-gray-900"})]})]},l.key)})})},jB=({lessonId:t,selectedResourceType:A,onSelectResourceType:r,isOpen:a,isMobile:i=!1})=>{const l=i?a?"w-72":"w-0":a?"w-72":"w-20",d=!i&&!a;return o.jsx("aside",{className:`flex flex-col bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out ${l} overflow-hidden shrink-0 z-10`,children:o.jsxs("div",{className:`flex-1 overflow-y-auto no-scrollbar ${d?"p-2":"p-4"}`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[!d&&o.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:"Resources"}),o.jsx(LB,{lessonId:t,selectedType:A,onSelectType:r,collapsed:d})]})})},HB=[{label:"Mobile (360px)",value:"mobile",description:"Optimized for mobile devices"},{label:"Tablet (768px)",value:"tablet",description:"Optimized for tablets"},{label:"Desktop (1024px)",value:"desktop",description:"Optimized for desktop displays"},{label:"Large Desktop (1440px)",value:"large",description:"Optimized for large screens"}],_B=({isOpen:t,onClose:A,onResolutionSelect:r})=>{const[a,i]=P.useState(""),l=()=>{a&&(r(a),A())},d=u=>{i(u)};return t?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:A}),o.jsxs("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white dark:bg-gray-900 shadow-xl rounded-2xl border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Select Page Resolution"}),o.jsx("button",{onClick:A,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:o.jsx(Pa,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"space-y-4",children:HB.map(u=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"flex items-center h-5",children:o.jsx("input",{id:u.value,name:"resolution",type:"radio",value:u.value,checked:a===u.value,onChange:f=>d(f.target.value),className:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 dark:border-gray-600 dark:bg-gray-700"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{htmlFor:u.value,className:"block text-sm font-medium text-gray-900 dark:text-white cursor-pointer",children:u.label}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:u.description})]})]},u.value))}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("button",{onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),o.jsx("button",{onClick:l,className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:"Apply Resolution"})]})]})]})}):null},TB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),IB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"5"}),o.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),o.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),o.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),o.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),o.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),o.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),o.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),o.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),DB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),MB=({user:t,onToggleSidebar:A,onLogout:r,selectedClass:a,onClassSelect:i,onProfile:l})=>{var R;const[d,u]=P.useState(!1),[f,g]=P.useState(()=>typeof window<"u"?localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1),[w,v]=P.useState(!1),[C,b]=P.useState(!1),[U,F]=P.useState(!1),[L,N]=P.useState(a||"8"),[H,_]=P.useState(null),[k,V]=P.useState(null),[Ae,ne]=P.useState(null),[J,D]=P.useState(null),[ee,Q]=P.useState(null),j=P.useRef(null);P.useEffect(()=>{a&&N(a)},[a]),P.useEffect(()=>{f?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[f]);const I=()=>{g(!f)},K=()=>{var Y;document.fullscreenElement?(Y=document.exitFullscreen)==null||Y.call(document):document.documentElement.requestFullscreen().catch(console.error)},ce=Y=>{console.log("Selected resolution:",Y)};return P.useEffect(()=>{const Y=()=>{u(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",Y),()=>document.removeEventListener("fullscreenchange",Y)},[]),P.useEffect(()=>{const Y=Z=>{j.current&&!j.current.contains(Z.target)&&v(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]),o.jsxs("header",{className:"flex items-center justify-between px-2 sm:px-4 h-16 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 z-30 shrink-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("button",{onClick:A,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Toggle resource sidebar",children:o.jsx(TB,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600 dark:text-gray-300"})}),!d&&o.jsx("div",{className:"flex items-center space-x-3",children:o.jsx("h1",{className:"text-sm sm:text-xl font-bold text-gray-800 dark:text-white truncate max-w-40 sm:max-w-none",children:"Learning Platform"})})]}),o.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[o.jsx("button",{onClick:K,className:"hidden md:flex w-8 h-8 sm:w-7 sm:h-7 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-150 items-center justify-center overflow-hidden",title:d?"Exit Full Screen":"Enter Full Screen",children:d?o.jsx(xB,{className:"h-6 w-6 sm:h-5 sm:w-5 text-gray-600 dark:text-gray-300"}):o.jsx(bB,{className:"h-6 w-6 sm:h-5 sm:w-5 text-gray-600 dark:text-gray-300"})}),o.jsxs("div",{className:"relative",ref:j,children:[w&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-50 border border-gray-200 dark:border-gray-700 transform origin-top-right",children:[o.jsxs("button",{onClick:()=>{l==null||l(),v(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 transition-colors duration-150",children:[o.jsx(yB,{className:"h-4 w-4"}),o.jsx("span",{children:"Profile"})]}),o.jsx("hr",{className:"border-gray-200 dark:border-gray-600 my-1"}),o.jsxs("button",{onClick:()=>{I(),v(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 transition-colors duration-150",children:[f?o.jsx(IB,{className:"h-4 w-4"}):o.jsx(DB,{className:"h-4 w-4"}),o.jsx("span",{children:"Toggle Dark Mode"})]}),o.jsx("hr",{className:"border-gray-200 dark:border-gray-600 my-1"}),o.jsxs("button",{onClick:()=>{r(),v(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center space-x-3 transition-colors duration-150",children:[o.jsx(vB,{className:"h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]}),o.jsx("button",{onClick:()=>v(!w),className:"w-8 h-8 sm:w-7 sm:h-7 bg-blue-500 rounded-full user-avatar text-white font-semibold hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-150 mobile-user-icon flex items-center justify-center overflow-hidden","aria-label":"User menu","aria-expanded":w,"aria-haspopup":"true",children:o.jsx("span",{className:"text-sm sm:text-xs font-medium leading-none select-none",children:(R=t.name)==null?void 0:R[0]})})]})]}),o.jsx(jb,{isOpen:C,onClose:()=>b(!1),classId:H,subjectId:k,unitId:Ae,subUnitId:J,lessonId:ee,onClassChange:_,onSubjectChange:V,onUnitChange:ne,onSubUnitChange:D,onLessonChange:Q,onSave:()=>{H&&N(a||"8"),i&&i()},defaultClass:"8"}),o.jsx(_B,{isOpen:U,onClose:()=>F(!1),onResolutionSelect:ce})]})},OB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})}),RB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),o.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),PB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),KB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),o.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),o.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),_b=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Tb=P.createContext(void 0),zB=({children:t})=>{const[A,r]=P.useState([]),a=P.useCallback((l,d="info")=>{const u=Math.random().toString(36).substr(2,9);r(f=>[...f,{id:u,message:l,type:d}]),setTimeout(()=>{i(u)},3e3)},[]),i=P.useCallback(l=>{r(d=>d.filter(u=>u.id!==l))},[]);return o.jsxs(Tb.Provider,{value:{showToast:a},children:[t,o.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:A.map(l=>o.jsx(VB,{toast:l,onClose:()=>i(l.id)},l.id))})]})},VB=({toast:t,onClose:A})=>{const r={success:o.jsx(OB,{className:"w-5 h-5 text-green-500"}),error:o.jsx(RB,{className:"w-5 h-5 text-red-500"}),warning:o.jsx(KB,{className:"w-5 h-5 text-yellow-500"}),info:o.jsx(PB,{className:"w-5 h-5 text-blue-500"})},a={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"};return o.jsxs("div",{className:`pointer-events-auto flex items-center w-full max-w-xs p-4 rounded-lg shadow-lg border ${a[t.type]} transform transition-all duration-300 ease-in-out animate-slide-in`,children:[o.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg bg-white",children:r[t.type]}),o.jsx("div",{className:"ml-3 text-sm font-normal text-gray-800",children:t.message}),o.jsx("button",{onClick:A,className:"ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8","aria-label":"Close",children:o.jsx(_b,{className:"w-3 h-3"})})]})},Mr=()=>{const t=P.useContext(Tb);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},GB=({user:t,onBack:A})=>{var N;const[r,a]=P.useState(!1),[i,l]=P.useState(!1),[d,u]=P.useState(!1),{showToast:f}=Mr(),[g,w]=P.useState({name:t.name||"",email:t.email||"",role:t.role,mobileNumber:t.mobileNumber||""}),[v,C]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),b=H=>{w({...g,[H.target.name]:H.target.value})},U=H=>{C({...v,[H.target.name]:H.target.value})},F=async()=>{u(!0);try{await sB(t._id,{name:g.name,email:g.email,mobileNumber:g.mobileNumber}),f("Profile updated successfully!","success"),a(!1)}catch(H){console.error("Error updating profile:",H),f("Failed to update profile. Please try again.","error")}finally{u(!1)}},L=async H=>{if(H.preventDefault(),v.newPassword!==v.confirmPassword){f("New passwords do not match","error");return}u(!0);try{await iB(t._id,{currentPassword:v.currentPassword,newPassword:v.newPassword,confirmPassword:v.confirmPassword}),f("Password changed successfully!","success"),l(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(_){console.error("Error changing password:",_),f(_.message||"Failed to change password. Please try again.","error")}finally{u(!1)}};return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white dark:bg-gray-900 rounded-lg shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Profile Settings"}),o.jsx("button",{onClick:A,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors duration-200",children:" Back"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),!r&&o.jsx("button",{onClick:()=>a(!0),className:"px-3 py-1 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors duration-200",children:"Edit"})]}),r?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),o.jsx("input",{type:"text",name:"name",value:g.name,onChange:b,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:g.email,onChange:b,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mobile Number"}),o.jsx("input",{type:"tel",name:"mobileNumber",value:g.mobileNumber,onChange:b,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter mobile number"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),o.jsx("input",{type:"text",name:"role",value:g.role,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:F,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Saving...":"Save Changes"}),o.jsx("button",{onClick:()=>a(!1),disabled:d,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 disabled:opacity-50",children:"Cancel"})]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold text-xl uppercase",children:(N=t.name)==null?void 0:N[0]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t.name}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:t.role})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:t.email||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Mobile Number"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:t.mobileNumber||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"User ID"}),o.jsx("p",{className:"text-gray-900 dark:text-white font-mono text-sm",children:t._id})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Security"}),!i&&o.jsx("button",{onClick:()=>l(!0),className:"px-3 py-1 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-md transition-colors duration-200",children:"Change Password"})]}),i?o.jsxs("form",{onSubmit:L,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Password"}),o.jsx("input",{type:"password",name:"currentPassword",value:v.currentPassword,onChange:U,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),o.jsx("input",{type:"password",name:"newPassword",value:v.newPassword,onChange:U,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),o.jsx("input",{type:"password",name:"confirmPassword",value:v.confirmPassword,onChange:U,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating...":"Update Password"}),o.jsx("button",{type:"button",onClick:()=>{l(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})},disabled:d,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 disabled:opacity-50",children:"Cancel"})]})]}):o.jsx("div",{children:o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Change your password to keep your account secure."})})]})]})]})},Ib=({contentType:t="content"})=>o.jsxs("div",{className:"p-8 text-center bg-amber-50 dark:bg-amber-900/20 border-2 border-amber-200 dark:border-amber-800 rounded-xl",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-amber-100 dark:bg-amber-900/40 rounded-full flex items-center justify-center",children:o.jsx(SB,{className:"w-8 h-8 text-amber-600 dark:text-amber-400"})}),o.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-2",children:"   "}),o.jsxs("p",{className:"text-amber-700 dark:text-amber-300",children:["This ",t," is not yet published"]})]}),Ws=({isOpen:t,onClose:A,onConfirm:r,title:a,message:i})=>{if(!t)return null;const l=()=>{r&&r()};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-sm m-4",onClick:d=>d.stopPropagation(),children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:a}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:i}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:A,className:"px-4 py-2 rounded-md text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500",children:"Cancel"}),o.jsx("button",{onClick:l,className:"px-4 py-2 rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 focus:ring-red-500",children:"Confirm"})]})]})})},qB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),o.jsx("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),o.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),XB=({className:t})=>o.jsxs("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"11",cy:"11",r:"8"}),o.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),o.jsx("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]}),YB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"15 18 9 12 15 6"})}),JB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("polyline",{points:"9 18 15 12 9 6"})}),WB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),ZB=({className:t})=>o.jsx("svg",{className:t,stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),l2="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js",Db="/pdf.worker.min.js";qf.workerSrc=Db;const Qo=({url:t,initialScale:A=1})=>{const[r,a]=P.useState(null),[i,l]=P.useState(1),[d,u]=P.useState(0),[f,g]=P.useState(A),[w,v]=P.useState(!0),[C,b]=P.useState(null),[U,F]=P.useState(!1),[L,N]=P.useState(!1),H=P.useRef(null),_=P.useRef(null),k=P.useRef(null),V=P.useRef(null),Ae=P.useRef(!0);P.useEffect(()=>{const I=()=>{F(window.innerWidth<768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),P.useEffect(()=>{g(U?.65:A)},[U,A]);const ne=P.useCallback(async(I,K,ce=0)=>{if(!(!K||!H.current||!_.current||!Ae.current)){k.current&&k.current.cancel();try{const R=await K.getPage(I);if(!Ae.current)return;const Y=R.getViewport({scale:f}),Z=H.current,ue=Z.getContext("2d");if(ue&&Ae.current){Z.height=Y.height,Z.width=Y.width;const ge={canvasContext:ue,viewport:Y},be=R.render(ge);k.current=be,await be.promise,k.current=null}}catch(R){if(!Ae.current||R.name==="RenderingCancelledException"||R.message==="cancelled")return;if(R.message&&(R.message.includes("Worker was destroyed")||R.message.includes("Worker"))&&(console.warn("PDF worker destroyed, attempting retry...",ce),ce<3&&Ae.current)){setTimeout(()=>{Ae.current&&ne(I,K,ce+1)},Math.pow(2,ce)*150);return}console.error("Render error:",R),(!R.message||!R.message.includes("Worker was destroyed"))&&b("Failed to render PDF page. Please try again.")}}},[f]);P.useEffect(()=>{if(!t)return;if(typeof Xy>"u"){b("PDF.js library is not loaded."),v(!1);return}return Ae.current=!0,(async()=>{try{(await fetch(Db,{method:"HEAD"})).ok||(console.warn("Local PDF worker not accessible, using CDN fallback"),qf.workerSrc=l2)}catch(ce){console.warn("Failed to access local PDF worker, using CDN fallback:",ce),qf.workerSrc=l2}const K=Lg(t);V.current=K,v(!0),b(null),K.promise.then(ce=>{Ae.current&&(a(ce),u(ce.numPages),l(1),v(!1))}).catch(ce=>{Ae.current&&(console.error("Error loading PDF:",ce),ce.name==="InvalidPDFException"?b("Failed to load PDF. Invalid PDF format."):ce.name==="PasswordException"?b("Failed to load PDF. Password protected files are not supported."):ce.name==="MissingPDFException"?b("Failed to load PDF. File not found or corrupted."):ce.name==="UnexpectedResponseException"?b("Failed to load PDF. Network error occurred."):ce.message&&(ce.message.includes("Worker was destroyed")||ce.message.includes("Worker"))?(console.warn("Worker destroyed during loading, retrying silently..."),setTimeout(()=>{if(Ae.current&&t){const R=Lg(t);V.current=R,v(!0),b(null),R.promise.then(Y=>{Ae.current&&(a(Y),u(Y.numPages),l(1),v(!1))}).catch(Y=>{Ae.current&&(console.error("PDF reload failed:",Y),b("Failed to load PDF. Please refresh the page."),v(!1))})}},200)):b(`Failed to load PDF. ${ce.message||"Unknown error"}.`),v(!1))})})(),()=>{if(Ae.current=!1,V.current&&V.current.status!=="destroyed")try{V.current.destroy()}catch(K){console.debug("Loading task cleanup error:",K)}if(k.current)try{k.current.cancel()}catch(K){console.debug("Render task cleanup error:",K)}a(null)}},[t]),P.useEffect(()=>{r&&Ae.current&&ne(i,r)},[r,i,ne]),P.useEffect(()=>()=>{if(Ae.current=!1,k.current)try{k.current.cancel()}catch(I){console.debug("Render task cleanup error:",I)}if(V.current&&V.current.status!=="destroyed")try{V.current.destroy()}catch(I){console.debug("Loading task cleanup error:",I)}},[]);const J=()=>{i<=1||l(i-1)},D=()=>{i>=d||l(i+1)},ee=()=>{g(I=>I+.1)},Q=()=>{g(I=>Math.max(.1,I-.1))},j=()=>{_.current&&(L?document.exitFullscreen&&document.exitFullscreen():_.current.requestFullscreen&&_.current.requestFullscreen())};return P.useEffect(()=>{const I=()=>{N(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",I),()=>{document.removeEventListener("fullscreenchange",I)}},[]),o.jsxs("div",{ref:_,className:"w-full h-full bg-gray-200 dark:bg-gray-900 flex flex-col relative",children:[o.jsxs("div",{className:"w-full flex items-center justify-center p-2 bg-gray-100 dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 sticky top-0 z-10 shrink-0 gap-2 shadow-sm",children:[o.jsx("button",{onClick:J,disabled:i<=1||!r,className:"p-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-700 disabled:opacity-30 transition-colors","aria-label":"Previous Page",title:"Previous Page",children:o.jsx(YB,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})}),o.jsxs("span",{className:"mx-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:["Page ",i," of ",d||"--"]}),o.jsx("button",{onClick:D,disabled:i>=d||!r,className:"p-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-700 disabled:opacity-30 transition-colors","aria-label":"Next Page",title:"Next Page",children:o.jsx(JB,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})}),o.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-2"}),o.jsx("button",{onClick:Q,disabled:!r,className:"p-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-700 disabled:opacity-30 transition-colors","aria-label":"Zoom Out",title:"Zoom Out",children:o.jsx(XB,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})}),o.jsxs("span",{className:"mx-2 text-sm font-medium text-gray-700 dark:text-gray-200 min-w-[3ch] text-center",children:[(f*100).toFixed(0),"%"]}),o.jsx("button",{onClick:ee,disabled:!r,className:"p-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-700 disabled:opacity-30 transition-colors","aria-label":"Zoom In",title:"Zoom In",children:o.jsx(qB,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})}),!U&&o.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-2"}),!U&&o.jsx("button",{onClick:j,disabled:!r,className:"p-2 rounded-full hover:bg-gray-300 dark:hover:bg-gray-700 disabled:opacity-30 transition-colors","aria-label":L?"Exit Fullscreen":"Enter Fullscreen",title:L?"Exit Fullscreen":"Enter Fullscreen",children:L?o.jsx(ZB,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"}):o.jsx(WB,{className:"w-5 h-5 text-gray-700 dark:text-gray-200"})})]}),o.jsxs("div",{className:"flex-1 overflow-auto flex items-start justify-center bg-gray-500/20 p-4 relative w-full",children:[w&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50 dark:bg-black/50 z-20",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),C?o.jsxs("div",{className:"text-center p-10 text-red-500 bg-white dark:bg-gray-800 rounded-lg shadow-lg mt-10",children:[o.jsx("p",{className:"font-bold mb-2",children:"Error"}),C]}):o.jsx("canvas",{ref:H,className:"shadow-xl max-w-none bg-white"})]})]})},$B=t=>{const[A,r]=P.useState(null);return P.useEffect(()=>{if(!t||!t.startsWith("data:application/pdf")){r(null);return}let a=null;const i=setTimeout(()=>{try{const d=t.split(",")[1],u=atob(d),f=u.length,g=new Uint8Array(f);for(let v=0;v<f;v++)g[v]=u.charCodeAt(v);const w=new Blob([g],{type:"application/pdf"});a=URL.createObjectURL(w),r(a)}catch{r(t)}},0);return()=>{clearTimeout(i),a&&URL.revokeObjectURL(a)}},[t]),A},e5=({content:t,onRemove:A,isAdmin:r,onExpand:a,onTogglePublish:i})=>{var b;const l=(b=t.file)==null?void 0:b.url,d=t.body||"",u=d.startsWith("data:application/pdf"),f=$B(u?d:void 0);El.useEffect(()=>{},[t._id]);let g=l||(u?f:d);g&&g.startsWith("http")&&!g.includes("cloudinary.com")&&!g.includes(window.location.hostname)&&(g=`http://localhost:5001/api/proxy/pdf?url=${encodeURIComponent(g)}`);const[w,v]=El.useState(!1);El.useEffect(()=>{const U=()=>{v(window.innerWidth<768)};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const C=w?.65:1.5;return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-2 relative h-full flex flex-col",children:[o.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:[o.jsx("button",{onClick:()=>g&&a(g),className:`${w?"p-3":"p-2"} rounded-full bg-white/50 dark:bg-black/50 hover:bg-white/80 dark:hover:bg-black/80 backdrop-blur-sm shadow-md`,title:"View Fullscreen",children:o.jsx(Bp,{className:`${w?"w-6 h-6":"w-5 h-5"} text-gray-600 dark:text-gray-300`})}),r&&i&&o.jsx("div",{className:"",onClick:U=>U.stopPropagation(),children:o.jsx(PublishToggle,{isPublished:!!t.isPublished,onToggle:i})}),r&&o.jsx("button",{onClick:A,className:`${w?"p-3":"p-2"} rounded-full bg-white/50 dark:bg-black/50 hover:bg-white/80 dark:hover:bg-black/80 backdrop-blur-sm shadow-md`,title:"Remove Book",children:o.jsx(vs,{className:`${w?"w-6 h-6":"w-5 h-5"} text-gray-600 dark:text-gray-300`})})]}),o.jsx("h2",{className:"text-lg font-semibold mb-4 pr-24 shrink-0 text-gray-800 dark:text-white truncate",title:t.title,children:t.title}),o.jsx("div",{className:"flex-1 overflow-hidden rounded border dark:border-gray-700 bg-gray-100 dark:bg-gray-900 relative",children:g?o.jsx(Qo,{url:g,initialScale:C}):o.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Preparing PDF..."})})]})},t5=({lessonId:t,onUpload:A,onExpand:r})=>{const[a,i]=P.useState("upload"),[l,d]=P.useState(null),[u,f]=P.useState(""),[g,w]=P.useState(""),[v,C]=P.useState(0),[b,U]=P.useState(!1),[F,L]=P.useState(null),[N,H]=P.useState(!1),[_,k]=P.useState(""),{showToast:V}=Mr(),[Ae,ne]=El.useState(!1);P.useEffect(()=>{const Q=()=>{ne(window.innerWidth<768)};return Q(),window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]),P.useEffect(()=>{t&&(async()=>{f("New Book"),w("Default/Book");try{const j=await wn(t);if(j){const{className:I,subjectName:K,unitName:ce,subUnitName:R,lessonName:Y}=j,Z=oe=>{if(!oe)return"0";const we=oe.match(/\d+/);return we?we[0]:"0"},ue=Z(ce),ge=Z(R),be=Z(Y),T=`${ue}.${ge}.${be}.pdf`,q=oe=>oe.replace(/[^a-zA-Z0-9]/g,""),le=[q(I),q(K),q(ce),R?q(R):"",q(Y)].filter(oe=>oe).join("/");f(T),w(`${le}/Books`)}}catch(j){console.log("Error fetching defaults",j)}})()},[t]);const J=Q=>{var I;const j=(I=Q.target.files)==null?void 0:I[0];j&&(j.type==="application/pdf"?(d(j),L(null),C(0)):(V("Please select a valid PDF file.","error"),d(null)))},D=async()=>{if(!l||!t)return;U(!0),C(0);const Q=new FormData;Q.append("file",l),Q.append("lessonId",t),Q.append("type","book"),Q.append("title",u);let j=g.replace(/^(\.\.\/)?uploads\//,"");Q.append("folder",j);const I=new XMLHttpRequest;I.upload.addEventListener("progress",K=>{if(K.lengthComputable){const ce=Math.round(K.loaded/K.total*100);C(ce)}}),I.addEventListener("load",()=>{var K;if(I.status>=200&&I.status<300)try{const ce=JSON.parse(I.responseText),R=((K=ce.file)==null?void 0:K.url)||ce.secure_url||ce.url;L(R),V("Book uploaded and saved successfully!","success"),U(!1),A()}catch{V("Upload succeeded but response was invalid.","warning"),U(!1)}else{try{const ce=JSON.parse(I.responseText);V(`Upload failed: ${ce.message||I.statusText}`,"error")}catch{V(`Upload failed: ${I.statusText}`,"error")}U(!1)}}),I.addEventListener("error",()=>{V("Network error during upload.","error"),U(!1)}),I.open("POST","/api/upload"),I.send(Q)},ee=async()=>{if(!(!_||!u)){H(!0);try{await(void 0)({title:u,body:_,lessonId:t,type:"book",metadata:{category:"External",subCategory:"Link"}}),V("Book link saved successfully!","success"),A()}catch{V("Failed to save link.","error")}finally{H(!1)}}};return o.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800/50 p-6 sm:p-8 rounded-lg shadow-md h-full flex flex-col overflow-hidden",children:[o.jsx("h3",{className:"text-lg font-bold text-center mb-6 text-gray-800 dark:text-white shrink-0",children:"Add New Book"}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 shrink-0",children:[o.jsx("button",{onClick:()=>i("upload"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="upload"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"PDF Upload"}),o.jsx("button",{onClick:()=>i("link"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="link"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Direct Link"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Book Title"}),o.jsx("input",{type:"text",value:u,onChange:Q=>f(Q.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),a==="upload"&&o.jsx("div",{className:"space-y-6 animate-fade-in",children:F?o.jsxs("div",{className:"text-center space-y-4 py-6 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900",children:o.jsx(rd,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Upload Complete!"}),o.jsxs("div",{className:"px-4",children:[o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Cloudinary URL:"}),o.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 p-2 rounded border border-gray-200 dark:border-gray-700",children:[o.jsx("input",{readOnly:!0,value:F,className:"flex-1 text-xs text-gray-600 dark:text-gray-300 bg-transparent border-none focus:ring-0 truncate"}),o.jsx("a",{href:F,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500",children:o.jsx(UB,{className:"w-4 h-4"})})]})]}),o.jsx("button",{onClick:A,className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors",children:"Done & View Book"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-1 flex items-center justify-center px-6 pt-10 pb-10 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:o.jsxs("div",{className:"space-y-2 text-center",children:[o.jsx(Uo,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center",children:o.jsxs("label",{htmlFor:"pdfFile",className:"relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[o.jsx("span",{children:"Select PDF File"}),o.jsx("input",{id:"pdfFile",name:"pdfFile",type:"file",className:"sr-only",onChange:J,accept:".pdf"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:l?l.name:"PDF up to 10MB"})]})}),l&&o.jsx("div",{className:"space-y-4",children:b?o.jsxs("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[o.jsx("div",{className:`h-4 rounded-full transition-all duration-300 relative overflow-hidden ${v===100?"bg-green-500":"bg-blue-600"}`,style:{width:`${v===100?100:v}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})}),o.jsx("div",{className:"text-center mt-2 flex items-center justify-center gap-2",children:v===100?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"Processing on Server (Please wait)..."})]}):o.jsxs("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:[v,"% Uploading..."]})})]}):o.jsx("button",{onClick:D,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all",children:"Upload & Save"})})]})}),a==="link"&&o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"PDF URL"}),o.jsx("input",{type:"url",value:_,onChange:Q=>k(Q.target.value),placeholder:"https://example.com/file.pdf",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Paste a direct link to a PDF file."})]}),o.jsx("button",{onClick:ee,disabled:N||!_,className:"w-full py-3 px-4 bg-gray-800 dark:bg-gray-700 text-white rounded-lg font-semibold shadow hover:bg-gray-700 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:N?"Saving...":"Save Link"})]})]})})]})},A5=({lessonId:t,user:A})=>{var N;const[r,a]=P.useState(0),{data:i,isLoading:l}=Ar(()=>za(t,["book"],A.role!=="admin"&&!A.canEdit),[t,r,A]),[d,u]=P.useState({isOpen:!1,onConfirm:null}),[f,g]=P.useState(null),[w,v]=P.useState(null),{showToast:C}=Mr();P.useEffect(()=>{(async()=>{})()},[t]);const b=(N=i==null?void 0:i[0])==null?void 0:N.docs[0],U=A.role==="admin"||!!A.canEdit,F=H=>{u({isOpen:!0,onConfirm:async()=>{await(void 0)(H),a(k=>k+1),C("Book deleted successfully.","success"),u({isOpen:!1,onConfirm:null})}})},L=async()=>{if(b)try{const H=!b.isPublished;await(void 0)(b._id,{isPublished:H}),a(_=>_+1),C(`Book ${H?"published":"unpublished"} successfully`,"success")}catch(H){console.error("Failed to toggle publish status:",H),C("Failed to update publish status","error")}};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full overflow-hidden flex flex-col",children:[o.jsx("div",{className:"hidden sm:flex justify-between items-center mb-6 shrink-0",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(jg,{className:"w-8 h-8 text-blue-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-blue-600 dark:from-white dark:to-blue-400",children:"Book"})]})})}),o.jsxs("div",{className:"flex-1 overflow-hidden min-h-0 flex flex-col",children:[l&&o.jsx("div",{className:"text-center py-10",children:"Loading book..."}),!l&&b&&o.jsx(o.Fragment,{children:!b.isPublished&&!U?o.jsx(Ib,{contentType:"book"}):o.jsx(e5,{content:b,onRemove:()=>F(b._id),isAdmin:U,onExpand:g,onTogglePublish:L})}),!l&&!b&&(U?o.jsx(t5,{lessonId:t,onUpload:()=>a(H=>H+1),onExpand:g}):o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(jg,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"No book available."})]}))]}),o.jsx(Ws,{isOpen:d.isOpen,onClose:()=>u({isOpen:!1,onConfirm:null}),onConfirm:d.onConfirm,title:"Remove Book",message:"Are you sure you want to remove this book? This action cannot be undone."}),f&&o.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex flex-col animate-fade-in h-screen w-screen",children:[o.jsx("div",{className:"hidden md:flex justify-end p-2 bg-black/50 absolute top-0 right-0 z-50 rounded-bl-lg",children:o.jsx("button",{onClick:()=>g(null),className:"p-2 rounded-full bg-red-600/80 hover:bg-red-500 text-white transition-colors","aria-label":"Close fullscreen PDF viewer",children:o.jsx(Pa,{className:"w-6 h-6"})})}),o.jsx("div",{className:"md:hidden fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50",children:o.jsx("button",{onClick:()=>g(null),className:"p-3 rounded-full bg-red-600/80 hover:bg-red-500 text-white transition-colors backdrop-blur-sm shadow-lg","aria-label":"Close fullscreen PDF viewer",children:o.jsx(Pa,{className:"w-6 h-6"})})}),o.jsx("div",{className:"w-full h-full pt-12 md:pt-0",children:o.jsx(Qo,{url:f,initialScale:2.5})})]})]})},r5="/pdf.worker.min.js";qf.workerSrc=r5;const Mb=t=>{const[A,r]=P.useState(null);return P.useEffect(()=>{if(!t||!t.startsWith("data:application/pdf")){r(null);return}let a=null;const i=setTimeout(()=>{try{const d=t.split(",")[1],u=atob(d),f=u.length,g=new Uint8Array(f);for(let v=0;v<f;v++)g[v]=u.charCodeAt(v);const w=new Blob([g],{type:"application/pdf"});a=URL.createObjectURL(w),r(a)}catch{r(t)}},0);return()=>{clearTimeout(i),a&&URL.revokeObjectURL(a)}},[t]),A},n5=({content:t,onClose:A,isMobile:r,isLandscape:a})=>{const[i,l]=P.useState(null),[d,u]=P.useState(1),[f,g]=P.useState(1),[w,v]=P.useState(null),[C,b]=P.useState(null),U=P.useRef(null),[F,L]=P.useState(0),[N,H]=P.useState(!1);P.useEffect(()=>{(async()=>{var Q;try{if(console.log("[FullscreenSlideViewer] Loading PDF for content:",t._id),(Q=t.file)!=null&&Q.url)console.log("[FullscreenSlideViewer] Using Cloudinary URL:",t.file.url),l(t.file.url);else if(t.filePath){const j=`/api/content/${t._id}/file`;console.log("[FullscreenSlideViewer] Using file URL:",j),l(j)}else if(t.body&&t.body.startsWith("data:application/pdf")){const j=Mb(t.body);l(j)}else console.log("[FullscreenSlideViewer] No filePath or base64 data found")}catch(j){console.error("[FullscreenSlideViewer] Error loading PDF:",j)}})()},[t]);const _=50,k=ee=>{b(null),v(ee.targetTouches[0].clientX)},V=ee=>{b(ee.targetTouches[0].clientX)},Ae=()=>{if(!w||!C)return;const ee=w-C,Q=ee>_,j=ee<-_;Q&&d<f&&u(I=>I+1),j&&d>1&&u(I=>I-1)};P.useEffect(()=>{const ee=Q=>{Q.key==="ArrowLeft"||Q.key==="ArrowUp"?(Q.preventDefault(),u(j=>Math.max(1,j-1))):Q.key==="ArrowRight"||Q.key==="ArrowDown"?(Q.preventDefault(),u(j=>Math.min(f,j+1))):Q.key==="Escape"&&A()};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[f,A]);const ne=P.useCallback(ee=>{const Q=new Date().getTime();Q-F<300&&A(),L(Q)},[F,A]),J=P.useCallback(ee=>{if(!U.current)return;const Q=ee.currentTarget.getBoundingClientRect(),I=(ee.clientX-Q.left)/Q.width*100;I<=25?u(K=>Math.max(1,K-1)):I>=75&&u(K=>Math.min(f,K+1))},[f]),D=P.useCallback(ee=>{g(ee.numPages),u(1)},[]);return!a&&r?o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:o.jsxs("div",{className:"text-center text-white p-8",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-6 border-4 border-white rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please rotate your device"}),o.jsx("p",{className:"text-gray-300",children:"Slides work best in landscape mode. Please rotate your device to continue."})]})}):o.jsx("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",onTouchStart:k,onTouchMove:V,onTouchEnd:Ae,children:o.jsxs("div",{className:"w-full h-full relative cursor-pointer select-none",onClick:J,onDoubleClick:ne,ref:U,children:[i?o.jsx(a5,{url:i,currentSlide:d,onSlideChange:u,onPdfLoad:D,isMobile:r}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Pc,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Loading slides..."}),t.body&&!t.body.startsWith("data:application/pdf")&&o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"No PDF data found"})]})}),o.jsx("div",{className:`absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black/50 to-transparent transition-opacity duration-300 ${N?"opacity-100":"opacity-0"}`,onMouseEnter:()=>H(!0),onMouseLeave:()=>H(!1),children:o.jsx("button",{onClick:A,className:"absolute top-4 right-4 bg-black/70 backdrop-blur-sm hover:bg-black/90 text-white p-2 rounded-full transition-all duration-200 hover:scale-110 hover:rotate-90",title:"Close (ESC)",children:o.jsx(_b,{className:"w-5 h-5"})})}),o.jsxs("div",{className:`absolute bottom-4 left-4 bg-black/70 backdrop-blur-sm px-4 py-2 rounded-lg text-white text-sm font-medium transition-opacity duration-300 ${N?"opacity-100":"opacity-0"}`,children:[d," / ",f]}),r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute left-0 top-[75px] w-1/4 h-[calc(100%-75px)] bg-transparent hover:bg-white/5 transition-colors"}),o.jsx("div",{className:"absolute right-0 top-[75px] w-1/4 h-[calc(100%-75px)] bg-transparent hover:bg-white/5 transition-colors"}),o.jsx("div",{className:"absolute left-1/4 top-[75px] w-1/2 h-[calc(100%-75px)] bg-transparent hover:bg-blue-500/10 transition-colors border-l border-r border-blue-400/20"})]}),!r&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute left-0 top-[75px] w-1/4 h-[calc(100%-75px)] bg-transparent hover:bg-white/3 transition-colors cursor-pointer"}),o.jsx("div",{className:"absolute right-0 top-[75px] w-1/4 h-[calc(100%-75px)] bg-transparent hover:bg-white/3 transition-colors cursor-pointer"})]})]})})},a5=({url:t,currentSlide:A,onSlideChange:r,onPdfLoad:a,isMobile:i})=>{const[l,d]=P.useState(null),[u,f]=P.useState(1),g=P.useRef(null),w=P.useRef(null),v=P.useRef(null);return P.useEffect(()=>{if(!t)return;(async()=>{try{const U=await(await Lg(t)).promise;d(U),a(U)}catch(b){console.error("Error loading PDF:",b)}})()},[t,a]),P.useEffect(()=>{const C=()=>{if(!l||!w.current)return;const b=w.current,U=b.clientWidth,F=b.clientHeight;l.getPage(A).then(L=>{const N=L.getViewport({scale:1}),H=N.width,_=N.height,k=U/H,V=F/_,Ae=Math.min(k,V);f(Ae)})};return window.addEventListener("resize",C),C(),()=>window.removeEventListener("resize",C)},[l,A]),P.useEffect(()=>{if(!l||!g.current||!w.current)return;(async()=>{try{v.current&&v.current.cancel();const b=await l.getPage(A),U=b.getViewport({scale:u}),F=g.current,L=F.getContext("2d");if(L){F.height=U.height,F.width=U.width;const N={canvasContext:L,viewport:U},H=b.render(N);v.current=H,await H.promise,v.current=null}}catch(b){console.error("Error rendering page:",b)}})()},[l,A,u]),o.jsx("div",{ref:w,className:"w-full h-full flex items-center justify-center bg-white overflow-hidden select-none",style:{userSelect:"none"},children:o.jsx("canvas",{ref:g,className:"shadow-2xl max-w-full max-h-full object-contain",style:{maxWidth:"100vw",maxHeight:"100vh",width:"auto",height:"auto",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"}})})},s5=({content:t,onRemove:A,isAdmin:r,onExpand:a,onTogglePublish:i})=>{const[l,d]=P.useState(null),[u,f]=P.useState(!1),[g,w]=P.useState(!0),[v,C]=P.useState(0);P.useEffect(()=>{(async()=>{var F;try{console.log("[SavedSlideViewer] Loading content:",t._id),console.log("[SavedSlideViewer] Content has filePath:",!!t.filePath),console.log("[SavedSlideViewer] Content body:",t.body);let L="";if((F=t.file)!=null&&F.url)console.log("[SavedSlideViewer] Using Cloudinary URL:",t.file.url),L=t.file.url;else if(t.filePath)L=`/api/content/${t._id}/file`,console.log("[SavedSlideViewer] Using file URL:",L);else if(t.body&&t.body.startsWith("data:application/pdf")){const N=Mb(t.body);N&&(L=N)}L&&L.startsWith("http")&&!L.includes("cloudinary.com")&&!L.includes(window.location.hostname)&&(L=`http://localhost:5001/api/proxy/pdf?url=${encodeURIComponent(L)}`),d(L)}catch(L){console.error("Error loading PDF:",L)}})()},[t]),P.useEffect(()=>{},[t._id]);const b=P.useCallback(U=>{const F=new Date().getTime();F-v<300&&a(),C(F)},[v,a]);return P.useEffect(()=>{const U=()=>{f(window.innerWidth<768),w(window.innerWidth>window.innerHeight)};return U(),window.addEventListener("resize",U),window.addEventListener("orientationchange",U),()=>{window.removeEventListener("resize",U),window.removeEventListener("orientationchange",U)}},[]),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md relative h-full flex flex-col",children:[o.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-20",children:[i&&o.jsx("button",{onClick:U=>{U.stopPropagation(),i()},className:`${u?"p-3":"p-2"} rounded-full backdrop-blur-sm shadow-md transition-all ${t.isPublished?"bg-white/90 dark:bg-black/80 text-green-600":"bg-white/50 dark:bg-black/50 text-gray-500"}`,title:t.isPublished?"Published":"Draft",children:o.jsx(rd,{className:`${u?"w-6 h-6":"w-5 h-5"}`})}),o.jsx("button",{onClick:a,className:`${u?"p-3":"p-2"} rounded-full bg-white/50 dark:bg-black/50 hover:bg-white/80 dark:hover:bg-black/80 backdrop-blur-sm shadow-md`,title:"View Fullscreen",children:o.jsx(Bp,{className:`${u?"w-6 h-6":"w-5 h-5"} text-gray-600 dark:text-gray-300`})}),r&&o.jsx("button",{onClick:A,className:`${u?"p-3":"p-2"} rounded-full bg-white/50 dark:bg-black/50 hover:bg-white/80 dark:hover:bg-black/80 backdrop-blur-sm shadow-md`,title:"Remove Slides",children:o.jsx(vs,{className:`${u?"w-6 h-6":"w-5 h-5"} text-gray-600 dark:text-gray-300`})})]}),o.jsx("h2",{className:"text-lg p-3 font-semibold pr-24 shrink-0 text-gray-800 dark:text-white truncate",title:t.title,children:t.title}),l?o.jsxs("div",{className:"flex-1 overflow-hidden rounded border dark:border-gray-700 bg-gray-100 dark:bg-gray-900 relative cursor-pointer",onClick:a,onDoubleClick:b,title:"Double-click to view in fullscreen",children:[o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-800 dark:to-gray-900",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-white dark:bg-gray-700 rounded-lg shadow-lg flex items-center justify-center",children:o.jsx(Pc,{className:"w-10 h-10 text-blue-500 dark:text-blue-400"})}),o.jsx("p",{className:"text-gray-700 dark:text-gray-200 font-semibold",children:"PDF Slides Ready"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Double-click to open fullscreen"}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Use left/right clicks to navigate slides"})]})}),o.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black/70 text-white text-xs px-2 py-1 rounded opacity-0 hover:opacity-100 transition-opacity",children:"Double-click to enter fullscreen"})]}):o.jsxs("div",{className:"flex-1 aspect-[16/9] w-full bg-gray-200 dark:bg-gray-700 rounded border dark:border-gray-600 flex flex-col items-center justify-center text-center p-4",children:[o.jsx(Pc,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mb-4"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-semibold",children:"Cannot display PDF"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"This slide deck cannot be opened."})]})]})},i5=({lessonId:t,onUpload:A,onExpand:r})=>{const[a,i]=P.useState("upload"),[l,d]=P.useState(null),[u,f]=P.useState(""),[g,w]=P.useState(""),[v,C]=P.useState(0),[b,U]=P.useState(!1),[F,L]=P.useState(null),[N,H]=P.useState(!1),[_,k]=P.useState(""),{showToast:V}=Mr();P.useEffect(()=>{t&&(async()=>{f("New Slides"),w("Default/Slides");try{const ee=await wn(t);if(ee){const{className:Q,subjectName:j,unitName:I,subUnitName:K,lessonName:ce}=ee,R=$=>{if(!$)return"0";const le=$.match(/\d+/);return le?le[0]:"0"},Y=R(I),Z=R(K),ue=R(ce),ge=`${Y}.${Z}.${ue}.pdf`,be=$=>$.replace(/[^a-zA-Z0-9]/g,""),q=[be(Q),be(j),be(I),K?be(K):"",be(ce)].filter($=>$).join("/");f(ge),w(`${q}/Slides`)}}catch(ee){console.log("Error fetching defaults",ee)}})()},[t]);const Ae=D=>{var Q;const ee=(Q=D.target.files)==null?void 0:Q[0];ee&&(ee.type==="application/pdf"?(d(ee),L(null),C(0)):(V("Please select a valid PDF file.","error"),d(null)))},ne=async()=>{if(!l||!t)return;U(!0),C(0);const D=new FormData;D.append("file",l),D.append("lessonId",t),D.append("type","slide"),D.append("title",u);let ee=g.replace(/^(\.\.\/)?uploads\//,"");D.append("folder",ee);const Q=new XMLHttpRequest;Q.upload.addEventListener("progress",j=>{if(j.lengthComputable){const I=Math.round(j.loaded/j.total*100);C(I)}}),Q.addEventListener("load",()=>{var j;if(Q.status>=200&&Q.status<300)try{const I=JSON.parse(Q.responseText),K=((j=I.file)==null?void 0:j.url)||I.secure_url||I.url;L(K),V("Slides uploaded and saved successfully!","success"),U(!1),A()}catch{V("Upload succeeded but response was invalid.","warning"),U(!1)}else{try{const I=JSON.parse(Q.responseText);V(`Upload failed: ${I.message||Q.statusText}`,"error")}catch{V(`Upload failed: ${Q.statusText}`,"error")}U(!1)}}),Q.addEventListener("error",()=>{V("Network error during upload.","error"),U(!1)}),Q.open("POST","/api/upload"),Q.send(D)},J=async()=>{if(!(!_||!u)){H(!0);try{await(void 0)({title:u,body:_,lessonId:t,type:"slide",metadata:{category:"External",subCategory:"Link"}}),V("Slide link saved successfully!","success"),A()}catch{V("Failed to save link.","error")}finally{H(!1)}}};return o.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800/50 p-6 sm:p-8 rounded-lg shadow-md h-full flex flex-col overflow-hidden",children:[o.jsx("h3",{className:"text-lg font-bold text-center mb-6 text-gray-800 dark:text-white shrink-0",children:"Add New Slides"}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 shrink-0",children:[o.jsx("button",{onClick:()=>i("upload"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="upload"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"PDF Upload"}),o.jsx("button",{onClick:()=>i("link"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="link"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Direct Link"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Slide Title"}),o.jsx("input",{type:"text",value:u,onChange:D=>f(D.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),a==="upload"&&o.jsx("div",{className:"space-y-6 animate-fade-in",children:F?o.jsxs("div",{className:"text-center space-y-4 py-6 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900",children:o.jsx("svg",{className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Upload Complete!"}),o.jsx("button",{onClick:A,className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-colors",children:"Done & View Slides"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-1 flex items-center justify-center px-6 pt-10 pb-10 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:o.jsxs("div",{className:"space-y-2 text-center",children:[o.jsx(Uo,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center",children:o.jsxs("label",{htmlFor:"slideFile",className:"relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[o.jsx("span",{children:"Select Slide PDF"}),o.jsx("input",{id:"slideFile",name:"slideFile",type:"file",className:"sr-only",onChange:Ae,accept:".pdf"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:l?l.name:"PDF up to 10MB"})]})}),l&&o.jsx("div",{className:"space-y-4",children:b?o.jsxs("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[o.jsx("div",{className:`h-4 rounded-full transition-all duration-300 relative overflow-hidden ${v===100?"bg-green-500":"bg-blue-600"}`,style:{width:`${v===100?100:v}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})}),o.jsx("div",{className:"text-center mt-2 flex items-center justify-center gap-2",children:v===100?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"Processing on Server (Please wait)..."})]}):o.jsxs("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:[v,"% Uploading..."]})})]}):o.jsx("button",{onClick:ne,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all",children:"Upload & Save"})})]})}),a==="link"&&o.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Slide PDF URL"}),o.jsx("input",{type:"url",value:_,onChange:D=>k(D.target.value),placeholder:"https://example.com/slides.pdf",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),o.jsx("button",{onClick:J,disabled:N||!_,className:"w-full py-3 px-4 bg-gray-800 dark:bg-gray-700 text-white rounded-lg font-semibold shadow hover:bg-gray-700 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:N?"Saving...":"Save Link"})]})]})})]})},l5=({lessonId:t,user:A})=>{var N;const[r,a]=P.useState(0);P.useEffect(()=>{console.log("[SlideView] LessonId changed:",t)},[t]);const{data:i,isLoading:l}=Ar(()=>za(t,["slide"],A.role!=="admin"&&!A.canEdit),[t,r,A]),[d,u]=P.useState(null);P.useEffect(()=>{console.log("[SlideView] Content loaded:",i)},[i]);const[f,g]=P.useState({isOpen:!1,onConfirm:null}),[w,v]=P.useState(!1),{showToast:C}=Mr(),b=(N=i==null?void 0:i[0])==null?void 0:N.docs[0],U=A.role==="admin"||!!A.canEdit,F=H=>{g({isOpen:!0,onConfirm:async()=>{await(void 0)(H),a(k=>k+1),C("Slides deleted successfully.","success"),g({isOpen:!1,onConfirm:null})}})},L=async()=>{if(b)try{const H=!b.isPublished;await(void 0)(b._id,{isPublished:H}),a(_=>_+1),C(`Slides ${H?"published":"unpublished"} successfully`,"success")}catch(H){console.error("Failed to toggle publish status:",H),C("Failed to update publish status","error")}};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full overflow-hidden flex flex-col",children:[o.jsx("div",{className:"hidden sm:flex justify-between items-center mb-6 shrink-0",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Pc,{className:"w-8 h-8 text-orange-500"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-orange-500 dark:from-white dark:to-orange-400",children:"Slides"})]})})}),o.jsxs("div",{className:"flex-1 p-5 overflow-hidden min-h-0 flex flex-col",children:[l&&o.jsx("div",{className:"text-center py-10",children:"Loading slides..."}),!l&&b&&o.jsx(s5,{content:b,onRemove:()=>F(b._id),isAdmin:U,onExpand:()=>v(!0),onTogglePublish:L}),!l&&!b&&(U?o.jsx(i5,{lessonId:t,onUpload:()=>a(H=>H+1),onExpand:()=>v(!0)}):o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(Pc,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"No slides available."})]}))]}),o.jsx(Ws,{isOpen:f.isOpen,onClose:()=>g({isOpen:!1,onConfirm:null}),onConfirm:f.onConfirm,title:"Remove Slides",message:"Are you sure you want to remove these slides? This action cannot be undone."}),w&&b&&o.jsx(n5,{content:b,onClose:()=>v(!1),isMobile:window.innerWidth<768,isLandscape:window.innerWidth>window.innerHeight})]})},yo=t=>t==null?"0":t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.toString(),o5=({content:t,onRemove:A,isAdmin:r,onExpand:a,onDownloadClick:i,index:l,downloading:d,onTogglePublish:u})=>{var C;const f=((C=t.file)==null?void 0:C.url)||t.filePath||t.body;t.viewCount;const g=t.downloadCount||0,w=[{bg:"from-blue-400 to-purple-600",text:"text-white",icon:"bg-white/20"},{bg:"from-green-400 to-blue-600",text:"text-white",icon:"bg-white/20"},{bg:"from-purple-400 to-pink-600",text:"text-white",icon:"bg-white/20"},{bg:"from-red-400 to-orange-600",text:"text-white",icon:"bg-white/20"},{bg:"from-indigo-400 to-purple-600",text:"text-white",icon:"bg-white/20"},{bg:"from-yellow-400 to-red-600",text:"text-white",icon:"bg-white/20"},{bg:"from-pink-400 to-rose-600",text:"text-white",icon:"bg-white/20"},{bg:"from-teal-400 to-cyan-600",text:"text-white",icon:"bg-white/20"}],v=w[l%w.length];return o.jsxs("div",{className:"group relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:`h-32 bg-gradient-to-br ${v.bg} relative overflow-hidden cursor-pointer`,onClick:()=>a(f),children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-colors"}),o.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 bg-white/10 rounded-full blur-xl"}),o.jsx("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-white/10 rounded-full blur-lg"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx("div",{className:`p-4 ${v.icon} rounded-full backdrop-blur-sm shadow-inner group-hover:scale-110 transition-transform duration-300`,children:o.jsx(Jf,{className:"w-8 h-8 text-white"})})}),r&&o.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all z-10",children:[u&&o.jsx("button",{onClick:b=>{b.stopPropagation(),u(t)},className:`p-1.5 rounded-full backdrop-blur-sm shadow-md transition-colors ${t.isPublished?"bg-blue-600/90 hover:bg-blue-700 text-white":"bg-white/90 hover:bg-gray-100 text-gray-500"}`,title:t.isPublished?"Published":"Draft",children:t.isPublished?o.jsx(rd,{className:"w-4 h-4"}):o.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"})}),o.jsx("button",{onClick:b=>{b.stopPropagation(),A()},className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500 text-white backdrop-blur-sm",title:"Delete",children:o.jsx(vs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white mb-2 text-center line-clamp-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:()=>a(f),title:t.title,children:t.title}),o.jsxs("div",{className:"mt-auto pt-4 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400 font-medium"}),o.jsx("button",{onClick:b=>{b.stopPropagation(),i()},disabled:d,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full text-xs font-semibold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mi,{className:"w-3 h-3"}),o.jsxs("span",{children:["Download (",yo(g),")"]})]})})]})]})]})},c5=({lessonId:t,onUpload:A,onCancel:r})=>{const[a,i]=P.useState("upload"),[l,d]=P.useState(null),[u,f]=P.useState(""),[g,w]=P.useState(""),[v,C]=P.useState(0),[b,U]=P.useState(!1),[F,L]=P.useState(!1),[N,H]=P.useState(""),{showToast:_}=Mr();P.useEffect(()=>{t&&(async()=>{f("New Worksheet"),w("Default/Worksheets");try{const J=await wn(t);if(J){const{className:D,subjectName:ee,unitName:Q,subUnitName:j,lessonName:I}=J,K=ge=>ge.replace(/[^a-zA-Z0-9]/g,""),ce=(Q.match(/\d+/)||["0"])[0],R=(j.match(/\d+/)||["0"])[0],Y=(I.match(/\d+/)||["0"])[0],Z=`${ce}-${R}-${Y} Worksheet`,ue=[K(D),K(ee),K(Q),j?K(j):"",K(I)].filter(Boolean);f(Z),w(`${ue.join("/")}/Worksheets`)}}catch(J){console.error(J)}})()},[t]);const k=ne=>{var D;const J=(D=ne.target.files)==null?void 0:D[0];J&&J.type==="application/pdf"?(d(J),C(0)):(_("Please select a valid PDF","error"),d(null))},V=async()=>{if(!l||!t)return;U(!0),C(0);const ne=new FormData;ne.append("file",l),ne.append("lessonId",t),ne.append("type","worksheet"),ne.append("title",u);let J=g.replace(/^(\.\.\/)?uploads\//,"");ne.append("folder",J);const D=new XMLHttpRequest;D.upload.addEventListener("progress",ee=>{ee.lengthComputable&&C(Math.round(ee.loaded/ee.total*100))}),D.onload=()=>{D.status>=200&&D.status<300?(_("Worksheet uploaded successfully!","success"),A(),r()):_("Upload failed","error"),U(!1)},D.onerror=()=>{_("Network error","error"),U(!1)},D.open("POST","/api/upload"),D.send(ne)},Ae=async()=>{if(!(!N||!u)){L(!0);try{await(void 0)({title:u,body:N,lessonId:t,type:"worksheet",metadata:{category:"External",subCategory:"Link",isExternal:!0}}),_("Link saved successfully","success"),A(),r()}catch{_("Failed to save link","error")}L(!1)}};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6 animate-fade-in border border-blue-100 dark:border-blue-900/30",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Add New Worksheet"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:o.jsx(Pa,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[o.jsx("button",{onClick:()=>i("upload"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="upload"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Upload PDF"}),o.jsx("button",{onClick:()=>i("link"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="link"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Direct Link"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Title"}),o.jsx("input",{type:"text",value:u,onChange:ne=>f(ne.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),a==="upload"&&o.jsxs("div",{className:"space-y-4",children:[b?o.jsxs("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[o.jsx("div",{className:`h-4 rounded-full transition-all duration-300 relative overflow-hidden ${v===100?"bg-green-500":"bg-blue-600"}`,style:{width:`${v===100?100:v}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})}),o.jsx("p",{className:"text-center text-xs mt-1 text-gray-500",children:v===100?"Processing...":`Uploading ${v}%`})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[o.jsx(Uo,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),o.jsxs("label",{className:"block cursor-pointer",children:[o.jsx("span",{className:"text-blue-600 hover:text-blue-500 font-medium",children:"Click to upload"}),o.jsx("span",{className:"text-gray-500",children:" or drag and drop PDF"}),o.jsx("input",{type:"file",className:"hidden",accept:".pdf",onChange:k})]}),l&&o.jsx("p",{className:"mt-2 text-sm font-semibold text-green-600",children:l.name})]}),o.jsx("button",{disabled:!l||b,onClick:V,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium shadow-sm",children:b?"Uploading...":"Save Worksheet"})]}),a==="link"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"url",value:N,onChange:ne=>H(ne.target.value),placeholder:"https://example.com/worksheet.pdf",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),o.jsx("button",{disabled:!N||F,onClick:Ae,className:"w-full bg-gray-800 text-white py-2 rounded-md hover:bg-gray-700 disabled:opacity-50 transition-colors font-medium shadow-sm",children:F?"Saving...":"Save Link"})]})]})]})},u5=({lessonId:t,user:A})=>{var ee;const[r,a]=P.useState(0),[i,l]=P.useState(!1),{data:d,isLoading:u}=Ar(()=>za(t,["worksheet"],A.role!=="admin"&&!A.canEdit),[t,r,A]),f=((ee=d==null?void 0:d[0])==null?void 0:ee.docs)||[],g=A.role==="admin"||!!A.canEdit,[w,v]=P.useState({isOpen:!1,onConfirm:null}),[C,b]=P.useState(null),{showToast:U}=Mr(),[F,L]=P.useState(null),[N,H]=P.useState(!1),[_,k]=P.useState({show:!1,type:"loading",title:"",message:""});P.useEffect(()=>{(async()=>{})()},[t]);const V=Q=>{v({isOpen:!0,onConfirm:async()=>{await(void 0)(Q),a(j=>j+1),U("Deleted","success"),v({isOpen:!1,onConfirm:null})}})},Ae=async Q=>{try{const j=!Q.isPublished;await(void 0)(Q._id,{isPublished:j}),a(I=>I+1),U(`Worksheet ${j?"published":"unpublished"} successfully`,"success")}catch(j){console.error("Failed to toggle publish status:",j),U("Failed to update publish status","error")}},ne=(Q,j)=>{J(Q,j)},J=async(Q,j)=>{H(!0),k({show:!0,type:"loading",title:" | Downloading",message:`PDF ...  

Sending PDF... Please wait`});try{const I=await(void 0)(Q,A._id,A.email);if(I.success){if(I.isAdmin&&I.fileUrl){const K=document.createElement("a");K.href=I.fileUrl,K.download=j||"worksheet.pdf",document.body.appendChild(K),K.click(),document.body.removeChild(K),k({show:!0,type:"success",title:"! | Success!",message:`  !

Download started!`})}else I.emailSent?k({show:!0,type:"success",title:"! | Success!",message:`  PDF !
 ${A.email}

PDF sent to your email successfully!`}):k({show:!0,type:"success",title:" | Done",message:I.message||` 

Download processed`});a(K=>K+1),setTimeout(()=>{k(K=>({...K,show:!1}))},3e3)}else{const K=I.adminPhone||"7904838296";k({show:!0,type:"error",title:" | Failed",message:`${I.message}

 | Contact Admin:
 ${K}`,phone:K})}}catch(I){console.error("Download error:",I);const K="7904838296";k({show:!0,type:"error",title:" | Error",message:`${I.message}

 | Contact Admin:
 ${K}`,phone:K})}finally{H(!1)}},D=async(Q,j)=>{b(Q)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Jf,{className:"w-8 h-8 text-green-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-green-600 dark:from-white dark:to-green-400",children:"Worksheets"})]})}),g&&o.jsxs("button",{onClick:()=>l(!i),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[o.jsx(Ti,{className:`w-5 h-5 mr-1 transition-transform ${i?"rotate-45":""}`}),i?"Cancel":"Add New"]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 custom-scrollbar",children:[i&&o.jsx(c5,{lessonId:t,onUpload:()=>{a(Q=>Q+1),l(!1)},onCancel:()=>l(!1)}),u&&o.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading worksheets..."}),!u&&f.length===0&&!i&&o.jsxs("div",{className:"text-center py-20 bg-gray-50 dark:bg-gray-800/50 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx(Jf,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No worksheets found."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-8",children:f.map((Q,j)=>o.jsx(o5,{content:Q,index:j,isAdmin:g,onRemove:()=>V(Q._id),onExpand:I=>D(I,Q._id),onDownloadClick:()=>ne(Q._id,Q.title),downloading:N,onTogglePublish:Ae},Q._id))})]}),_.show&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all scale-100 flex flex-col items-center text-center",children:[_.type==="loading"&&o.jsx("div",{className:"w-16 h-16 mb-4",children:o.jsxs("svg",{className:"animate-spin h-16 w-16 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),_.type==="success"&&o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),_.type==="error"&&o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:_.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 whitespace-pre-line",children:_.message}),_.type!=="loading"&&o.jsx("button",{onClick:()=>k(Q=>({...Q,show:!1})),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:" (OK)"}),_.phone&&_.type==="error"&&o.jsxs("a",{href:`tel:${_.phone}`,className:"mt-3 w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})," | Call Admin"]})]})}),o.jsx(Ws,{isOpen:w.isOpen,onClose:()=>v({...w,isOpen:!1}),onConfirm:w.onConfirm,title:"Delete Worksheet",message:"Are you sure?"}),C&&o.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/95 flex flex-col animate-fade-in",children:[o.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full text-white z-50",children:o.jsx(Pa,{className:"w-6 h-6"})}),o.jsx("div",{className:"flex-1 w-full h-full p-4 md:p-8",children:o.jsx(Qo,{url:C,initialScale:1.5})})]})]})},Ob=t=>{if(!t)return"";const A=document.createElement("textarea");return A.innerHTML=t,A.value},d5=t=>{if(!t)return"";let A=t;return[/`<pre><code[^>]*>([^<]*(&lt;[^&]*&gt;)[^<]*)<\/code><\/pre>`/gi,/`<code[^>]*>([^<]*(&lt;[^&]*&gt;)[^<]*)<\/code>`/gi,/```html\s*([\s\S]*?)\s*```/gi,/```\s*([\s\S]*?)\s*```/gi].forEach(a=>{A=A.replace(a,(i,l)=>`<pre class="html-code-display bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto font-mono text-sm"><code>${Ob(l)}</code></pre>`)}),A},sn=t=>{if(!t)return"";let A=t;A=Ob(A),A=A.replace(/<p>\s*&nbsp;\s*<\/p>/gi,""),A=A.replace(/<p>\s*<\/p>/gi,""),A=d5(A);const r=/<(table|div|h[1-6]|ul|ol|li|pre|blockquote|header|footer|section|article|nav|form|fieldset|hr)/i.test(A);return!/<[a-zA-Z/][^>]*>/.test(A)&&A.trim()&&(r?A=`<div class="text-gray-700 dark:text-gray-300">${A}</div>`:A=`<p class="text-white-700 dark:text-gray-300">${A}</p>`),A=A.replace(/<p>\s*<\/p>/gi,""),A},f5=({initialValue:t,onSave:A,onCancel:r})=>{const a=P.useRef(null),i=P.useRef(null),l=P.useRef(!1),d=(g,w)=>{let v="";v+="";for(let b=0;b<w;b++)v+="".repeat(15),b<w-1&&(v+="");v+=`
`,v+="";for(let b=0;b<w;b++){const U=`Header ${b+1}`,F=Math.max(0,15-U.length);v+=U+" ".repeat(F),v+=""}v+=`
`,v+="";for(let b=0;b<w;b++)v+="".repeat(15),b<w-1&&(v+="");v+=`
`;for(let b=1;b<g;b++){v+="";for(let U=0;U<w;U++){const F=`Cell ${b}_${U+1}`,L=Math.max(0,15-F.length);v+=F+" ".repeat(L),v+=""}v+=`
`}v+="";for(let b=0;b<w;b++)v+="".repeat(15),b<w-1&&(v+="");return v+=`

`,`<div class="table-formatted" style="font-family: 'Courier New', monospace; background-color: #f8f9fa; padding: 10px; border: 1px solid #ddd; border-radius: 4px; white-space: pre; line-height: 1.2;">${v}</div>`},u=P.useCallback(()=>{if(a.current&&!i.current){const g=a.current.querySelector(".editor"),w=a.current.querySelector(".toolbar");if(g&&w){const v=new Quill(g,{debug:!1,theme:"snow",modules:{toolbar:{container:w,handlers:{"formula-custom":function(){const b=prompt("Enter your LaTeX formula (without delimiters):");if(b){const U=this.quill.getSelection(!0);this.quill.insertText(U.index,`$${b}$`,"user")}},table:function(){const b=parseInt(prompt("Enter number of rows (1-10):","3")||"3"),U=parseInt(prompt("Enter number of columns (1-10):","3")||"3");if(b>0&&b<=10&&U>0&&U<=10){const F=this.quill.getSelection(!0),L=d(b,U);this.quill.clipboard.dangerouslyPasteHTML(F.index,L,"user"),this.quill.setSelection(F.index+1,0,"user"),setTimeout(()=>{this.quill.format("line-height","1.2")},100)}}}},keyboard:{bindings:{linebreak:{key:13,shiftKey:!0,handler:function(b){this.quill.clipboard.dangerouslyPasteHTML(b.index,"<br>")}}}},history:{delay:1e3,maxStack:50,userOnly:!0},clipboard:{matchVisual:!1}},placeholder:"Start writing your notes here..."}),C=sn(t);v.setText(""),v.root.innerHTML=C,v.setSelection(0,0),setTimeout(()=>{const b=v.root;b.querySelectorAll(".table-formatted").forEach(L=>{L.style.display="block",L.style.fontFamily="'Courier New', monospace",L.style.backgroundColor="#f8f9fa",L.style.border="2px solid #333",L.style.borderRadius="6px",L.style.padding="15px",L.style.margin="10px 0",L.style.whiteSpace="pre",L.style.lineHeight="1.2"}),b.querySelectorAll("*").forEach(L=>{!L.classList.contains("ql-editor")&&!L.closest(".ql-editor")&&(L.tagName==="DIV"||L.tagName==="SPAN")&&(L.style.display=L.style.display||"block")})},200),i.current=v}}},[t]);P.useEffect(()=>{u()},[u]);const f=async()=>{if(i.current&&!l.current){l.current=!0;let g=i.current.root.innerHTML;(!g||g.trim()===""||g==="<p><br></p>")&&(g="<p>New note content...</p>"),g=g.replace(/<div class="table-formatted">([\s\S]*?)<\/div>/g,(w,v)=>`<div class="table-formatted">${v}</div>`),await A(g),l.current=!1}};return o.jsxs("div",{ref:a,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-5 w-full note-editor-container",children:[o.jsx("style",{children:`
                .table-formatted {
                    font-family: 'Courier New', monospace !important;
                    background-color: #f8f9fa !important;
                    padding: 15px !important;
                    border: 2px solid #333 !important;
                    border-radius: 6px !important;
                    white-space: pre !important;
                    line-height: 1.2 !important;
                    margin: 10px 0 !important;
                    display: block !important;
                }
                .table-formatted:hover {
                    background-color: #e9ecef !important;
                    border-color: #007bff !important;
                }
                /* Ensure HTML tables render properly in Quill editor */
                .ql-editor table {
                    border-collapse: collapse;
                    width: 100%;
                    margin: 10px 0;
                }
                .ql-editor th, .ql-editor td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }
                .ql-editor th {
                    background-color: #f2f2f2;
                    font-weight: bold;
                }
            `}),o.jsxs("div",{className:"toolbar border border-gray-300 dark:border-gray-600 rounded-t-lg bg-gray-50 dark:bg-gray-700 p-1",children:[o.jsx("span",{className:"ql-formats",children:o.jsx("select",{className:"ql-header",defaultValue:""})}),o.jsxs("span",{className:"ql-formats",children:[o.jsx("button",{className:"ql-bold"}),o.jsx("button",{className:"ql-italic"}),o.jsx("button",{className:"ql-underline"})]}),o.jsx("span",{className:"ql-formats",children:o.jsxs("select",{className:"ql-align",defaultValue:"",children:[o.jsx("option",{value:""}),o.jsx("option",{value:"center",children:"Center"}),o.jsx("option",{value:"right",children:"Right"}),o.jsx("option",{value:"justify",children:"Justify"})]})}),o.jsxs("span",{className:"ql-formats",children:[o.jsx("select",{className:"ql-color"}),o.jsx("select",{className:"ql-background"})]}),o.jsxs("span",{className:"ql-formats",children:[o.jsx("button",{className:"ql-list",value:"ordered"}),o.jsx("button",{className:"ql-list",value:"bullet"}),o.jsx("button",{className:"ql-blockquote"})]}),o.jsx("span",{className:"ql-formats",children:o.jsx("button",{className:"ql-table",title:"Insert Table",children:o.jsxs("svg",{viewBox:"0 0 18 18",style:{width:"18px",height:"18px"},children:[o.jsx("rect",{className:"ql-stroke",height:"7",rx:"1",ry:"1",width:"2",x:"2",y:"2"}),o.jsx("rect",{className:"ql-stroke",height:"7",rx:"1",ry:"1",width:"2",x:"8",y:"2"}),o.jsx("path",{className:"ql-fill",d:"M2,9h6v7H2Z"}),o.jsx("path",{className:"ql-fill",d:"M8,9h8v7H8Z"})]})})}),o.jsxs("span",{className:"ql-formats",children:[o.jsx("button",{className:"ql-link"}),o.jsx("button",{className:"ql-image"}),o.jsx("button",{className:"ql-video"})]}),o.jsx("span",{className:"ql-formats",children:o.jsx("button",{className:"ql-formula-custom",type:"button",title:"Insert Formula (LaTeX)",children:o.jsx("svg",{viewBox:"0 0 18 18",style:{width:"18px",height:"18px"},children:o.jsx("text",{x:"2",y:"14",style:{fontFamily:"monospace, sans-serif",fontSize:"14px"},children:"x"})})})}),o.jsx("span",{className:"ql-formats",children:o.jsx("button",{className:"ql-clean"})})]}),o.jsx("div",{className:"editor h-96 border-l border-r border-b border-gray-300 dark:border-gray-600 rounded-b-lg"}),o.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[o.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 rounded-md text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500",title:"Cancel",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),o.jsx("span",{className:"hidden sm:inline",children:"Cancel"})]}),o.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700",title:"Save Note",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),o.jsx("span",{className:"hidden sm:inline",children:"Save Note"})]})]})]})},Si=[10,12,14,16,18,20,24,28,32],Cp=()=>{const{session:t,setFontSize:A}=Di(),r=a=>{let i=Si.findIndex(d=>d===t.fontSize);if(i===-1){const d=Si.reduce((u,f)=>Math.abs(f-t.fontSize)<Math.abs(u-t.fontSize)?f:u);i=Si.indexOf(d)}let l=a==="up"?i+1:i-1;l<0&&(l=0),l>=Si.length&&(l=Si.length-1),l!==i&&A(Si[l])};return o.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 mr-2 h-9",children:[o.jsx("button",{onClick:()=>r("down"),disabled:t.fontSize<=Si[0],className:"px-2 h-full rounded-l-lg hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 transition-colors flex items-center justify-center w-9",title:"Decrease Font Size",children:o.jsx(CB,{className:"w-4 h-4"})}),o.jsxs("div",{className:"px-3 h-full flex items-center justify-center min-w-[3.5rem] text-xs font-mono font-medium text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-900",children:[t.fontSize,"px"]}),o.jsx("button",{onClick:()=>r("up"),disabled:t.fontSize>=Si[Si.length-1],className:"px-2 h-full rounded-r-lg hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-30 text-gray-600 dark:text-gray-300 border-l border-gray-200 dark:border-gray-700 transition-colors flex items-center justify-center w-9",title:"Increase Font Size",children:o.jsx(BB,{className:"w-4 h-4"})})]})},h5="modulepreload",g5=function(t){return"/"+t},o2={},P0=function(A,r,a){let i=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(w=>Promise.resolve(w).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=d(r.map(g=>{if(g=g5(g),g in o2)return;o2[g]=!0;const w=g.endsWith(".css"),v=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const C=document.createElement("link");if(C.rel=w?"stylesheet":h5,w||(C.as="script"),C.crossOrigin="",C.href=g,f&&C.setAttribute("nonce",f),document.head.appendChild(C),w)return new Promise((b,U)=>{C.addEventListener("load",b),C.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return i.then(d=>{for(const u of d||[])u.status==="rejected"&&l(u.reason);return A().catch(l)})};function vA(t){"@babel/helpers - typeof";return vA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},vA(t)}var ys=Uint8Array,wa=Uint16Array,Up=Int32Array,Qp=new ys([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fp=new ys([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c2=new ys([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rb=function(t,A){for(var r=new wa(31),a=0;a<31;++a)r[a]=A+=1<<t[a-1];for(var i=new Up(r[30]),a=1;a<30;++a)for(var l=r[a];l<r[a+1];++l)i[l]=l-r[a]<<5|a;return{b:r,r:i}},Pb=Rb(Qp,2),p5=Pb.b,Tg=Pb.r;p5[28]=258,Tg[258]=28;var m5=Rb(Fp,0),u2=m5.r,Ig=new wa(32768);for(var PA=0;PA<32768;++PA){var vl=(PA&43690)>>1|(PA&21845)<<1;vl=(vl&52428)>>2|(vl&13107)<<2,vl=(vl&61680)>>4|(vl&3855)<<4,Ig[PA]=((vl&65280)>>8|(vl&255)<<8)>>1}var zu=(function(t,A,r){for(var a=t.length,i=0,l=new wa(A);i<a;++i)t[i]&&++l[t[i]-1];var d=new wa(A);for(i=1;i<A;++i)d[i]=d[i-1]+l[i-1]<<1;var u;if(r){u=new wa(1<<A);var f=15-A;for(i=0;i<a;++i)if(t[i])for(var g=i<<4|t[i],w=A-t[i],v=d[t[i]-1]++<<w,C=v|(1<<w)-1;v<=C;++v)u[Ig[v]>>f]=g}else for(u=new wa(a),i=0;i<a;++i)t[i]&&(u[i]=Ig[d[t[i]-1]++]>>15-t[i]);return u}),Bo=new ys(288);for(var PA=0;PA<144;++PA)Bo[PA]=8;for(var PA=144;PA<256;++PA)Bo[PA]=9;for(var PA=256;PA<280;++PA)Bo[PA]=7;for(var PA=280;PA<288;++PA)Bo[PA]=8;var Zf=new ys(32);for(var PA=0;PA<32;++PA)Zf[PA]=5;var w5=zu(Bo,9,0),b5=zu(Zf,5,0),Kb=function(t){return(t+7)/8|0},x5=function(t,A,r){return(r==null||r>t.length)&&(r=t.length),new ys(t.subarray(A,r))},Ei=function(t,A,r){r<<=A&7;var a=A/8|0;t[a]|=r,t[a+1]|=r>>8},ku=function(t,A,r){r<<=A&7;var a=A/8|0;t[a]|=r,t[a+1]|=r>>8,t[a+2]|=r>>16},K0=function(t,A){for(var r=[],a=0;a<t.length;++a)t[a]&&r.push({s:a,f:t[a]});var i=r.length,l=r.slice();if(!i)return{t:Vb,l:0};if(i==1){var d=new ys(r[0].s+1);return d[r[0].s]=1,{t:d,l:1}}r.sort(function(V,Ae){return V.f-Ae.f}),r.push({s:-1,f:25001});var u=r[0],f=r[1],g=0,w=1,v=2;for(r[0]={s:-1,f:u.f+f.f,l:u,r:f};w!=i-1;)u=r[r[g].f<r[v].f?g++:v++],f=r[g!=w&&r[g].f<r[v].f?g++:v++],r[w++]={s:-1,f:u.f+f.f,l:u,r:f};for(var C=l[0].s,a=1;a<i;++a)l[a].s>C&&(C=l[a].s);var b=new wa(C+1),U=Dg(r[w-1],b,0);if(U>A){var a=0,F=0,L=U-A,N=1<<L;for(l.sort(function(Ae,ne){return b[ne.s]-b[Ae.s]||Ae.f-ne.f});a<i;++a){var H=l[a].s;if(b[H]>A)F+=N-(1<<U-b[H]),b[H]=A;else break}for(F>>=L;F>0;){var _=l[a].s;b[_]<A?F-=1<<A-b[_]++-1:++a}for(;a>=0&&F;--a){var k=l[a].s;b[k]==A&&(--b[k],++F)}U=A}return{t:new ys(b),l:U}},Dg=function(t,A,r){return t.s==-1?Math.max(Dg(t.l,A,r+1),Dg(t.r,A,r+1)):A[t.s]=r},d2=function(t){for(var A=t.length;A&&!t[--A];);for(var r=new wa(++A),a=0,i=t[0],l=1,d=function(f){r[a++]=f},u=1;u<=A;++u)if(t[u]==i&&u!=A)++l;else{if(!i&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(i),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(i);l=1,i=t[u]}return{c:r.subarray(0,a),n:A}},Lu=function(t,A){for(var r=0,a=0;a<A.length;++a)r+=t[a]*A[a];return r},zb=function(t,A,r){var a=r.length,i=Kb(A+2);t[i]=a&255,t[i+1]=a>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var l=0;l<a;++l)t[i+l+4]=r[l];return(i+4+a)*8},f2=function(t,A,r,a,i,l,d,u,f,g,w){Ei(A,w++,r),++i[256];for(var v=K0(i,15),C=v.t,b=v.l,U=K0(l,15),F=U.t,L=U.l,N=d2(C),H=N.c,_=N.n,k=d2(F),V=k.c,Ae=k.n,ne=new wa(19),J=0;J<H.length;++J)++ne[H[J]&31];for(var J=0;J<V.length;++J)++ne[V[J]&31];for(var D=K0(ne,7),ee=D.t,Q=D.l,j=19;j>4&&!ee[c2[j-1]];--j);var I=g+5<<3,K=Lu(i,Bo)+Lu(l,Zf)+d,ce=Lu(i,C)+Lu(l,F)+d+14+3*j+Lu(ne,ee)+2*ne[16]+3*ne[17]+7*ne[18];if(f>=0&&I<=K&&I<=ce)return zb(A,w,t.subarray(f,f+g));var R,Y,Z,ue;if(Ei(A,w,1+(ce<K)),w+=2,ce<K){R=zu(C,b,0),Y=C,Z=zu(F,L,0),ue=F;var ge=zu(ee,Q,0);Ei(A,w,_-257),Ei(A,w+5,Ae-1),Ei(A,w+10,j-4),w+=14;for(var J=0;J<j;++J)Ei(A,w+3*J,ee[c2[J]]);w+=3*j;for(var be=[H,V],T=0;T<2;++T)for(var q=be[T],J=0;J<q.length;++J){var $=q[J]&31;Ei(A,w,ge[$]),w+=ee[$],$>15&&(Ei(A,w,q[J]>>5&127),w+=q[J]>>12)}}else R=w5,Y=Bo,Z=b5,ue=Zf;for(var J=0;J<u;++J){var le=a[J];if(le>255){var $=le>>18&31;ku(A,w,R[$+257]),w+=Y[$+257],$>7&&(Ei(A,w,le>>23&31),w+=Qp[$]);var oe=le&31;ku(A,w,Z[oe]),w+=ue[oe],oe>3&&(ku(A,w,le>>5&8191),w+=Fp[oe])}else ku(A,w,R[le]),w+=Y[le]}return ku(A,w,R[256]),w+Y[256]},v5=new Up([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vb=new ys(0),y5=function(t,A,r,a,i,l){var d=l.z||t.length,u=new ys(a+d+5*(1+Math.ceil(d/7e3))+i),f=u.subarray(a,u.length-i),g=l.l,w=(l.r||0)&7;if(A){w&&(f[0]=l.r>>3);for(var v=v5[A-1],C=v>>13,b=v&8191,U=(1<<r)-1,F=l.p||new wa(32768),L=l.h||new wa(U+1),N=Math.ceil(r/3),H=2*N,_=function(qe){return(t[qe]^t[qe+1]<<N^t[qe+2]<<H)&U},k=new Up(25e3),V=new wa(288),Ae=new wa(32),ne=0,J=0,D=l.i||0,ee=0,Q=l.w||0,j=0;D+2<d;++D){var I=_(D),K=D&32767,ce=L[I];if(F[K]=ce,L[I]=K,Q<=D){var R=d-D;if((ne>7e3||ee>24576)&&(R>423||!g)){w=f2(t,f,0,k,V,Ae,J,ee,j,D-j,w),ee=ne=J=0,j=D;for(var Y=0;Y<286;++Y)V[Y]=0;for(var Y=0;Y<30;++Y)Ae[Y]=0}var Z=2,ue=0,ge=b,be=K-ce&32767;if(R>2&&I==_(D-be))for(var T=Math.min(C,R)-1,q=Math.min(32767,D),$=Math.min(258,R);be<=q&&--ge&&K!=ce;){if(t[D+Z]==t[D+Z-be]){for(var le=0;le<$&&t[D+le]==t[D+le-be];++le);if(le>Z){if(Z=le,ue=be,le>T)break;for(var oe=Math.min(be,le-2),we=0,Y=0;Y<oe;++Y){var Se=D-be+Y&32767,Ne=F[Se],Le=Se-Ne&32767;Le>we&&(we=Le,ce=Se)}}}K=ce,ce=F[K],be+=K-ce&32767}if(ue){k[ee++]=268435456|Tg[Z]<<18|u2[ue];var Te=Tg[Z]&31,Oe=u2[ue]&31;J+=Qp[Te]+Fp[Oe],++V[257+Te],++Ae[Oe],Q=D+Z,++ne}else k[ee++]=t[D],++V[t[D]]}}for(D=Math.max(D,Q);D<d;++D)k[ee++]=t[D],++V[t[D]];w=f2(t,f,g,k,V,Ae,J,ee,j,D-j,w),g||(l.r=w&7|f[w/8|0]<<3,w-=7,l.h=L,l.p=F,l.i=D,l.w=Q)}else{for(var D=l.w||0;D<d+g;D+=65535){var ze=D+65535;ze>=d&&(f[w/8|0]=g,ze=d),w=zb(f,w+1,t.subarray(D,ze))}l.i=d}return x5(u,0,a+Kb(w)+i)},Gb=function(){var t=1,A=0;return{p:function(r){for(var a=t,i=A,l=r.length|0,d=0;d!=l;){for(var u=Math.min(d+2655,l);d<u;++d)i+=a+=r[d];a=(a&65535)+15*(a>>16),i=(i&65535)+15*(i>>16)}t=a,A=i},d:function(){return t%=65521,A%=65521,(t&255)<<24|(t&65280)<<8|(A&255)<<8|A>>8}}},B5=function(t,A,r,a,i){if(!i&&(i={l:1},A.dictionary)){var l=A.dictionary.subarray(-32768),d=new ys(l.length+t.length);d.set(l),d.set(t,l.length),t=d,i.w=l.length}return y5(t,A.level==null?6:A.level,A.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+A.mem,r,a,i)},qb=function(t,A,r){for(;r;++A)t[A]=r,r>>>=8},C5=function(t,A){var r=A.level,a=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=a<<6|(A.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,A.dictionary){var i=Gb();i.p(A.dictionary),qb(t,2,i.d())}};function Mg(t,A){A||(A={});var r=Gb();r.p(t);var a=B5(t,A,A.dictionary?6:2,4);return C5(a,A),qb(a,a.length-4,r.d()),a}var U5=typeof TextDecoder<"u"&&new TextDecoder,Q5=0;try{U5.decode(Vb,{stream:!0}),Q5=1}catch{}function F5(t){if(Array.isArray(t))return t}function N5(t,A){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,l,d,u=[],f=!0,g=!1;try{if(l=(r=r.call(t)).next,A!==0)for(;!(f=(a=l.call(r)).done)&&(u.push(a.value),u.length!==A);f=!0);}catch(w){g=!0,i=w}finally{try{if(!f&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(g)throw i}}return u}}function h2(t,A){(A==null||A>t.length)&&(A=t.length);for(var r=0,a=Array(A);r<A;r++)a[r]=t[r];return a}function S5(t,A){if(t){if(typeof t=="string")return h2(t,A);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h2(t,A):void 0}}function E5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2(t,A){return F5(t)||N5(t,A)||S5(t,A)||E5()}function p2(t,A="utf8"){return new TextDecoder(A).decode(t)}const k5=new TextEncoder;function L5(t){return k5.encode(t)}const j5=1024*8,H5=(()=>{const t=new Uint8Array(4),A=new Uint32Array(t.buffer);return!((A[0]=1)&t[0])})(),z0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Np{constructor(A=j5,r={}){xA(this,"buffer");xA(this,"byteLength");xA(this,"byteOffset");xA(this,"length");xA(this,"offset");xA(this,"lastWrittenByte");xA(this,"littleEndian");xA(this,"_data");xA(this,"_mark");xA(this,"_marks");let a=!1;typeof A=="number"?A=new ArrayBuffer(A):(a=!0,this.lastWrittenByte=A.byteLength);const i=r.offset?r.offset>>>0:0,l=A.byteLength-i;let d=i;(ArrayBuffer.isView(A)||A instanceof Np)&&(A.byteLength!==A.buffer.byteLength&&(d=A.byteOffset+i),A=A.buffer),a?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=A,this.length=l,this.byteLength=l,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,l),this._mark=0,this._marks=[]}available(A=1){return this.offset+A<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(A=1){return this.offset+=A,this}back(A=1){return this.offset-=A,this}seek(A){return this.offset=A,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const A=this._marks.pop();if(A===void 0)throw new Error("Mark stack empty");return this.seek(A),this}rewind(){return this.offset=0,this}ensureAvailable(A=1){if(!this.available(A)){const a=(this.offset+A)*2,i=new Uint8Array(a);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(A=1){return this.readArray(A,"uint8")}readArray(A,r){const a=z0[r].BYTES_PER_ELEMENT*A,i=this.byteOffset+this.offset,l=this.buffer.slice(i,i+a);if(this.littleEndian===H5&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(i,i+a));u.reverse();const f=new z0[r](u.buffer);return this.offset+=a,f.reverse(),f}const d=new z0[r](l);return this.offset+=a,d}readInt16(){const A=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,A}readUint16(){const A=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,A}readInt32(){const A=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,A}readUint32(){const A=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,A}readFloat32(){const A=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,A}readFloat64(){const A=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,A}readBigInt64(){const A=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,A}readBigUint64(){const A=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,A}readChar(){return String.fromCharCode(this.readInt8())}readChars(A=1){let r="";for(let a=0;a<A;a++)r+=this.readChar();return r}readUtf8(A=1){return p2(this.readBytes(A))}decodeText(A=1,r="utf8"){return p2(this.readBytes(A),r)}writeBoolean(A){return this.writeUint8(A?255:0),this}writeInt8(A){return this.ensureAvailable(1),this._data.setInt8(this.offset++,A),this._updateLastWrittenByte(),this}writeUint8(A){return this.ensureAvailable(1),this._data.setUint8(this.offset++,A),this._updateLastWrittenByte(),this}writeByte(A){return this.writeUint8(A)}writeBytes(A){this.ensureAvailable(A.length);for(let r=0;r<A.length;r++)this._data.setUint8(this.offset++,A[r]);return this._updateLastWrittenByte(),this}writeInt16(A){return this.ensureAvailable(2),this._data.setInt16(this.offset,A,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(A){return this.ensureAvailable(2),this._data.setUint16(this.offset,A,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(A){return this.ensureAvailable(4),this._data.setInt32(this.offset,A,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(A){return this.ensureAvailable(4),this._data.setUint32(this.offset,A,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(A){return this.ensureAvailable(4),this._data.setFloat32(this.offset,A,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(A){return this.ensureAvailable(8),this._data.setFloat64(this.offset,A,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(A){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,A,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(A){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,A,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(A){return this.writeUint8(A.charCodeAt(0))}writeChars(A){for(let r=0;r<A.length;r++)this.writeUint8(A.charCodeAt(r));return this}writeUtf8(A){return this.writeBytes(L5(A))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zc(t){let A=t.length;for(;--A>=0;)t[A]=0}const _5=3,T5=258,Xb=29,I5=256,D5=I5+1+Xb,Yb=30,M5=512,O5=new Array((D5+2)*2);zc(O5);const R5=new Array(Yb*2);zc(R5);const P5=new Array(M5);zc(P5);const K5=new Array(T5-_5+1);zc(K5);const z5=new Array(Xb);zc(z5);const V5=new Array(Yb);zc(V5);const G5=(t,A,r,a)=>{let i=t&65535|0,l=t>>>16&65535|0,d=0;for(;r!==0;){d=r>2e3?2e3:r,r-=d;do i=i+A[a++]|0,l=l+i|0;while(--d);i%=65521,l%=65521}return i|l<<16|0};var Og=G5;const q5=()=>{let t,A=[];for(var r=0;r<256;r++){t=r;for(var a=0;a<8;a++)t=t&1?3988292384^t>>>1:t>>>1;A[r]=t}return A},X5=new Uint32Array(q5()),Y5=(t,A,r,a)=>{const i=X5,l=a+r;t^=-1;for(let d=a;d<l;d++)t=t>>>8^i[(t^A[d])&255];return t^-1};var qs=Y5,Rg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Jb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const J5=(t,A)=>Object.prototype.hasOwnProperty.call(t,A);var W5=function(t){const A=Array.prototype.slice.call(arguments,1);for(;A.length;){const r=A.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)J5(r,a)&&(t[a]=r[a])}}return t},Z5=t=>{let A=0;for(let a=0,i=t.length;a<i;a++)A+=t[a].length;const r=new Uint8Array(A);for(let a=0,i=0,l=t.length;a<l;a++){let d=t[a];r.set(d,i),i+=d.length}return r},Wb={assign:W5,flattenChunks:Z5};let Zb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Zb=!1}const Zu=new Uint8Array(256);for(let t=0;t<256;t++)Zu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Zu[254]=Zu[254]=1;var $5=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let A,r,a,i,l,d=t.length,u=0;for(i=0;i<d;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),i++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(A=new Uint8Array(u),l=0,i=0;l<u;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<d&&(a=t.charCodeAt(i+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),i++)),r<128?A[l++]=r:r<2048?(A[l++]=192|r>>>6,A[l++]=128|r&63):r<65536?(A[l++]=224|r>>>12,A[l++]=128|r>>>6&63,A[l++]=128|r&63):(A[l++]=240|r>>>18,A[l++]=128|r>>>12&63,A[l++]=128|r>>>6&63,A[l++]=128|r&63);return A};const e4=(t,A)=>{if(A<65534&&t.subarray&&Zb)return String.fromCharCode.apply(null,t.length===A?t:t.subarray(0,A));let r="";for(let a=0;a<A;a++)r+=String.fromCharCode(t[a]);return r};var t4=(t,A)=>{const r=A||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,A));let a,i;const l=new Array(r*2);for(i=0,a=0;a<r;){let d=t[a++];if(d<128){l[i++]=d;continue}let u=Zu[d];if(u>4){l[i++]=65533,a+=u-1;continue}for(d&=u===2?31:u===3?15:7;u>1&&a<r;)d=d<<6|t[a++]&63,u--;if(u>1){l[i++]=65533;continue}d<65536?l[i++]=d:(d-=65536,l[i++]=55296|d>>10&1023,l[i++]=56320|d&1023)}return e4(l,i)},A4=(t,A)=>{A=A||t.length,A>t.length&&(A=t.length);let r=A-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?A:r+Zu[t[r]]>A?r:A},Pg={string2buf:$5,buf2string:t4,utf8border:A4};function r4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var n4=r4;const tf=16209,a4=16191;var s4=function(A,r){let a,i,l,d,u,f,g,w,v,C,b,U,F,L,N,H,_,k,V,Ae,ne,J,D,ee;const Q=A.state;a=A.next_in,D=A.input,i=a+(A.avail_in-5),l=A.next_out,ee=A.output,d=l-(r-A.avail_out),u=l+(A.avail_out-257),f=Q.dmax,g=Q.wsize,w=Q.whave,v=Q.wnext,C=Q.window,b=Q.hold,U=Q.bits,F=Q.lencode,L=Q.distcode,N=(1<<Q.lenbits)-1,H=(1<<Q.distbits)-1;e:do{U<15&&(b+=D[a++]<<U,U+=8,b+=D[a++]<<U,U+=8),_=F[b&N];t:for(;;){if(k=_>>>24,b>>>=k,U-=k,k=_>>>16&255,k===0)ee[l++]=_&65535;else if(k&16){V=_&65535,k&=15,k&&(U<k&&(b+=D[a++]<<U,U+=8),V+=b&(1<<k)-1,b>>>=k,U-=k),U<15&&(b+=D[a++]<<U,U+=8,b+=D[a++]<<U,U+=8),_=L[b&H];A:for(;;){if(k=_>>>24,b>>>=k,U-=k,k=_>>>16&255,k&16){if(Ae=_&65535,k&=15,U<k&&(b+=D[a++]<<U,U+=8,U<k&&(b+=D[a++]<<U,U+=8)),Ae+=b&(1<<k)-1,Ae>f){A.msg="invalid distance too far back",Q.mode=tf;break e}if(b>>>=k,U-=k,k=l-d,Ae>k){if(k=Ae-k,k>w&&Q.sane){A.msg="invalid distance too far back",Q.mode=tf;break e}if(ne=0,J=C,v===0){if(ne+=g-k,k<V){V-=k;do ee[l++]=C[ne++];while(--k);ne=l-Ae,J=ee}}else if(v<k){if(ne+=g+v-k,k-=v,k<V){V-=k;do ee[l++]=C[ne++];while(--k);if(ne=0,v<V){k=v,V-=k;do ee[l++]=C[ne++];while(--k);ne=l-Ae,J=ee}}}else if(ne+=v-k,k<V){V-=k;do ee[l++]=C[ne++];while(--k);ne=l-Ae,J=ee}for(;V>2;)ee[l++]=J[ne++],ee[l++]=J[ne++],ee[l++]=J[ne++],V-=3;V&&(ee[l++]=J[ne++],V>1&&(ee[l++]=J[ne++]))}else{ne=l-Ae;do ee[l++]=ee[ne++],ee[l++]=ee[ne++],ee[l++]=ee[ne++],V-=3;while(V>2);V&&(ee[l++]=ee[ne++],V>1&&(ee[l++]=ee[ne++]))}}else if((k&64)===0){_=L[(_&65535)+(b&(1<<k)-1)];continue A}else{A.msg="invalid distance code",Q.mode=tf;break e}break}}else if((k&64)===0){_=F[(_&65535)+(b&(1<<k)-1)];continue t}else if(k&32){Q.mode=a4;break e}else{A.msg="invalid literal/length code",Q.mode=tf;break e}break}}while(a<i&&l<u);V=U>>3,a-=V,U-=V<<3,b&=(1<<U)-1,A.next_in=a,A.next_out=l,A.avail_in=a<i?5+(i-a):5-(a-i),A.avail_out=l<u?257+(u-l):257-(l-u),Q.hold=b,Q.bits=U};const xc=15,m2=852,w2=592,b2=0,V0=1,x2=2,i4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),l4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),c4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),u4=(t,A,r,a,i,l,d,u)=>{const f=u.bits;let g=0,w=0,v=0,C=0,b=0,U=0,F=0,L=0,N=0,H=0,_,k,V,Ae,ne,J=null,D;const ee=new Uint16Array(xc+1),Q=new Uint16Array(xc+1);let j=null,I,K,ce;for(g=0;g<=xc;g++)ee[g]=0;for(w=0;w<a;w++)ee[A[r+w]]++;for(b=f,C=xc;C>=1&&ee[C]===0;C--);if(b>C&&(b=C),C===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,u.bits=1,0;for(v=1;v<C&&ee[v]===0;v++);for(b<v&&(b=v),L=1,g=1;g<=xc;g++)if(L<<=1,L-=ee[g],L<0)return-1;if(L>0&&(t===b2||C!==1))return-1;for(Q[1]=0,g=1;g<xc;g++)Q[g+1]=Q[g]+ee[g];for(w=0;w<a;w++)A[r+w]!==0&&(d[Q[A[r+w]]++]=w);if(t===b2?(J=j=d,D=20):t===V0?(J=i4,j=l4,D=257):(J=o4,j=c4,D=0),H=0,w=0,g=v,ne=l,U=b,F=0,V=-1,N=1<<b,Ae=N-1,t===V0&&N>m2||t===x2&&N>w2)return 1;for(;;){I=g-F,d[w]+1<D?(K=0,ce=d[w]):d[w]>=D?(K=j[d[w]-D],ce=J[d[w]-D]):(K=96,ce=0),_=1<<g-F,k=1<<U,v=k;do k-=_,i[ne+(H>>F)+k]=I<<24|K<<16|ce|0;while(k!==0);for(_=1<<g-1;H&_;)_>>=1;if(_!==0?(H&=_-1,H+=_):H=0,w++,--ee[g]===0){if(g===C)break;g=A[r+d[w]]}if(g>b&&(H&Ae)!==V){for(F===0&&(F=b),ne+=v,U=g-F,L=1<<U;U+F<C&&(L-=ee[U+F],!(L<=0));)U++,L<<=1;if(N+=1<<U,t===V0&&N>m2||t===x2&&N>w2)return 1;V=H&Ae,i[V]=b<<24|U<<16|ne-l|0}}return H!==0&&(i[ne+H]=g-F<<24|64<<16|0),u.bits=b,0};var Vu=u4;const d4=0,$b=1,ex=2,{Z_FINISH:v2,Z_BLOCK:f4,Z_TREES:Af,Z_OK:Co,Z_STREAM_END:h4,Z_NEED_DICT:g4,Z_STREAM_ERROR:Ka,Z_DATA_ERROR:tx,Z_MEM_ERROR:Ax,Z_BUF_ERROR:p4,Z_DEFLATED:y2}=Jb,fh=16180,B2=16181,C2=16182,U2=16183,Q2=16184,F2=16185,N2=16186,S2=16187,E2=16188,k2=16189,$f=16190,ki=16191,G0=16192,L2=16193,q0=16194,j2=16195,H2=16196,_2=16197,T2=16198,rf=16199,nf=16200,I2=16201,D2=16202,M2=16203,O2=16204,R2=16205,X0=16206,P2=16207,K2=16208,qA=16209,rx=16210,nx=16211,m4=852,w4=592,b4=15,x4=b4,z2=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function v4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fo=t=>{if(!t)return 1;const A=t.state;return!A||A.strm!==t||A.mode<fh||A.mode>nx?1:0},ax=t=>{if(Fo(t))return Ka;const A=t.state;return t.total_in=t.total_out=A.total=0,t.msg="",A.wrap&&(t.adler=A.wrap&1),A.mode=fh,A.last=0,A.havedict=0,A.flags=-1,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new Int32Array(m4),A.distcode=A.distdyn=new Int32Array(w4),A.sane=1,A.back=-1,Co},sx=t=>{if(Fo(t))return Ka;const A=t.state;return A.wsize=0,A.whave=0,A.wnext=0,ax(t)},ix=(t,A)=>{let r;if(Fo(t))return Ka;const a=t.state;return A<0?(r=0,A=-A):(r=(A>>4)+5,A<48&&(A&=15)),A&&(A<8||A>15)?Ka:(a.window!==null&&a.wbits!==A&&(a.window=null),a.wrap=r,a.wbits=A,sx(t))},lx=(t,A)=>{if(!t)return Ka;const r=new v4;t.state=r,r.strm=t,r.window=null,r.mode=fh;const a=ix(t,A);return a!==Co&&(t.state=null),a},y4=t=>lx(t,x4);let V2=!0,Y0,J0;const B4=t=>{if(V2){Y0=new Int32Array(512),J0=new Int32Array(32);let A=0;for(;A<144;)t.lens[A++]=8;for(;A<256;)t.lens[A++]=9;for(;A<280;)t.lens[A++]=7;for(;A<288;)t.lens[A++]=8;for(Vu($b,t.lens,0,288,Y0,0,t.work,{bits:9}),A=0;A<32;)t.lens[A++]=5;Vu(ex,t.lens,0,32,J0,0,t.work,{bits:5}),V2=!1}t.lencode=Y0,t.lenbits=9,t.distcode=J0,t.distbits=5},ox=(t,A,r,a)=>{let i;const l=t.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),a>=l.wsize?(l.window.set(A.subarray(r-l.wsize,r),0),l.wnext=0,l.whave=l.wsize):(i=l.wsize-l.wnext,i>a&&(i=a),l.window.set(A.subarray(r-a,r-a+i),l.wnext),a-=i,a?(l.window.set(A.subarray(r-a,r),0),l.wnext=a,l.whave=l.wsize):(l.wnext+=i,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=i))),0},C4=(t,A)=>{let r,a,i,l,d,u,f,g,w,v,C,b,U,F,L=0,N,H,_,k,V,Ae,ne,J;const D=new Uint8Array(4);let ee,Q;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fo(t)||!t.output||!t.input&&t.avail_in!==0)return Ka;r=t.state,r.mode===ki&&(r.mode=G0),d=t.next_out,i=t.output,f=t.avail_out,l=t.next_in,a=t.input,u=t.avail_in,g=r.hold,w=r.bits,v=u,C=f,J=Co;e:for(;;)switch(r.mode){case fh:if(r.wrap===0){r.mode=G0;break}for(;w<16;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(r.wrap&2&&g===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=g&255,D[1]=g>>>8&255,r.check=qs(r.check,D,2,0),g=0,w=0,r.mode=B2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((g&255)<<8)+(g>>8))%31){t.msg="incorrect header check",r.mode=qA;break}if((g&15)!==y2){t.msg="unknown compression method",r.mode=qA;break}if(g>>>=4,w-=4,ne=(g&15)+8,r.wbits===0&&(r.wbits=ne),ne>15||ne>r.wbits){t.msg="invalid window size",r.mode=qA;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=g&512?k2:ki,g=0,w=0;break;case B2:for(;w<16;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(r.flags=g,(r.flags&255)!==y2){t.msg="unknown compression method",r.mode=qA;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=qA;break}r.head&&(r.head.text=g>>8&1),r.flags&512&&r.wrap&4&&(D[0]=g&255,D[1]=g>>>8&255,r.check=qs(r.check,D,2,0)),g=0,w=0,r.mode=C2;case C2:for(;w<32;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}r.head&&(r.head.time=g),r.flags&512&&r.wrap&4&&(D[0]=g&255,D[1]=g>>>8&255,D[2]=g>>>16&255,D[3]=g>>>24&255,r.check=qs(r.check,D,4,0)),g=0,w=0,r.mode=U2;case U2:for(;w<16;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}r.head&&(r.head.xflags=g&255,r.head.os=g>>8),r.flags&512&&r.wrap&4&&(D[0]=g&255,D[1]=g>>>8&255,r.check=qs(r.check,D,2,0)),g=0,w=0,r.mode=Q2;case Q2:if(r.flags&1024){for(;w<16;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}r.length=g,r.head&&(r.head.extra_len=g),r.flags&512&&r.wrap&4&&(D[0]=g&255,D[1]=g>>>8&255,r.check=qs(r.check,D,2,0)),g=0,w=0}else r.head&&(r.head.extra=null);r.mode=F2;case F2:if(r.flags&1024&&(b=r.length,b>u&&(b=u),b&&(r.head&&(ne=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(l,l+b),ne)),r.flags&512&&r.wrap&4&&(r.check=qs(r.check,a,b,l)),u-=b,l+=b,r.length-=b),r.length))break e;r.length=0,r.mode=N2;case N2:if(r.flags&2048){if(u===0)break e;b=0;do ne=a[l+b++],r.head&&ne&&r.length<65536&&(r.head.name+=String.fromCharCode(ne));while(ne&&b<u);if(r.flags&512&&r.wrap&4&&(r.check=qs(r.check,a,b,l)),u-=b,l+=b,ne)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=S2;case S2:if(r.flags&4096){if(u===0)break e;b=0;do ne=a[l+b++],r.head&&ne&&r.length<65536&&(r.head.comment+=String.fromCharCode(ne));while(ne&&b<u);if(r.flags&512&&r.wrap&4&&(r.check=qs(r.check,a,b,l)),u-=b,l+=b,ne)break e}else r.head&&(r.head.comment=null);r.mode=E2;case E2:if(r.flags&512){for(;w<16;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(r.wrap&4&&g!==(r.check&65535)){t.msg="header crc mismatch",r.mode=qA;break}g=0,w=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ki;break;case k2:for(;w<32;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}t.adler=r.check=z2(g),g=0,w=0,r.mode=$f;case $f:if(r.havedict===0)return t.next_out=d,t.avail_out=f,t.next_in=l,t.avail_in=u,r.hold=g,r.bits=w,g4;t.adler=r.check=1,r.mode=ki;case ki:if(A===f4||A===Af)break e;case G0:if(r.last){g>>>=w&7,w-=w&7,r.mode=X0;break}for(;w<3;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}switch(r.last=g&1,g>>>=1,w-=1,g&3){case 0:r.mode=L2;break;case 1:if(B4(r),r.mode=rf,A===Af){g>>>=2,w-=2;break e}break;case 2:r.mode=H2;break;case 3:t.msg="invalid block type",r.mode=qA}g>>>=2,w-=2;break;case L2:for(g>>>=w&7,w-=w&7;w<32;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if((g&65535)!==(g>>>16^65535)){t.msg="invalid stored block lengths",r.mode=qA;break}if(r.length=g&65535,g=0,w=0,r.mode=q0,A===Af)break e;case q0:r.mode=j2;case j2:if(b=r.length,b){if(b>u&&(b=u),b>f&&(b=f),b===0)break e;i.set(a.subarray(l,l+b),d),u-=b,l+=b,f-=b,d+=b,r.length-=b;break}r.mode=ki;break;case H2:for(;w<14;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(r.nlen=(g&31)+257,g>>>=5,w-=5,r.ndist=(g&31)+1,g>>>=5,w-=5,r.ncode=(g&15)+4,g>>>=4,w-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=qA;break}r.have=0,r.mode=_2;case _2:for(;r.have<r.ncode;){for(;w<3;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}r.lens[j[r.have++]]=g&7,g>>>=3,w-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ee={bits:r.lenbits},J=Vu(d4,r.lens,0,19,r.lencode,0,r.work,ee),r.lenbits=ee.bits,J){t.msg="invalid code lengths set",r.mode=qA;break}r.have=0,r.mode=T2;case T2:for(;r.have<r.nlen+r.ndist;){for(;L=r.lencode[g&(1<<r.lenbits)-1],N=L>>>24,H=L>>>16&255,_=L&65535,!(N<=w);){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(_<16)g>>>=N,w-=N,r.lens[r.have++]=_;else{if(_===16){for(Q=N+2;w<Q;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(g>>>=N,w-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=qA;break}ne=r.lens[r.have-1],b=3+(g&3),g>>>=2,w-=2}else if(_===17){for(Q=N+3;w<Q;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}g>>>=N,w-=N,ne=0,b=3+(g&7),g>>>=3,w-=3}else{for(Q=N+7;w<Q;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}g>>>=N,w-=N,ne=0,b=11+(g&127),g>>>=7,w-=7}if(r.have+b>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=qA;break}for(;b--;)r.lens[r.have++]=ne}}if(r.mode===qA)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=qA;break}if(r.lenbits=9,ee={bits:r.lenbits},J=Vu($b,r.lens,0,r.nlen,r.lencode,0,r.work,ee),r.lenbits=ee.bits,J){t.msg="invalid literal/lengths set",r.mode=qA;break}if(r.distbits=6,r.distcode=r.distdyn,ee={bits:r.distbits},J=Vu(ex,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ee),r.distbits=ee.bits,J){t.msg="invalid distances set",r.mode=qA;break}if(r.mode=rf,A===Af)break e;case rf:r.mode=nf;case nf:if(u>=6&&f>=258){t.next_out=d,t.avail_out=f,t.next_in=l,t.avail_in=u,r.hold=g,r.bits=w,s4(t,C),d=t.next_out,i=t.output,f=t.avail_out,l=t.next_in,a=t.input,u=t.avail_in,g=r.hold,w=r.bits,r.mode===ki&&(r.back=-1);break}for(r.back=0;L=r.lencode[g&(1<<r.lenbits)-1],N=L>>>24,H=L>>>16&255,_=L&65535,!(N<=w);){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(H&&(H&240)===0){for(k=N,V=H,Ae=_;L=r.lencode[Ae+((g&(1<<k+V)-1)>>k)],N=L>>>24,H=L>>>16&255,_=L&65535,!(k+N<=w);){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}g>>>=k,w-=k,r.back+=k}if(g>>>=N,w-=N,r.back+=N,r.length=_,H===0){r.mode=R2;break}if(H&32){r.back=-1,r.mode=ki;break}if(H&64){t.msg="invalid literal/length code",r.mode=qA;break}r.extra=H&15,r.mode=I2;case I2:if(r.extra){for(Q=r.extra;w<Q;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}r.length+=g&(1<<r.extra)-1,g>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=D2;case D2:for(;L=r.distcode[g&(1<<r.distbits)-1],N=L>>>24,H=L>>>16&255,_=L&65535,!(N<=w);){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if((H&240)===0){for(k=N,V=H,Ae=_;L=r.distcode[Ae+((g&(1<<k+V)-1)>>k)],N=L>>>24,H=L>>>16&255,_=L&65535,!(k+N<=w);){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}g>>>=k,w-=k,r.back+=k}if(g>>>=N,w-=N,r.back+=N,H&64){t.msg="invalid distance code",r.mode=qA;break}r.offset=_,r.extra=H&15,r.mode=M2;case M2:if(r.extra){for(Q=r.extra;w<Q;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}r.offset+=g&(1<<r.extra)-1,g>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=qA;break}r.mode=O2;case O2:if(f===0)break e;if(b=C-f,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=qA;break}b>r.wnext?(b-=r.wnext,U=r.wsize-b):U=r.wnext-b,b>r.length&&(b=r.length),F=r.window}else F=i,U=d-r.offset,b=r.length;b>f&&(b=f),f-=b,r.length-=b;do i[d++]=F[U++];while(--b);r.length===0&&(r.mode=nf);break;case R2:if(f===0)break e;i[d++]=r.length,f--,r.mode=nf;break;case X0:if(r.wrap){for(;w<32;){if(u===0)break e;u--,g|=a[l++]<<w,w+=8}if(C-=f,t.total_out+=C,r.total+=C,r.wrap&4&&C&&(t.adler=r.check=r.flags?qs(r.check,i,C,d-C):Og(r.check,i,C,d-C)),C=f,r.wrap&4&&(r.flags?g:z2(g))!==r.check){t.msg="incorrect data check",r.mode=qA;break}g=0,w=0}r.mode=P2;case P2:if(r.wrap&&r.flags){for(;w<32;){if(u===0)break e;u--,g+=a[l++]<<w,w+=8}if(r.wrap&4&&g!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=qA;break}g=0,w=0}r.mode=K2;case K2:J=h4;break e;case qA:J=tx;break e;case rx:return Ax;case nx:default:return Ka}return t.next_out=d,t.avail_out=f,t.next_in=l,t.avail_in=u,r.hold=g,r.bits=w,(r.wsize||C!==t.avail_out&&r.mode<qA&&(r.mode<X0||A!==v2))&&ox(t,t.output,t.next_out,C-t.avail_out),v-=t.avail_in,C-=t.avail_out,t.total_in+=v,t.total_out+=C,r.total+=C,r.wrap&4&&C&&(t.adler=r.check=r.flags?qs(r.check,i,C,t.next_out-C):Og(r.check,i,C,t.next_out-C)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ki?128:0)+(r.mode===rf||r.mode===q0?256:0),(v===0&&C===0||A===v2)&&J===Co&&(J=p4),J},U4=t=>{if(Fo(t))return Ka;let A=t.state;return A.window&&(A.window=null),t.state=null,Co},Q4=(t,A)=>{if(Fo(t))return Ka;const r=t.state;return(r.wrap&2)===0?Ka:(r.head=A,A.done=!1,Co)},F4=(t,A)=>{const r=A.length;let a,i,l;return Fo(t)||(a=t.state,a.wrap!==0&&a.mode!==$f)?Ka:a.mode===$f&&(i=1,i=Og(i,A,r,0),i!==a.check)?tx:(l=ox(t,A,r,r),l?(a.mode=rx,Ax):(a.havedict=1,Co))};var N4=sx,S4=ix,E4=ax,k4=y4,L4=lx,j4=C4,H4=U4,_4=Q4,T4=F4,I4="pako inflate (from Nodeca project)",Hi={inflateReset:N4,inflateReset2:S4,inflateResetKeep:E4,inflateInit:k4,inflateInit2:L4,inflate:j4,inflateEnd:H4,inflateGetHeader:_4,inflateSetDictionary:T4,inflateInfo:I4};function D4(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var M4=D4;const cx=Object.prototype.toString,{Z_NO_FLUSH:O4,Z_FINISH:R4,Z_OK:$u,Z_STREAM_END:W0,Z_NEED_DICT:Z0,Z_STREAM_ERROR:P4,Z_DATA_ERROR:G2,Z_MEM_ERROR:K4}=Jb;function nd(t){this.options=Wb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const A=this.options;A.raw&&A.windowBits>=0&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),A.windowBits>=0&&A.windowBits<16&&!(t&&t.windowBits)&&(A.windowBits+=32),A.windowBits>15&&A.windowBits<48&&(A.windowBits&15)===0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n4,this.strm.avail_out=0;let r=Hi.inflateInit2(this.strm,A.windowBits);if(r!==$u)throw new Error(Rg[r]);if(this.header=new M4,Hi.inflateGetHeader(this.strm,this.header),A.dictionary&&(typeof A.dictionary=="string"?A.dictionary=Pg.string2buf(A.dictionary):cx.call(A.dictionary)==="[object ArrayBuffer]"&&(A.dictionary=new Uint8Array(A.dictionary)),A.raw&&(r=Hi.inflateSetDictionary(this.strm,A.dictionary),r!==$u)))throw new Error(Rg[r])}nd.prototype.push=function(t,A){const r=this.strm,a=this.options.chunkSize,i=this.options.dictionary;let l,d,u;if(this.ended)return!1;for(A===~~A?d=A:d=A===!0?R4:O4,cx.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),l=Hi.inflate(r,d),l===Z0&&i&&(l=Hi.inflateSetDictionary(r,i),l===$u?l=Hi.inflate(r,d):l===G2&&(l=Z0));r.avail_in>0&&l===W0&&r.state.wrap>0&&t[r.next_in]!==0;)Hi.inflateReset(r),l=Hi.inflate(r,d);switch(l){case P4:case G2:case Z0:case K4:return this.onEnd(l),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||l===W0))if(this.options.to==="string"){let f=Pg.utf8border(r.output,r.next_out),g=r.next_out-f,w=Pg.buf2string(r.output,f);r.next_out=g,r.avail_out=a-g,g&&r.output.set(r.output.subarray(f,f+g),0),this.onData(w)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(l===$u&&u===0)){if(l===W0)return l=Hi.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};nd.prototype.onData=function(t){this.chunks.push(t)};nd.prototype.onEnd=function(t){t===$u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function z4(t,A){const r=new nd(A);if(r.push(t),r.err)throw r.msg||Rg[r.err];return r.result}var V4=nd,G4=z4,q4={Inflate:V4,inflate:G4};const{Inflate:X4,inflate:Y4}=q4;var q2=X4,J4=Y4;const ux=[];for(let t=0;t<256;t++){let A=t;for(let r=0;r<8;r++)A&1?A=3988292384^A>>>1:A=A>>>1;ux[t]=A}const X2=4294967295;function W4(t,A,r){let a=t;for(let i=0;i<r;i++)a=ux[(a^A[i])&255]^a>>>8;return a}function Z4(t,A){return(W4(X2,t,A)^X2)>>>0}function Y2(t,A,r){const a=t.readUint32(),i=Z4(new Uint8Array(t.buffer,t.byteOffset+t.offset-A-4,A),A);if(i!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${i}`)}function dx(t,A,r){for(let a=0;a<r;a++)A[a]=t[a]}function fx(t,A,r,a){let i=0;for(;i<a;i++)A[i]=t[i];for(;i<r;i++)A[i]=t[i]+A[i-a]&255}function hx(t,A,r,a){let i=0;if(r.length===0)for(;i<a;i++)A[i]=t[i];else for(;i<a;i++)A[i]=t[i]+r[i]&255}function gx(t,A,r,a,i){let l=0;if(r.length===0){for(;l<i;l++)A[l]=t[l];for(;l<a;l++)A[l]=t[l]+(A[l-i]>>1)&255}else{for(;l<i;l++)A[l]=t[l]+(r[l]>>1)&255;for(;l<a;l++)A[l]=t[l]+(A[l-i]+r[l]>>1)&255}}function px(t,A,r,a,i){let l=0;if(r.length===0){for(;l<i;l++)A[l]=t[l];for(;l<a;l++)A[l]=t[l]+A[l-i]&255}else{for(;l<i;l++)A[l]=t[l]+r[l]&255;for(;l<a;l++)A[l]=t[l]+$4(A[l-i],r[l],r[l-i])&255}}function $4(t,A,r){const a=t+A-r,i=Math.abs(a-t),l=Math.abs(a-A),d=Math.abs(a-r);return i<=l&&i<=d?t:l<=d?A:r}function eC(t,A,r,a,i,l){switch(t){case 0:dx(A,r,i);break;case 1:fx(A,r,i,l);break;case 2:hx(A,r,a,i);break;case 3:gx(A,r,a,i,l);break;case 4:px(A,r,a,i,l);break;default:throw new Error(`Unsupported filter: ${t}`)}}const tC=new Uint16Array([255]),AC=new Uint8Array(tC.buffer),rC=AC[0]===255;function nC(t){const{data:A,width:r,height:a,channels:i,depth:l}=t,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(l/8)*i,f=new Uint8Array(a*r*u);let g=0;for(let w=0;w<7;w++){const v=d[w],C=Math.ceil((r-v.x)/v.xStep),b=Math.ceil((a-v.y)/v.yStep);if(C<=0||b<=0)continue;const U=C*u,F=new Uint8Array(U);for(let L=0;L<b;L++){const N=A[g++],H=A.subarray(g,g+U);g+=U;const _=new Uint8Array(U);eC(N,H,_,F,U,u),F.set(_);for(let k=0;k<C;k++){const V=v.x+k*v.xStep,Ae=v.y+L*v.yStep;if(!(V>=r||Ae>=a))for(let ne=0;ne<u;ne++)f[(Ae*r+V)*u+ne]=_[k*u+ne]}}}if(l===16){const w=new Uint16Array(f.buffer);if(rC)for(let v=0;v<w.length;v++)w[v]=aC(w[v]);return w}else return f}function aC(t){return(t&255)<<8|t>>8&255}const sC=new Uint16Array([255]),iC=new Uint8Array(sC.buffer),lC=iC[0]===255,oC=new Uint8Array(0);function J2(t){const{data:A,width:r,height:a,channels:i,depth:l}=t,d=Math.ceil(l/8)*i,u=Math.ceil(l/8*i*r),f=new Uint8Array(a*u);let g=oC,w=0,v,C;for(let b=0;b<a;b++){switch(v=A.subarray(w+1,w+1+u),C=f.subarray(b*u,(b+1)*u),A[w]){case 0:dx(v,C,u);break;case 1:fx(v,C,u,d);break;case 2:hx(v,C,g,u);break;case 3:gx(v,C,g,u,d);break;case 4:px(v,C,g,u,d);break;default:throw new Error(`Unsupported filter: ${A[w]}`)}g=C,w+=u+1}if(l===16){const b=new Uint16Array(f.buffer);if(lC)for(let U=0;U<b.length;U++)b[U]=cC(b[U]);return b}else return f}function cC(t){return(t&255)<<8|t>>8&255}const Tf=Uint8Array.of(137,80,78,71,13,10,26,10);function W2(t){if(!uC(t.readBytes(Tf.length)))throw new Error("wrong PNG signature")}function uC(t){if(t.length<Tf.length)return!1;for(let A=0;A<Tf.length;A++)if(t[A]!==Tf[A])return!1;return!0}const dC="tEXt",fC=0,mx=new TextDecoder("latin1");function hC(t){if(pC(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const gC=/^[\u0000-\u00FF]*$/;function pC(t){if(!gC.test(t))throw new Error("invalid latin1 text")}function mC(t,A,r){const a=wx(A);t[a]=wC(A,r-a.length-1)}function wx(t){for(t.mark();t.readByte()!==fC;);const A=t.offset;t.reset();const r=mx.decode(t.readBytes(A-t.offset-1));return t.skip(1),hC(r),r}function wC(t,A){return mx.decode(t.readBytes(A))}const pa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$0={UNKNOWN:-1,DEFLATE:0},Z2={UNKNOWN:-1,ADAPTIVE:0},eg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},af={NONE:0,BACKGROUND:1,PREVIOUS:2},tg={SOURCE:0,OVER:1};class bC extends Np{constructor(r,a={}){super(r);xA(this,"_checkCrc");xA(this,"_inflator");xA(this,"_png");xA(this,"_apng");xA(this,"_end");xA(this,"_hasPalette");xA(this,"_palette");xA(this,"_hasTransparency");xA(this,"_transparency");xA(this,"_compressionMethod");xA(this,"_filterMethod");xA(this,"_interlaceMethod");xA(this,"_colorType");xA(this,"_isAnimated");xA(this,"_numberOfFrames");xA(this,"_numberOfPlays");xA(this,"_frames");xA(this,"_writingDataChunks");const{checkCrc:i=!1}=a;this._checkCrc=i,this._inflator=new q2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$0.UNKNOWN,this._filterMethod=Z2.UNKNOWN,this._interlaceMethod=eg.UNKNOWN,this._colorType=pa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(W2(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(W2(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const i=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case dC:mC(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?Y2(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const i=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?Y2(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=xC(this.readUint8());const a=this.readUint8();this._colorType=a;let i;switch(a){case pa.GREYSCALE:i=1;break;case pa.TRUECOLOUR:i=3;break;case pa.INDEXED_COLOUR:i=1;break;case pa.GREYSCALE_ALPHA:i=2;break;case pa.TRUECOLOUR_ALPHA:i=4;break;case pa.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==$0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let l=0;l<a;l++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,i=this.offset+this.byteOffset;if(i+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,i,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case pa.GREYSCALE:case pa.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case pa.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const i=this.readByte();this._palette[a].push(i)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case pa.UNKNOWN:case pa.GREYSCALE_ALPHA:case pa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=wx(this),i=this.readUint8();if(i!==$0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const l=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:J4(l)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:a,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=J2({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)a.data=i.data;else{const l=this._apng.frames.at(r-1);this.disposeFrame(i,l,a),this.addFrameDataToCanvas(a,i)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,i){switch(r.disposeOp){case af.NONE:break;case af.BACKGROUND:for(let l=0;l<this._png.height;l++)for(let d=0;d<this._png.width;d++){const u=(l*r.width+d)*this._png.channels;for(let f=0;f<this._png.channels;f++)i.data[u+f]=0}break;case af.PREVIOUS:i.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const i=1<<this._png.depth,l=(d,u)=>{const f=((d+a.yOffset)*this._png.width+a.xOffset+u)*this._png.channels,g=(d*a.width+u)*this._png.channels;return{index:f,frameIndex:g}};switch(a.blendOp){case tg.SOURCE:for(let d=0;d<a.height;d++)for(let u=0;u<a.width;u++){const{index:f,frameIndex:g}=l(d,u);for(let w=0;w<this._png.channels;w++)r.data[f+w]=a.data[g+w]}break;case tg.OVER:for(let d=0;d<a.height;d++)for(let u=0;u<a.width;u++){const{index:f,frameIndex:g}=l(d,u);for(let w=0;w<this._png.channels;w++){const v=a.data[g+this._png.channels-1]/i,C=w%(this._png.channels-1)===0?1:a.data[g+w],b=Math.floor(v*C+(1-v)*r.data[f+w]);r.data[f+w]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==Z2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===eg.NO_INTERLACE)this._png.data=J2({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===eg.ADAM7)this._png.data=nC({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:af.NONE,blendOp:tg.SOURCE,data:r}),this._inflator=new q2,this._writingDataChunks=!1}}function xC(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var $2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})($2||($2={}));function vC(t,A){return new bC(t,A).decode()}var Lt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ag(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var jA={log:Ag,warn:function(t){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):Ag.call(null,arguments))},error:function(t){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):Ag(t))}};function rg(t,A,r){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){go(a.response,A,r)},a.onerror=function(){jA.error("could not download file")},a.send()}function ew(t){var A=new XMLHttpRequest;A.open("HEAD",t,!1);try{A.send()}catch{}return A.status>=200&&A.status<=299}function sf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(A)}}var go=Lt.saveAs||((typeof window>"u"?"undefined":vA(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,A,r){var a=Lt.URL||Lt.webkitURL,i=document.createElement("a");A=A||t.name||"download",i.download=A,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?ew(i.href)?rg(t,A,r):sf(i,i.target="_blank"):sf(i)):(i.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){sf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,A,r){if(A=A||t.name||"download",typeof t=="string")if(ew(t))rg(t,A,r);else{var a=document.createElement("a");a.href=t,a.target="_blank",setTimeout(function(){sf(a)})}else navigator.msSaveOrOpenBlob((function(i,l){return l===void 0?l={autoBom:!1}:vA(l)!=="object"&&(jA.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),A)}:function(t,A,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof t=="string")return rg(t,A,r);var i=t.type==="application/octet-stream",l=/constructor/i.test(Lt.HTMLElement)||Lt.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||i&&l)&&(typeof FileReader>"u"?"undefined":vA(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var w=u.result;w=d?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=w:location=w,a=null},u.readAsDataURL(t)}else{var f=Lt.URL||Lt.webkitURL,g=f.createObjectURL(t);a?a.location=g:location.href=g,a=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bx(t){var A;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],a=0;a<r.length;a++){var i=r[a].re,l=r[a].process,d=i.exec(t);d&&(A=l(d),this.r=A[0],this.g=A[1],this.b=A[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),g=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),g.length==1&&(g="0"+g),"#"+u+f+g}}var If=Lt.atob.bind(Lt),tw=Lt.btoa.bind(Lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ng(t,A){var r=t[0],a=t[1],i=t[2],l=t[3];r=dn(r,a,i,l,A[0],7,-680876936),l=dn(l,r,a,i,A[1],12,-389564586),i=dn(i,l,r,a,A[2],17,606105819),a=dn(a,i,l,r,A[3],22,-1044525330),r=dn(r,a,i,l,A[4],7,-176418897),l=dn(l,r,a,i,A[5],12,1200080426),i=dn(i,l,r,a,A[6],17,-1473231341),a=dn(a,i,l,r,A[7],22,-45705983),r=dn(r,a,i,l,A[8],7,1770035416),l=dn(l,r,a,i,A[9],12,-1958414417),i=dn(i,l,r,a,A[10],17,-42063),a=dn(a,i,l,r,A[11],22,-1990404162),r=dn(r,a,i,l,A[12],7,1804603682),l=dn(l,r,a,i,A[13],12,-40341101),i=dn(i,l,r,a,A[14],17,-1502002290),r=fn(r,a=dn(a,i,l,r,A[15],22,1236535329),i,l,A[1],5,-165796510),l=fn(l,r,a,i,A[6],9,-1069501632),i=fn(i,l,r,a,A[11],14,643717713),a=fn(a,i,l,r,A[0],20,-373897302),r=fn(r,a,i,l,A[5],5,-701558691),l=fn(l,r,a,i,A[10],9,38016083),i=fn(i,l,r,a,A[15],14,-660478335),a=fn(a,i,l,r,A[4],20,-405537848),r=fn(r,a,i,l,A[9],5,568446438),l=fn(l,r,a,i,A[14],9,-1019803690),i=fn(i,l,r,a,A[3],14,-187363961),a=fn(a,i,l,r,A[8],20,1163531501),r=fn(r,a,i,l,A[13],5,-1444681467),l=fn(l,r,a,i,A[2],9,-51403784),i=fn(i,l,r,a,A[7],14,1735328473),r=hn(r,a=fn(a,i,l,r,A[12],20,-1926607734),i,l,A[5],4,-378558),l=hn(l,r,a,i,A[8],11,-2022574463),i=hn(i,l,r,a,A[11],16,1839030562),a=hn(a,i,l,r,A[14],23,-35309556),r=hn(r,a,i,l,A[1],4,-1530992060),l=hn(l,r,a,i,A[4],11,1272893353),i=hn(i,l,r,a,A[7],16,-155497632),a=hn(a,i,l,r,A[10],23,-1094730640),r=hn(r,a,i,l,A[13],4,681279174),l=hn(l,r,a,i,A[0],11,-358537222),i=hn(i,l,r,a,A[3],16,-722521979),a=hn(a,i,l,r,A[6],23,76029189),r=hn(r,a,i,l,A[9],4,-640364487),l=hn(l,r,a,i,A[12],11,-421815835),i=hn(i,l,r,a,A[15],16,530742520),r=gn(r,a=hn(a,i,l,r,A[2],23,-995338651),i,l,A[0],6,-198630844),l=gn(l,r,a,i,A[7],10,1126891415),i=gn(i,l,r,a,A[14],15,-1416354905),a=gn(a,i,l,r,A[5],21,-57434055),r=gn(r,a,i,l,A[12],6,1700485571),l=gn(l,r,a,i,A[3],10,-1894986606),i=gn(i,l,r,a,A[10],15,-1051523),a=gn(a,i,l,r,A[1],21,-2054922799),r=gn(r,a,i,l,A[8],6,1873313359),l=gn(l,r,a,i,A[15],10,-30611744),i=gn(i,l,r,a,A[6],15,-1560198380),a=gn(a,i,l,r,A[13],21,1309151649),r=gn(r,a,i,l,A[4],6,-145523070),l=gn(l,r,a,i,A[11],10,-1120210379),i=gn(i,l,r,a,A[2],15,718787259),a=gn(a,i,l,r,A[9],21,-343485551),t[0]=Ql(r,t[0]),t[1]=Ql(a,t[1]),t[2]=Ql(i,t[2]),t[3]=Ql(l,t[3])}function hh(t,A,r,a,i,l){return A=Ql(Ql(A,t),Ql(a,l)),Ql(A<<i|A>>>32-i,r)}function dn(t,A,r,a,i,l,d){return hh(A&r|~A&a,t,A,i,l,d)}function fn(t,A,r,a,i,l,d){return hh(A&a|r&~a,t,A,i,l,d)}function hn(t,A,r,a,i,l,d){return hh(A^r^a,t,A,i,l,d)}function gn(t,A,r,a,i,l,d){return hh(r^(A|~a),t,A,i,l,d)}function xx(t){var A,r=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(A=64;A<=t.length;A+=64)ng(a,yC(t.substring(A-64,A)));t=t.substring(A-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(A=0;A<t.length;A++)i[A>>2]|=t.charCodeAt(A)<<(A%4<<3);if(i[A>>2]|=128<<(A%4<<3),A>55)for(ng(a,i),A=0;A<16;A++)i[A]=0;return i[14]=8*r,ng(a,i),a}function yC(t){var A,r=[];for(A=0;A<64;A+=4)r[A>>2]=t.charCodeAt(A)+(t.charCodeAt(A+1)<<8)+(t.charCodeAt(A+2)<<16)+(t.charCodeAt(A+3)<<24);return r}var Aw="0123456789abcdef".split("");function BC(t){for(var A="",r=0;r<4;r++)A+=Aw[t>>8*r+4&15]+Aw[t>>8*r&15];return A}function CC(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Kg(t){return xx(t).map(CC).join("")}var UC=(function(t){for(var A=0;A<t.length;A++)t[A]=BC(t[A]);return t.join("")})(xx("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ql(t,A){if(UC){var r=(65535&t)+(65535&A);return(t>>16)+(A>>16)+(r>>16)<<16|65535&r}return t+A&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zg(t,A){var r,a,i,l;if(t!==r){for(var d=(i=t,l=1+(256/t.length|0),new Array(l+1).join(i)),u=[],f=0;f<256;f++)u[f]=f;var g=0;for(f=0;f<256;f++){var w=u[f];g=(g+w+d.charCodeAt(f))%256,u[f]=u[g],u[g]=w}r=t,a=u}else u=a;var v=A.length,C=0,b=0,U="";for(f=0;f<v;f++)b=(b+(w=u[C=(C+1)%256]))%256,u[C]=u[b],u[b]=w,d=u[(u[C]+u[b])%256],U+=String.fromCharCode(A.charCodeAt(f)^d);return U}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var rw={print:4,modify:8,copy:16,"annot-forms":32};function kc(t,A,r,a){this.v=1,this.r=2;var i=192;t.forEach(function(u){if(rw.perm!==void 0)throw new Error("Invalid permission: "+u);i+=rw[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(A+this.padding).substr(0,32),d=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^i)),this.encryptionKey=Kg(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=zg(this.encryptionKey,this.padding)}function Lc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var A="",r=t.length,a=0;a<r;a++){var i=t.charCodeAt(a);A+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[a]}return A}function nw(t){if(vA(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var A={};this.subscribe=function(r,a,i){if(i=i||!1,typeof r!="string"||typeof a!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");A.hasOwnProperty(r)||(A[r]={});var l=Math.random().toString(35);return A[r][l]=[a,!!i],l},this.unsubscribe=function(r){for(var a in A)if(A[a][r])return delete A[a][r],Object.keys(A[a]).length===0&&delete A[a],!0;return!1},this.publish=function(r){if(A.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),i=[];for(var l in A[r]){var d=A[r][l];try{d[0].apply(t,a)}catch(u){Lt.console&&jA.error("jsPDF PubSub Error",u.message,u)}d[1]&&i.push(l)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return A}}function eh(t){if(!(this instanceof eh))return new eh(t);var A="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&A.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function vx(t,A){this.gState=t,this.matrix=A,this.id="",this.objectNumber=-1}function po(t,A,r,a,i){if(!(this instanceof po))return new po(t,A,r,a,i);this.type=t==="axial"?2:3,this.coords=A,this.colors=r,vx.call(this,a,i)}function _c(t,A,r,a,i){if(!(this instanceof _c))return new _c(t,A,r,a,i);this.boundingBox=t,this.xStep=A,this.yStep=r,this.stream="",this.cloneIndex=0,vx.call(this,a,i)}function ft(t){var A,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],i=arguments[2],l=arguments[3],d=[],u=1,f=16,g="S",w=null;vA(t=t||{})==="object"&&(r=t.orientation,a=t.unit||a,i=t.format||i,l=t.compress||t.compressPdf||l,(w=t.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(A=t.precision),t.floatPrecision!==void 0&&(f=t.floatPrecision),g=t.defaultPathOperation||"S"),d=t.filters||(l===!0?["FlateEncode"]:d),a=a||"mm",r=(""+(r||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,C={},b={internal:{},__private__:{}};b.__private__.PubSub=nw;var U="1.3",F=b.__private__.getPdfVersion=function(){return U};b.__private__.setPdfVersion=function(y){U=y};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return L};var N=b.__private__.getPageFormat=function(y){return L[y]};i=i||"a4";var H="compat",_="advanced",k=H;function V(){this.saveGraphicsState(),re(new pt(jt,0,0,-jt,0,es()*jt).toString()+" cm"),this.setFontSize(this.getFontSize()/jt),g="n",k=_}function Ae(){this.restoreGraphicsState(),g="S",k=H}var ne=b.__private__.combineFontStyleAndFontWeight=function(y,M){if(y=="bold"&&M=="normal"||y=="bold"&&M==400||y=="normal"&&M=="italic"||y=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(y=M==400||M==="normal"?y==="italic"?"italic":"normal":M!=700&&M!=="bold"||y!=="normal"?(M==700?"bold":M)+""+y:"bold"),y};b.advancedAPI=function(y){var M=k===H;return M&&V.call(this),typeof y!="function"||(y(this),M&&Ae.call(this)),this},b.compatAPI=function(y){var M=k===_;return M&&Ae.call(this),typeof y!="function"||(y(this),M&&V.call(this)),this},b.isAdvancedAPI=function(){return k===_};var J,D=function(y){if(k!==_)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=b.roundToPrecision=b.__private__.roundToPrecision=function(y,M){var ie=A||M;if(isNaN(y)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ie).replace(/0+$/,"")};J=b.hpf=b.__private__.hpf=typeof f=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(y,f)}:f==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(y,16)};var Q=b.f2=b.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return ee(y,2)},j=b.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return ee(y,3)},I=b.scale=b.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return k===H?y*jt:k===_?y:void 0},K=function(y){return I((function(M){return k===H?es()-M:k===_?M:void 0})(y))};b.__private__.setPrecision=b.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(A=parseInt(y,10))};var ce,R="00000000000000000000000000000000",Y=b.__private__.getFileId=function(){return R},Z=b.__private__.setFileId=function(y){return R=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(fr=new kc(w.userPermissions,w.userPassword,w.ownerPassword,R)),R};b.setFileId=function(y){return Z(y),this},b.getFileId=function(){return Y()};var ue=b.__private__.convertDateToPDFDate=function(y){var M=y.getTimezoneOffset(),ie=M<0?"+":"-",fe=Math.floor(Math.abs(M/60)),xe=Math.abs(M%60),Ie=[ie,$(fe),"'",$(xe),"'"].join("");return["D:",y.getFullYear(),$(y.getMonth()+1),$(y.getDate()),$(y.getHours()),$(y.getMinutes()),$(y.getSeconds()),Ie].join("")},ge=b.__private__.convertPDFDateToDate=function(y){var M=parseInt(y.substr(2,4),10),ie=parseInt(y.substr(6,2),10)-1,fe=parseInt(y.substr(8,2),10),xe=parseInt(y.substr(10,2),10),Ie=parseInt(y.substr(12,2),10),Ke=parseInt(y.substr(14,2),10);return new Date(M,ie,fe,xe,Ie,Ke,0)},be=b.__private__.setCreationDate=function(y){var M;if(y===void 0&&(y=new Date),y instanceof Date)M=ue(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=y}return ce=M},T=b.__private__.getCreationDate=function(y){var M=ce;return y==="jsDate"&&(M=ge(ce)),M};b.setCreationDate=function(y){return be(y),this},b.getCreationDate=function(y){return T(y)};var q,$=b.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},le=b.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},oe=0,we=[],Se=[],Ne=0,Le=[],Te=[],Oe=!1,ze=Se;b.__private__.setCustomOutputDestination=function(y){Oe=!0,ze=y};var qe=function(y){Oe||(ze=y)};b.__private__.resetCustomOutputDestination=function(){Oe=!1,ze=Se};var re=b.__private__.out=function(y){return y=y.toString(),Ne+=y.length+1,ze.push(y),ze},Ge=b.__private__.write=function(y){return re(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},We=b.__private__.getArrayBuffer=function(y){for(var M=y.length,ie=new ArrayBuffer(M),fe=new Uint8Array(ie);M--;)fe[M]=y.charCodeAt(M);return ie},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Xe};var ke=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(y){return ke=k===_?y/jt:y,this};var Ze,Ye=b.__private__.getFontSize=b.getFontSize=function(){return k===H?ke:ke*jt},rt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(y){return rt=y,this},b.__private__.getR2L=b.getR2L=function(){return rt};var ot,yt=b.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ze=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ze=y}else Ze=parseInt(y,10)};b.__private__.getZoomMode=function(){return Ze};var Mt,Ft=b.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');ot=y};b.__private__.getPageMode=function(){return ot};var Ot=b.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Mt=y};b.__private__.getLayoutMode=function(){return Mt},b.__private__.setDisplayMode=b.setDisplayMode=function(y,M,ie){return yt(y),Ot(M),Ft(ie),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(y){if(Object.keys(Rt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[y]},b.__private__.getDocumentProperties=function(){return Rt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(y){for(var M in Rt)Rt.hasOwnProperty(M)&&y[M]&&(Rt[M]=y[M]);return this},b.__private__.setDocumentProperty=function(y,M){if(Object.keys(Rt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[y]=M};var ct,jt,ht,YA,zt,vt={},St={},Vt=[],wt={},yA={},Ut={},Et={},gA=null,It=0,gt=[],$t=new nw(b),Zn=t.hotfixes||[],Or={},ba={},kn=[],pt=function y(M,ie,fe,xe,Ie,Ke){if(!(this instanceof y))return new y(M,ie,fe,xe,Ie,Ke);isNaN(M)&&(M=1),isNaN(ie)&&(ie=0),isNaN(fe)&&(fe=0),isNaN(xe)&&(xe=1),isNaN(Ie)&&(Ie=0),isNaN(Ke)&&(Ke=0),this._matrix=[M,ie,fe,xe,Ie,Ke]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(y)},pt.prototype.multiply=function(y){var M=y.sx*this.sx+y.shy*this.shx,ie=y.sx*this.shy+y.shy*this.sy,fe=y.shx*this.sx+y.sy*this.shx,xe=y.shx*this.shy+y.sy*this.sy,Ie=y.tx*this.sx+y.ty*this.shx+this.tx,Ke=y.tx*this.shy+y.ty*this.sy+this.ty;return new pt(M,ie,fe,xe,Ie,Ke)},pt.prototype.decompose=function(){var y=this.sx,M=this.shy,ie=this.shx,fe=this.sy,xe=this.tx,Ie=this.ty,Ke=Math.sqrt(y*y+M*M),at=(y/=Ke)*ie+(M/=Ke)*fe;ie-=y*at,fe-=M*at;var ut=Math.sqrt(ie*ie+fe*fe);return at/=ut,y*(fe/=ut)<M*(ie/=ut)&&(y=-y,M=-M,at=-at,Ke=-Ke),{scale:new pt(Ke,0,0,ut,0,0),translate:new pt(1,0,0,1,xe,Ie),rotate:new pt(y,M,-M,y,0,0),skew:new pt(1,0,at,1,0,0)}},pt.prototype.toString=function(y){return this.join(" ")},pt.prototype.inversed=function(){var y=this.sx,M=this.shy,ie=this.shx,fe=this.sy,xe=this.tx,Ie=this.ty,Ke=1/(y*fe-M*ie),at=fe*Ke,ut=-M*Ke,Nt=-ie*Ke,Ht=y*Ke;return new pt(at,ut,Nt,Ht,-at*xe-Nt*Ie,-ut*xe-Ht*Ie)},pt.prototype.applyToPoint=function(y){var M=y.x*this.sx+y.y*this.shx+this.tx,ie=y.x*this.shy+y.y*this.sy+this.ty;return new Hn(M,ie)},pt.prototype.applyToRectangle=function(y){var M=this.applyToPoint(y),ie=this.applyToPoint(new Hn(y.x+y.w,y.y+y.h));return new Ya(M.x,M.y,ie.x-M.x,ie.y-M.y)},pt.prototype.clone=function(){var y=this.sx,M=this.shy,ie=this.shx,fe=this.sy,xe=this.tx,Ie=this.ty;return new pt(y,M,ie,fe,xe,Ie)},b.Matrix=pt;var Va=b.matrixMult=function(y,M){return M.multiply(y)},xa=new pt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=xa;var bn=function(y,M){if(!yA[y]){var ie=(M instanceof po?"Sh":"P")+(Object.keys(wt).length+1).toString(10);M.id=ie,yA[y]=ie,wt[ie]=M,$t.publish("addPattern",M)}};b.ShadingPattern=po,b.TilingPattern=_c,b.addShadingPattern=function(y,M){return D("addShadingPattern()"),bn(y,M),this},b.beginTilingPattern=function(y){D("beginTilingPattern()"),ii(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},b.endTilingPattern=function(y,M){D("endTilingPattern()"),M.stream=Te[q].join(`
`),bn(y,M),$t.publish("endTilingPattern",M),kn.pop().restore()};var xn,HA=b.__private__.newObject=function(){var y=rr();return yr(y,!0),y},rr=b.__private__.newObjectDeferred=function(){return oe++,we[oe]=function(){return Ne},oe},yr=function(y,M){return M=typeof M=="boolean"&&M,we[y]=Ne,M&&re(y+" 0 obj"),y},Fs=b.__private__.newAdditionalObject=function(){var y={objId:rr(),content:""};return Le.push(y),y},Jr=rr(),pA=rr(),TA=b.__private__.decodeColorString=function(y){var M=y.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var ie=parseFloat(M[0]);M=[ie,ie,ie,"r"]}for(var fe="#",xe=0;xe<3;xe++)fe+=("0"+Math.floor(255*parseFloat(M[xe])).toString(16)).slice(-2);return fe},Rr=b.__private__.encodeColorString=function(y){var M;typeof y=="string"&&(y={ch1:y});var ie=y.ch1,fe=y.ch2,xe=y.ch3,Ie=y.ch4,Ke=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var at=new bx(ie);if(at.ok)ie=at.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var ut=parseInt(ie.substr(1),16);ie=ut>>16&255,fe=ut>>8&255,xe=255&ut}if(fe===void 0||Ie===void 0&&ie===fe&&fe===xe)M=typeof ie=="string"?ie+" "+Ke[0]:y.precision===2?Q(ie/255)+" "+Ke[0]:j(ie/255)+" "+Ke[0];else if(Ie===void 0||vA(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return["1.","1.","1.",Ke[1]].join(" ");M=typeof ie=="string"?[ie,fe,xe,Ke[1]].join(" "):y.precision===2?[Q(ie/255),Q(fe/255),Q(xe/255),Ke[1]].join(" "):[j(ie/255),j(fe/255),j(xe/255),Ke[1]].join(" ")}else M=typeof ie=="string"?[ie,fe,xe,Ie,Ke[2]].join(" "):y.precision===2?[Q(ie),Q(fe),Q(xe),Q(Ie),Ke[2]].join(" "):[j(ie),j(fe),j(xe),j(Ie),Ke[2]].join(" ");return M},vn=b.__private__.getFilters=function(){return d},Ln=b.__private__.putStream=function(y){var M=(y=y||{}).data||"",ie=y.filters||vn(),fe=y.alreadyAppliedFilters||[],xe=y.addLength1||!1,Ie=M.length,Ke=y.objectId,at=function(hr){return hr};if(w!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(at=fr.encryptor(Ke,0));var ut={};ie===!0&&(ie=["FlateEncode"]);var Nt=y.additionalKeyValues||[],Ht=(ut=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(M,ie):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(ut.data.length!==0&&(Nt.push({key:"Length",value:ut.data.length}),xe===!0&&Nt.push({key:"Length1",value:Ie})),Ht.length!=0)if(Ht.split("/").length-1==1)Nt.push({key:"Filter",value:Ht});else{Nt.push({key:"Filter",value:"["+Ht+"]"});for(var eA=0;eA<Nt.length;eA+=1)if(Nt[eA].key==="DecodeParms"){for(var IA=[],WA=0;WA<ut.reverseChain.split("/").length-1;WA+=1)IA.push("null");IA.push(Nt[eA].value),Nt[eA].value="["+IA.join(" ")+"]"}}re("<<");for(var BA=0;BA<Nt.length;BA++)re("/"+Nt[BA].key+" "+Nt[BA].value);re(">>"),ut.data.length!==0&&(re("stream"),re(at(ut.data)),re("endstream"))},ti=b.__private__.putPage=function(y){var M=y.number,ie=y.data,fe=y.objId,xe=y.contentsObjId;yr(fe,!0),re("<</Type /Page"),re("/Parent "+y.rootDictionaryObjId+" 0 R"),re("/Resources "+y.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(J(y.mediaBox.bottomLeftX))+" "+parseFloat(J(y.mediaBox.bottomLeftY))+" "+J(y.mediaBox.topRightX)+" "+J(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&re("/CropBox ["+J(y.cropBox.bottomLeftX)+" "+J(y.cropBox.bottomLeftY)+" "+J(y.cropBox.topRightX)+" "+J(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&re("/BleedBox ["+J(y.bleedBox.bottomLeftX)+" "+J(y.bleedBox.bottomLeftY)+" "+J(y.bleedBox.topRightX)+" "+J(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&re("/TrimBox ["+J(y.trimBox.bottomLeftX)+" "+J(y.trimBox.bottomLeftY)+" "+J(y.trimBox.topRightX)+" "+J(y.trimBox.topRightY)+"]"),y.artBox!==null&&re("/ArtBox ["+J(y.artBox.bottomLeftX)+" "+J(y.artBox.bottomLeftY)+" "+J(y.artBox.topRightX)+" "+J(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&re("/UserUnit "+y.userUnit),$t.publish("putPage",{objId:fe,pageContext:gt[M],pageNumber:M,page:ie}),re("/Contents "+xe+" 0 R"),re(">>"),re("endobj");var Ie=ie.join(`
`);return k===_&&(Ie+=`
Q`),yr(xe,!0),Ln({data:Ie,filters:vn(),objectId:xe}),re("endobj"),fe},$n=b.__private__.putPages=function(){var y,M,ie=[];for(y=1;y<=It;y++)gt[y].objId=rr(),gt[y].contentsObjId=rr();for(y=1;y<=It;y++)ie.push(ti({number:y,data:Te[y],objId:gt[y].objId,contentsObjId:gt[y].contentsObjId,mediaBox:gt[y].mediaBox,cropBox:gt[y].cropBox,bleedBox:gt[y].bleedBox,trimBox:gt[y].trimBox,artBox:gt[y].artBox,userUnit:gt[y].userUnit,rootDictionaryObjId:Jr,resourceDictionaryObjId:pA}));yr(Jr,!0),re("<</Type /Pages");var fe="/Kids [";for(M=0;M<It;M++)fe+=ie[M]+" 0 R ";re(fe+"]"),re("/Count "+It),re(">>"),re("endobj"),$t.publish("postPutPages")},ea=function(y){$t.publish("putFont",{font:y,out:re,newObject:HA,putStream:Ln}),y.isAlreadyPutted!==!0&&(y.objectNumber=HA(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Lc(y.postScriptName)),re("/Subtype /Type1"),typeof y.encoding=="string"&&re("/Encoding /"+y.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ns=function(y){y.objectNumber=HA();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[J(y.x),J(y.y),J(y.x+y.width),J(y.y+y.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ie=y.pages[1].join(`
`);Ln({data:ie,additionalKeyValues:M,objectId:y.objectNumber}),re("endobj")},ta=function(y,M){M||(M=21);var ie=HA(),fe=(function(Ke,at){var ut,Nt=[],Ht=1/(at-1);for(ut=0;ut<1;ut+=Ht)Nt.push(ut);if(Nt.push(1),Ke[0].offset!=0){var eA={offset:0,color:Ke[0].color};Ke.unshift(eA)}if(Ke[Ke.length-1].offset!=1){var IA={offset:1,color:Ke[Ke.length-1].color};Ke.push(IA)}for(var WA="",BA=0,hr=0;hr<Nt.length;hr++){for(ut=Nt[hr];ut>Ke[BA+1].offset;)BA++;var ar=Ke[BA].offset,Er=(ut-ar)/(Ke[BA+1].offset-ar),ts=Ke[BA].color,ia=Ke[BA+1].color;WA+=le(Math.round((1-Er)*ts[0]+Er*ia[0]).toString(16))+le(Math.round((1-Er)*ts[1]+Er*ia[1]).toString(16))+le(Math.round((1-Er)*ts[2]+Er*ia[2]).toString(16))}return WA.trim()})(y.colors,M),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+M+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ln({data:fe,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),re("endobj"),y.objectNumber=HA(),re("<< /ShadingType "+y.type),re("/ColorSpace /DeviceRGB");var Ie="/Coords ["+J(parseFloat(y.coords[0]))+" "+J(parseFloat(y.coords[1]))+" ";y.type===2?Ie+=J(parseFloat(y.coords[2]))+" "+J(parseFloat(y.coords[3])):Ie+=J(parseFloat(y.coords[2]))+" "+J(parseFloat(y.coords[3]))+" "+J(parseFloat(y.coords[4]))+" "+J(parseFloat(y.coords[5])),re(Ie+="]"),y.matrix&&re("/Matrix ["+y.matrix.toString()+"]"),re("/Function "+ie+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Aa=function(y,M){var ie=rr(),fe=HA();M.push({resourcesOid:ie,objectOid:fe}),y.objectNumber=fe;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+y.boundingBox.map(J).join(" ")+"]"}),xe.push({key:"XStep",value:J(y.xStep)}),xe.push({key:"YStep",value:J(y.yStep)}),xe.push({key:"Resources",value:ie+" 0 R"}),y.matrix&&xe.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Ln({data:y.stream,additionalKeyValues:xe,objectId:y.objectNumber}),re("endobj")},Ai=function(y){for(var M in y.objectNumber=HA(),re("<<"),y)switch(M){case"opacity":re("/ca "+Q(y[M]));break;case"stroke-opacity":re("/CA "+Q(y[M]))}re(">>"),re("endobj")},va=function(y){yr(y.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var M in re("/Font <<"),vt)vt.hasOwnProperty(M)&&(v===!1||v===!0&&C.hasOwnProperty(M))&&re("/"+M+" "+vt[M].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(wt).length>0){for(var M in re("/Shading <<"),wt)wt.hasOwnProperty(M)&&wt[M]instanceof po&&wt[M].objectNumber>=0&&re("/"+M+" "+wt[M].objectNumber+" 0 R");$t.publish("putShadingPatternDict"),re(">>")}})(),(function(M){if(Object.keys(wt).length>0){for(var ie in re("/Pattern <<"),wt)wt.hasOwnProperty(ie)&&wt[ie]instanceof b.TilingPattern&&wt[ie].objectNumber>=0&&wt[ie].objectNumber<M&&re("/"+ie+" "+wt[ie].objectNumber+" 0 R");$t.publish("putTilingPatternDict"),re(">>")}})(y.objectOid),(function(){if(Object.keys(Ut).length>0){var M;for(M in re("/ExtGState <<"),Ut)Ut.hasOwnProperty(M)&&Ut[M].objectNumber>=0&&re("/"+M+" "+Ut[M].objectNumber+" 0 R");$t.publish("putGStateDict"),re(">>")}})(),(function(){for(var M in re("/XObject <<"),Or)Or.hasOwnProperty(M)&&Or[M].objectNumber>=0&&re("/"+M+" "+Or[M].objectNumber+" 0 R");$t.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},JA=function(y){St[y.fontName]=St[y.fontName]||{},St[y.fontName][y.fontStyle]=y.id},_l=function(y,M,ie,fe,xe){var Ie={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:y,fontName:M,fontStyle:ie,encoding:fe,isStandardFont:xe||!1,metadata:{}};return $t.publish("addFont",{font:Ie,instance:this}),vt[Ie.id]=Ie,JA(Ie),Ie.id},yn=b.__private__.pdfEscape=b.pdfEscape=function(y,M){return(function(ie,fe){var xe,Ie,Ke,at,ut,Nt,Ht,eA,IA;if(Ke=(fe=fe||{}).sourceEncoding||"Unicode",ut=fe.outputEncoding,(fe.autoencode||ut)&&vt[ct].metadata&&vt[ct].metadata[Ke]&&vt[ct].metadata[Ke].encoding&&(at=vt[ct].metadata[Ke].encoding,!ut&&vt[ct].encoding&&(ut=vt[ct].encoding),!ut&&at.codePages&&(ut=at.codePages[0]),typeof ut=="string"&&(ut=at[ut]),ut)){for(Ht=!1,Nt=[],xe=0,Ie=ie.length;xe<Ie;xe++)(eA=ut[ie.charCodeAt(xe)])?Nt.push(String.fromCharCode(eA)):Nt.push(ie[xe]),Nt[xe].charCodeAt(0)>>8&&(Ht=!0);ie=Nt.join("")}for(xe=ie.length;Ht===void 0&&xe!==0;)ie.charCodeAt(xe-1)>>8&&(Ht=!0),xe--;if(!Ht)return ie;for(Nt=fe.noBOM?[]:[254,255],xe=0,Ie=ie.length;xe<Ie;xe++){if((IA=(eA=ie.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+ie+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Nt.push(IA),Nt.push(eA-(IA<<8))}return String.fromCharCode.apply(void 0,Nt)})(y,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ra=b.__private__.beginPage=function(y){Te[++It]=[],gt[It]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Il(It),qe(Te[q])},Ga=function(y,M){var ie,fe,xe;switch(r=M||r,typeof y=="string"&&(ie=N(y.toLowerCase()),Array.isArray(ie)&&(fe=ie[0],xe=ie[1])),Array.isArray(y)&&(fe=y[0]*jt,xe=y[1]*jt),isNaN(fe)&&(fe=i[0],xe=i[1]),(fe>14400||xe>14400)&&(jA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),xe=Math.min(14400,xe)),i=[fe,xe],r.substr(0,1)){case"l":xe>fe&&(i=[xe,fe]);break;case"p":fe>xe&&(i=[xe,fe])}ra(i),Bt(ni),re(Un),Pi!==0&&re(Pi+" J"),Br!==0&&re(Br+" j"),$t.publish("addPage",{pageNumber:It})},Tl=function(y){y>0&&y<=It&&(Te.splice(y,1),gt.splice(y,1),It--,q>It&&(q=It),this.setPage(q))},Il=function(y){y>0&&y<=It&&(q=y)},Dl=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Te.length-1},So=function(y,M,ie){var fe,xe=void 0;return ie=ie||{},y=y!==void 0?y:vt[ct].fontName,M=M!==void 0?M:vt[ct].fontStyle,fe=y.toLowerCase(),St[fe]!==void 0&&St[fe][M]!==void 0?xe=St[fe][M]:St[y]!==void 0&&St[y][M]!==void 0?xe=St[y][M]:ie.disableWarning===!1&&jA.warn("Unable to look up font label for font '"+y+"', '"+M+"'. Refer to getFontList() for available fonts."),xe||ie.noFallback||(xe=St.times[M])==null&&(xe=St.times.normal),xe},Bn=b.__private__.putInfo=function(){var y=HA(),M=function(fe){return fe};for(var ie in w!==null&&(M=fr.encryptor(y,0)),re("<<"),re("/Producer ("+yn(M("jsPDF "+ft.version))+")"),Rt)Rt.hasOwnProperty(ie)&&Rt[ie]&&re("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+yn(M(Rt[ie]))+")");re("/CreationDate ("+yn(M(ce))+")"),re(">>"),re("endobj")},qa=b.__private__.putCatalog=function(y){var M=(y=y||{}).rootDictionaryObjId||Jr;switch(HA(),re("<<"),re("/Type /Catalog"),re("/Pages "+M+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Ze;ie.substr(ie.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&re("/OpenAction [3 0 R /XYZ null null "+Q(Ze)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}ot&&re("/PageMode /"+ot),$t.publish("putCatalog"),re(">>"),re("endobj")},na=b.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(oe+1)),re("/Root "+oe+" 0 R"),re("/Info "+(oe-1)+" 0 R"),w!==null&&re("/Encrypt "+fr.oid+" 0 R"),re("/ID [ <"+R+"> <"+R+"> ]"),re(">>")},sA=b.__private__.putHeader=function(){re("%PDF-"+U),re("%")},Ml=b.__private__.putXRef=function(){var y="0000000000";re("xref"),re("0 "+(oe+1)),re("0000000000 65535 f ");for(var M=1;M<=oe;M++)typeof we[M]=="function"?re((y+we[M]()).slice(-10)+" 00000 n "):we[M]!==void 0?re((y+we[M]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},ya=b.__private__.buildDocument=function(){var y;oe=0,Ne=0,Se=[],we=[],Le=[],Jr=rr(),pA=rr(),qe(Se),$t.publish("buildDocument"),sA(),$n(),(function(){$t.publish("putAdditionalObjects");for(var ie=0;ie<Le.length;ie++){var fe=Le[ie];yr(fe.objId,!0),re(fe.content),re("endobj")}$t.publish("postPutAdditionalObjects")})(),y=[],(function(){for(var ie in vt)vt.hasOwnProperty(ie)&&(v===!1||v===!0&&C.hasOwnProperty(ie))&&ea(vt[ie])})(),(function(){var ie;for(ie in Ut)Ut.hasOwnProperty(ie)&&Ai(Ut[ie])})(),(function(){for(var ie in Or)Or.hasOwnProperty(ie)&&Ns(Or[ie])})(),(function(ie){var fe;for(fe in wt)wt.hasOwnProperty(fe)&&(wt[fe]instanceof po?ta(wt[fe]):wt[fe]instanceof _c&&Aa(wt[fe],ie))})(y),$t.publish("putResources"),y.forEach(va),va({resourcesOid:pA,objectOid:Number.MAX_SAFE_INTEGER}),$t.publish("postPutResources"),w!==null&&(fr.oid=HA(),re("<<"),re("/Filter /Standard"),re("/V "+fr.v),re("/R "+fr.r),re("/U <"+fr.toHexString(fr.U)+">"),re("/O <"+fr.toHexString(fr.O)+">"),re("/P "+fr.P),re(">>"),re("endobj")),Bn(),qa();var M=Ne;return Ml(),na(),re("startxref"),re(""+M),re("%%EOF"),qe(Te[q]),Se.join(`
`)},Ss=b.__private__.getBlob=function(y){return new Blob([We(y)],{type:"application/pdf"})},Ol=b.output=b.__private__.output=(xn=function(y,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",y){case void 0:return ya();case"save":b.save(M.filename);break;case"arraybuffer":return We(ya());case"blob":return Ss(ya());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(Ss(ya()))||void 0;jA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",fe=ya();try{ie=tw(fe)}catch{ie=tw(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+M.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(xe=M.pdfObjectUrl,Ie="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",at=Lt.open();return at!==null&&at.document.write(Ke),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',Nt=Lt.open();if(Nt!==null){Nt.document.write(ut);var Ht=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=M.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var eA='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',IA=Lt.open();if(IA!==null&&(IA.document.write(eA),IA.document.title=M.filename),IA||typeof safari>"u")return IA;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",M);default:return null}},xn.foo=function(){try{return xn.apply(this,arguments)}catch(ie){var y=ie.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var M="Error in function "+y.split(`
`)[0].split("<")[0]+": "+ie.message;if(!Lt.console)throw new Error(M);Lt.console.error(M,ie),Lt.alert&&alert(M)}},xn.foo.bar=xn,xn.foo),Wr=function(y){return Array.isArray(Zn)===!0&&Zn.indexOf(y)>-1};switch(a){case"pt":jt=1;break;case"mm":jt=72/25.4;break;case"cm":jt=72/2.54;break;case"in":jt=72;break;case"px":jt=Wr("px_scaling")==1?.75:96/72;break;case"pc":case"em":jt=12;break;case"ex":jt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);jt=a}var fr=null;be(),Z();var nr=b.__private__.getPageInfo=b.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[y].objId,pageNumber:y,pageContext:gt[y]}},Oi=b.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in gt)if(gt[M].objId===y)break;return nr(M)},Eo=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:gt[q].objId,pageNumber:q,pageContext:gt[q]}};b.addPage=function(){return Ga.apply(this,arguments),this},b.setPage=function(){return Il.apply(this,arguments),qe.call(this,Te[q]),this},b.insertPage=function(y){return this.addPage(),this.movePage(q,y),this},b.movePage=function(y,M){var ie,fe;if(y>M){ie=Te[y],fe=gt[y];for(var xe=y;xe>M;xe--)Te[xe]=Te[xe-1],gt[xe]=gt[xe-1];Te[M]=ie,gt[M]=fe,this.setPage(M)}else if(y<M){ie=Te[y],fe=gt[y];for(var Ie=y;Ie<M;Ie++)Te[Ie]=Te[Ie+1],gt[Ie]=gt[Ie+1];Te[M]=ie,gt[M]=fe,this.setPage(M)}return this},b.deletePage=function(){return Tl.apply(this,arguments),this},b.__private__.text=b.text=function(y,M,ie,fe,xe){var Ie,Ke,at,ut,Nt,Ht,eA,IA,WA,BA=(fe=fe||{}).scope||this;if(typeof y=="number"&&typeof M=="number"&&(typeof ie=="string"||Array.isArray(ie))){var hr=ie;ie=M,M=y,y=hr}if(arguments[3]instanceof pt==0?(at=arguments[4],ut=arguments[5],vA(eA=arguments[3])==="object"&&eA!==null||(typeof at=="string"&&(ut=at,at=null),typeof eA=="string"&&(ut=eA,eA=null),typeof eA=="number"&&(at=eA,eA=null),fe={flags:eA,angle:at,align:ut})):(D("The transform parameter of text() with a Matrix value"),WA=xe),isNaN(M)||isNaN(ie)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return BA;var ar,Er="",ts=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:Xa,ia=BA.internal.scaleFactor;function As(iA){return iA=iA.split("	").join(Array(fe.TabLen||9).join(" ")),yn(iA,eA)}function Yl(iA){for(var tA,CA=iA.concat(),$A=[],La=CA.length;La--;)typeof(tA=CA.shift())=="string"?$A.push(tA):Array.isArray(iA)&&(tA.length===1||tA[1]===void 0&&tA[2]===void 0)?$A.push(tA[0]):$A.push([tA[0],tA[1],tA[2]]);return $A}function zi(iA,tA){var CA;if(typeof iA=="string")CA=tA(iA)[0];else if(Array.isArray(iA)){for(var $A,La,ua=iA.concat(),ui=[],Zl=ua.length;Zl--;)typeof($A=ua.shift())=="string"?ui.push(tA($A)[0]):Array.isArray($A)&&typeof $A[0]=="string"&&(La=tA($A[0],$A[1],$A[2]),ui.push([La[0],La[1],La[2]]));CA=ui}return CA}var Ua=!1,la=!0;if(typeof y=="string")Ua=!0;else if(Array.isArray(y)){var oi=y.concat();Ke=[];for(var rs,Cr=oi.length;Cr--;)(typeof(rs=oi.shift())!="string"||Array.isArray(rs)&&typeof rs[0]!="string")&&(la=!1);Ua=la}if(Ua===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var ks=ke/BA.internal.scaleFactor,Ls=ks*(ts-1);switch(fe.baseline){case"bottom":ie-=Ls;break;case"top":ie+=ks-Ls;break;case"hanging":ie+=ks-2*Ls;break;case"middle":ie+=ks/2-Ls}if((Ht=fe.maxWidth||0)>0&&(typeof y=="string"?y=BA.splitTextToSize(y,Ht):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(iA,tA){return iA.concat(BA.splitTextToSize(tA,Ht))},[]))),Ie={text:y,x:M,y:ie,options:fe,mutex:{pdfEscape:yn,activeFontKey:ct,fonts:vt,activeFontSize:ke}},$t.publish("preProcessText",Ie),y=Ie.text,at=(fe=Ie.options).angle,WA instanceof pt==0&&at&&typeof at=="number"){at*=Math.PI/180,fe.rotationDirection===0&&(at=-at),k===_&&(at=-at);var Vi=Math.cos(at),Qa=Math.sin(at);WA=new pt(Vi,Qa,-Qa,Vi,0,0)}else at&&at instanceof pt&&(WA=at);k!==_||WA||(WA=xa),(Nt=fe.charSpace||jn)!==void 0&&(Er+=J(I(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(IA=fe.horizontalScale)!==void 0&&(Er+=J(100*IA)+` Tz
`),fe.lang;var $r=-1,ns=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Gi=BA.internal.getCurrentPageInfo().pageContext;switch(ns){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var Jl=Gi.usedRenderingMode!==void 0?Gi.usedRenderingMode:-1;$r!==-1?Er+=$r+` Tr
`:Jl!==-1&&(Er+=`0 Tr
`),$r!==-1&&(Gi.usedRenderingMode=$r),ut=fe.align||"left";var Qn,oa=ke*ts,as=BA.internal.pageSize.getWidth(),Wl=vt[ct];Nt=fe.charSpace||jn,Ht=fe.maxWidth||0,eA=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var ca=[],js=function(iA){return BA.getStringUnitWidth(iA,{font:Wl,charSpace:Nt,fontSize:ke,doKerning:!1})*ke/ia};if(Object.prototype.toString.call(y)==="[object Array]"){var cn;Ke=Yl(y),ut!=="left"&&(Qn=Ke.map(js));var en,Fa=0;if(ut==="right"){M-=Qn[0],y=[],Cr=Ke.length;for(var Na=0;Na<Cr;Na++)Na===0?(en=Cn(M),cn=Sr(ie)):(en=I(Fa-Qn[Na]),cn=-oa),y.push([Ke[Na],en,cn]),Fa=Qn[Na]}else if(ut==="center"){M-=Qn[0]/2,y=[],Cr=Ke.length;for(var ss=0;ss<Cr;ss++)ss===0?(en=Cn(M),cn=Sr(ie)):(en=I((Fa-Qn[ss])/2),cn=-oa),y.push([Ke[ss],en,cn]),Fa=Qn[ss]}else if(ut==="left"){y=[],Cr=Ke.length;for(var qi=0;qi<Cr;qi++)y.push(Ke[qi])}else if(ut==="justify"&&Wl.encoding==="Identity-H"){y=[],Cr=Ke.length,Ht=Ht!==0?Ht:as;for(var Xi=0,ZA=0;ZA<Cr;ZA++)if(cn=ZA===0?Sr(ie):-oa,en=ZA===0?Cn(M):Xi,ZA<Cr-1){var Mo=I((Ht-Qn[ZA])/(Ke[ZA].split(" ").length-1)),Sa=Ke[ZA].split(" ");y.push([Sa[0]+" ",en,cn]),Xi=0;for(var Ea=1;Ea<Sa.length;Ea++){var kr=(js(Sa[Ea-1]+" "+Sa[Ea])-js(Sa[Ea]))*ia+Mo;Ea==Sa.length-1?y.push([Sa[Ea],kr,0]):y.push([Sa[Ea]+" ",kr,0]),Xi-=kr}}else y.push([Ke[ZA],en,cn]);y.push(["",Xi,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Cr=Ke.length,Ht=Ht!==0?Ht:as,ZA=0;ZA<Cr;ZA++){cn=ZA===0?Sr(ie):-oa,en=ZA===0?Cn(M):0;var is=Ke[ZA].split(" ").length-1,Yi=is>0?(Ht-Qn[ZA])/is:0;ZA<Cr-1?ca.push(J(I(Yi))):ca.push(0),y.push([Ke[ZA],en,cn])}}}(typeof fe.R2L=="boolean"?fe.R2L:rt)===!0&&(y=zi(y,function(iA,tA,CA){return[iA.split("").reverse().join(""),tA,CA]})),Ie={text:y,x:M,y:ie,options:fe,mutex:{pdfEscape:yn,activeFontKey:ct,fonts:vt,activeFontSize:ke}},$t.publish("postProcessText",Ie),y=Ie.text,ar=Ie.mutex.isHex||!1;var Ji=vt[ct].encoding;Ji!=="WinAnsiEncoding"&&Ji!=="StandardEncoding"||(y=zi(y,function(iA,tA,CA){return[As(iA),tA,CA]})),Ke=Yl(y),y=[];for(var ls,os,ka,ci=Array.isArray(Ke[0])?1:0,Fn="",cs=function(iA,tA,CA){var $A="";return CA instanceof pt?(CA=typeof fe.angle=="number"?Va(CA,new pt(1,0,0,1,iA,tA)):Va(new pt(1,0,0,1,iA,tA),CA),k===_&&(CA=Va(new pt(1,0,0,-1,0,0),CA)),$A=CA.join(" ")+` Tm
`):$A=J(iA)+" "+J(tA)+` Td
`,$A},Pr=0;Pr<Ke.length;Pr++){switch(Fn="",ci){case 1:ka=(ar?"<":"(")+Ke[Pr][0]+(ar?">":")"),ls=parseFloat(Ke[Pr][1]),os=parseFloat(Ke[Pr][2]);break;case 0:ka=(ar?"<":"(")+Ke[Pr]+(ar?">":")"),ls=Cn(M),os=Sr(ie)}ca!==void 0&&ca[Pr]!==void 0&&(Fn=ca[Pr]+` Tw
`),Pr===0?y.push(Fn+cs(ls,os,WA)+ka):ci===0?y.push(Fn+ka):ci===1&&y.push(Fn+cs(ls,os,WA)+ka)}y=ci===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var _n=`BT
/`;return _n+=ct+" "+ke+` Tf
`,_n+=J(ke*ts)+` TL
`,_n+=Ba+`
`,_n+=Er,_n+=y,re(_n+="ET"),C[ct]=!0,BA};var Rl=b.__private__.clip=b.clip=function(y){return re(y==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Rl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return re("n"),this};var Zr=b.__private__.isValidStyle=function(y){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(M=!0),M};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(y){return Zr(y)&&(g=y),this};var Pl=b.__private__.getStyle=b.getStyle=function(y){var M=g;switch(y){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=y}return M},Kl=b.close=function(){return re("h"),this};b.stroke=function(){return re("S"),this},b.fill=function(y){return aa("f",y),this},b.fillEvenOdd=function(y){return aa("f*",y),this},b.fillStroke=function(y){return aa("B",y),this},b.fillStrokeEvenOdd=function(y){return aa("B*",y),this};var aa=function(y,M){vA(M)==="object"?Lo(M,y):re(y)},ri=function(y){y===null||k===_&&y===void 0||(y=Pl(y),re(y))};function ko(y,M,ie,fe,xe){var Ie=new _c(M||this.boundingBox,ie||this.xStep,fe||this.yStep,this.gState,xe||this.matrix);Ie.stream=this.stream;var Ke=y+"$$"+this.cloneIndex+++"$$";return bn(Ke,Ie),Ie}var Lo=function(y,M){var ie=yA[y.key],fe=wt[ie];if(fe instanceof po)re("q"),re(zl(M)),fe.gState&&b.setGState(fe.gState),re(y.matrix.toString()+" cm"),re("/"+ie+" sh"),re("Q");else if(fe instanceof _c){var xe=new pt(1,0,0,-1,0,es());y.matrix&&(xe=xe.multiply(y.matrix||xa),ie=ko.call(fe,y.key,y.boundingBox,y.xStep,y.yStep,xe).id),re("q"),re("/Pattern cs"),re("/"+ie+" scn"),fe.gState&&b.setGState(fe.gState),re(M),re("Q")}},zl=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vl=b.moveTo=function(y,M){return re(J(I(y))+" "+J(K(M))+" m"),this},jo=b.lineTo=function(y,M){return re(J(I(y))+" "+J(K(M))+" l"),this},on=b.curveTo=function(y,M,ie,fe,xe,Ie){return re([J(I(y)),J(K(M)),J(I(ie)),J(K(fe)),J(I(xe)),J(K(Ie)),"c"].join(" ")),this};b.__private__.line=b.line=function(y,M,ie,fe,xe){if(isNaN(y)||isNaN(M)||isNaN(ie)||isNaN(fe)||!Zr(xe))throw new Error("Invalid arguments passed to jsPDF.line");return k===H?this.lines([[ie-y,fe-M]],y,M,[1,1],xe||"S"):this.lines([[ie-y,fe-M]],y,M,[1,1]).stroke()},b.__private__.lines=b.lines=function(y,M,ie,fe,xe,Ie){var Ke,at,ut,Nt,Ht,eA,IA,WA,BA,hr,ar,Er;if(typeof y=="number"&&(Er=ie,ie=M,M=y,y=Er),fe=fe||[1,1],Ie=Ie||!1,isNaN(M)||isNaN(ie)||!Array.isArray(y)||!Array.isArray(fe)||!Zr(xe)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vl(M,ie),Ke=fe[0],at=fe[1],Nt=y.length,hr=M,ar=ie,ut=0;ut<Nt;ut++)(Ht=y[ut]).length===2?(hr=Ht[0]*Ke+hr,ar=Ht[1]*at+ar,jo(hr,ar)):(eA=Ht[0]*Ke+hr,IA=Ht[1]*at+ar,WA=Ht[2]*Ke+hr,BA=Ht[3]*at+ar,hr=Ht[4]*Ke+hr,ar=Ht[5]*at+ar,on(eA,IA,WA,BA,hr,ar));return Ie&&Kl(),ri(xe),this},b.path=function(y){for(var M=0;M<y.length;M++){var ie=y[M],fe=ie.c;switch(ie.op){case"m":Vl(fe[0],fe[1]);break;case"l":jo(fe[0],fe[1]);break;case"c":on.apply(this,fe);break;case"h":Kl()}}return this},b.__private__.rect=b.rect=function(y,M,ie,fe,xe){if(isNaN(y)||isNaN(M)||isNaN(ie)||isNaN(fe)||!Zr(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===H&&(fe=-fe),re([J(I(y)),J(K(M)),J(I(ie)),J(I(fe)),"re"].join(" ")),ri(xe),this},b.__private__.triangle=b.triangle=function(y,M,ie,fe,xe,Ie,Ke){if(isNaN(y)||isNaN(M)||isNaN(ie)||isNaN(fe)||isNaN(xe)||isNaN(Ie)||!Zr(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-y,fe-M],[xe-ie,Ie-fe],[y-xe,M-Ie]],y,M,[1,1],Ke,!0),this},b.__private__.roundedRect=b.roundedRect=function(y,M,ie,fe,xe,Ie,Ke){if(isNaN(y)||isNaN(M)||isNaN(ie)||isNaN(fe)||isNaN(xe)||isNaN(Ie)||!Zr(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*ie),Ie=Math.min(Ie,.5*fe),this.lines([[ie-2*xe,0],[xe*at,0,xe,Ie-Ie*at,xe,Ie],[0,fe-2*Ie],[0,Ie*at,-xe*at,Ie,-xe,Ie],[2*xe-ie,0],[-xe*at,0,-xe,-Ie*at,-xe,-Ie],[0,2*Ie-fe],[0,-Ie*at,xe*at,-Ie,xe,-Ie]],y+xe,M,[1,1],Ke,!0),this},b.__private__.ellipse=b.ellipse=function(y,M,ie,fe,xe){if(isNaN(y)||isNaN(M)||isNaN(ie)||isNaN(fe)||!Zr(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*ie,Ke=4/3*(Math.SQRT2-1)*fe;return Vl(y+ie,M),on(y+ie,M-Ke,y+Ie,M-fe,y,M-fe),on(y-Ie,M-fe,y-ie,M-Ke,y-ie,M),on(y-ie,M+Ke,y-Ie,M+fe,y,M+fe),on(y+Ie,M+fe,y+ie,M+Ke,y+ie,M),ri(xe),this},b.__private__.circle=b.circle=function(y,M,ie,fe){if(isNaN(y)||isNaN(M)||isNaN(ie)||!Zr(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,M,ie,ie,fe)},b.setFont=function(y,M,ie){return ie&&(M=ne(M,ie)),ct=So(y,M,{disableWarning:!1}),this};var sa=b.__private__.getFont=b.getFont=function(){return vt[So.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var y,M,ie={};for(y in St)if(St.hasOwnProperty(y))for(M in ie[y]=[],St[y])St[y].hasOwnProperty(M)&&ie[y].push(M);return ie},b.addFont=function(y,M,ie,fe,xe){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(ie=ne(ie,fe)),_l.call(this,y,M,ie,xe=xe||"Identity-H")};var Xa,ni=t.lineWidth||.200025,Es=b.__private__.getLineWidth=b.getLineWidth=function(){return ni},Bt=b.__private__.setLineWidth=b.setLineWidth=function(y){return ni=y,re(J(I(y))+" w"),this};b.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(y,M){if(y=y||[],M=M||0,isNaN(M)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ie){return J(I(ie))}).join(" "),M=J(I(M)),re("["+y+"] "+M+" d"),this};var Ho=b.__private__.getLineHeight=b.getLineHeight=function(){return ke*Xa};b.__private__.getLineHeight=b.getLineHeight=function(){return ke*Xa};var Gl=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Xa=y),this},_o=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Xa};Gl(t.lineHeight);var Cn=b.__private__.getHorizontalCoordinate=function(y){return I(y)},Sr=b.__private__.getVerticalCoordinate=function(y){return k===_?y:gt[q].mediaBox.topRightY-gt[q].mediaBox.bottomLeftY-I(y)},ql=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(y){return J(Cn(y))},ai=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(y){return J(Sr(y))},Un=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return TA(Un)},b.__private__.setStrokeColor=b.setDrawColor=function(y,M,ie,fe){return Un=Rr({ch1:y,ch2:M,ch3:ie,ch4:fe,pdfColorType:"draw",precision:2}),re(Un),this};var si=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return TA(si)},b.__private__.setFillColor=b.setFillColor=function(y,M,ie,fe){return si=Rr({ch1:y,ch2:M,ch3:ie,ch4:fe,pdfColorType:"fill",precision:2}),re(si),this};var Ba=t.textColor||"0 g",To=b.__private__.getTextColor=b.getTextColor=function(){return TA(Ba)};b.__private__.setTextColor=b.setTextColor=function(y,M,ie,fe){return Ba=Rr({ch1:y,ch2:M,ch3:ie,ch4:fe,pdfColorType:"text",precision:3}),this};var jn=t.charSpace,Ri=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(jn||0)};b.__private__.setCharSpace=b.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jn=y,this};var Pi=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(y){var M=b.CapJoinStyles[y];if(M===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pi=M,re(M+" J"),this};var Br=0;b.__private__.setLineJoin=b.setLineJoin=function(y){var M=b.CapJoinStyles[y];if(M===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Br=M,re(M+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(J(I(y))+" M"),this},b.GState=eh,b.setGState=function(y){(y=typeof y=="string"?Ut[Et[y]]:Ca(null,y)).equals(gA)||(re("/"+y.id+" gs"),gA=y)};var Ca=function(y,M){if(!y||!Et[y]){var ie=!1;for(var fe in Ut)if(Ut.hasOwnProperty(fe)&&Ut[fe].equals(M)){ie=!0;break}if(ie)M=Ut[fe];else{var xe="GS"+(Object.keys(Ut).length+1).toString(10);Ut[xe]=M,M.id=xe}return y&&(Et[y]=M.id),$t.publish("addGState",M),M}};b.addGState=function(y,M){return Ca(y,M),this},b.saveGraphicsState=function(){return re("q"),Vt.push({key:ct,size:ke,color:Ba}),this},b.restoreGraphicsState=function(){re("Q");var y=Vt.pop();return ct=y.key,ke=y.size,Ba=y.color,gA=null,this},b.setCurrentTransformationMatrix=function(y){return re(y.toString()+" cm"),this},b.comment=function(y){return re("#"+y),this};var Hn=function(y,M){var ie=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Ie){isNaN(Ie)||(ie=parseFloat(Ie))}});var fe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Ie){isNaN(Ie)||(fe=parseFloat(Ie))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Ie){xe=Ie.toString()}}),this},Ya=function(y,M,ie,fe){Hn.call(this,y,M),this.type="rect";var xe=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Ke){isNaN(Ke)||(xe=parseFloat(Ke))}});var Ie=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Ke){isNaN(Ke)||(Ie=parseFloat(Ke))}}),this},Ki=function(){this.page=It,this.currentPage=q,this.pages=Te.slice(0),this.pagesContext=gt.slice(0),this.x=ht,this.y=YA,this.matrix=zt,this.width=Wa(q),this.height=Xl(q),this.outputDestination=ze,this.id="",this.objectNumber=-1};Ki.prototype.restore=function(){It=this.page,q=this.currentPage,gt=this.pagesContext,Te=this.pages,ht=this.x,YA=this.y,zt=this.matrix,li(q,this.width),Za(q,this.height),ze=this.outputDestination};var ii=function(y,M,ie,fe,xe){kn.push(new Ki),It=q=0,Te=[],ht=y,YA=M,zt=xe,ra([ie,fe])};for(var Ja in b.beginFormObject=function(y,M,ie,fe,xe){return ii(y,M,ie,fe,xe),this},b.endFormObject=function(y){return(function(M){if(ba[M])kn.pop().restore();else{var ie=new Ki,fe="Xo"+(Object.keys(Or).length+1).toString(10);ie.id=fe,ba[M]=fe,Or[fe]=ie,$t.publish("addFormObject",ie),kn.pop().restore()}})(y),this},b.doFormObject=function(y,M){var ie=Or[ba[y]];return re("q"),re(M.toString()+" cm"),re("/"+ie.id+" Do"),re("Q"),this},b.getFormObject=function(y){var M=Or[ba[y]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},b.save=function(y,M){return y=y||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(go(Ss(ya()),y),typeof go.unload=="function"&&Lt.setTimeout&&setTimeout(go.unload,911),this):new Promise(function(ie,fe){try{var xe=go(Ss(ya()),y);typeof go.unload=="function"&&Lt.setTimeout&&setTimeout(go.unload,911),ie(xe)}catch(Ie){fe(Ie.message)}})},ft.API)ft.API.hasOwnProperty(Ja)&&(Ja==="events"&&ft.API.events.length?(function(y,M){var ie,fe,xe;for(xe=M.length-1;xe!==-1;xe--)ie=M[xe][0],fe=M[xe][1],y.subscribe.apply(y,[ie].concat(typeof fe=="function"?[fe]:fe))})($t,ft.API.events):b[Ja]=ft.API[Ja]);function Wa(y){return gt[y].mediaBox.topRightX-gt[y].mediaBox.bottomLeftX}function li(y,M){gt[y].mediaBox.topRightX=M+gt[y].mediaBox.bottomLeftX}function Xl(y){return gt[y].mediaBox.topRightY-gt[y].mediaBox.bottomLeftY}function Za(y,M){gt[y].mediaBox.topRightY=M+gt[y].mediaBox.bottomLeftY}var $a=b.getPageWidth=function(y){return Wa(y=y||q)/jt},Io=b.setPageWidth=function(y,M){li(y,M*jt)},es=b.getPageHeight=function(y){return Xl(y=y||q)/jt},Do=b.setPageHeight=function(y,M){Za(y,M*jt)};return b.internal={pdfEscape:yn,getStyle:Pl,getFont:sa,getFontSize:Ye,getCharSpace:Ri,getTextColor:To,getLineHeight:Ho,getLineHeightFactor:_o,getLineWidth:Es,write:Ge,getHorizontalCoordinate:Cn,getVerticalCoordinate:Sr,getCoordinateString:ql,getVerticalCoordinateString:ai,collections:{},newObject:HA,newAdditionalObject:Fs,newObjectDeferred:rr,newObjectDeferredBegin:yr,getFilters:vn,putStream:Ln,events:$t,scaleFactor:jt,pageSize:{getWidth:function(){return $a(q)},setWidth:function(y){Io(q,y)},getHeight:function(){return es(q)},setHeight:function(y){Do(q,y)}},encryptionOptions:w,encryption:fr,getEncryptor:function(y){return w!==null?fr.encryptor(y,0):function(M){return M}},output:Ol,getNumberOfPages:Dl,get pages(){return Te},out:re,f2:Q,f3:j,getPageInfo:nr,getPageInfoByObjId:Oi,getCurrentPageInfo:Eo,getPDFVersion:F,Point:Hn,Rectangle:Ya,Matrix:pt,hasHotfix:Wr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return $a(q)},set:function(y){Io(q,y)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return es(q)},set:function(y){Do(q,y)},enumerable:!0,configurable:!0}),(function(y){for(var M=0,ie=Xe.length;M<ie;M++){var fe=_l.call(this,y[M][0],y[M][1],y[M][2],Xe[M][3],!0);v===!1&&(C[fe]=!0);var xe=y[M][0].split("-");JA({id:fe,fontName:xe[0],fontStyle:xe[1]||""})}$t.publish("addFonts",{fonts:vt,dictionary:St})}).call(b,Xe),ct="F1",Ga(i,r),$t.publish("initialized"),b}kc.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},kc.prototype.toHexString=function(t){return t.split("").map(function(A){return("0"+(255&A.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kc.prototype.hexToBytes=function(t){for(var A=[],r=0;r<t.length;r+=2)A.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return A.join("")},kc.prototype.processOwnerPassword=function(t,A){return zg(Kg(A).substr(0,5),t)},kc.prototype.encryptor=function(t,A){var r=Kg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&A,A>>8&255)).substr(0,10);return function(a){return zg(r,a)}},eh.prototype.equals=function(t){var A,r="id,objectNumber,equals";if(!t||vA(t)!==vA(this))return!1;var a=0;for(A in this)if(!(r.indexOf(A)>=0)){if(this.hasOwnProperty(A)&&!t.hasOwnProperty(A)||this[A]!==t[A])return!1;a++}for(A in t)t.hasOwnProperty(A)&&r.indexOf(A)<0&&a--;return a===0},ft.API={events:[]},ft.version="3.0.4";var dr=ft.API,Sp=1,No=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Tt=function(t){return t.toFixed(2)},yl=function(t){return t.toFixed(5)};dr.__acroform__={};var Wn=function(t,A){t.prototype=Object.create(A.prototype),t.prototype.constructor=t},aw=function(t){return t*Sp},Ys=function(t){var A=new Bx,r=lt.internal.getHeight(t)||0,a=lt.internal.getWidth(t)||0;return A.BBox=[0,0,Number(Tt(a)),Number(Tt(r))],A},QC=dr.__acroform__.setBit=function(t,A){if(t=t||0,A=A||0,isNaN(t)||isNaN(A))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<A},FC=dr.__acroform__.clearBit=function(t,A){if(t=t||0,A=A||0,isNaN(t)||isNaN(A))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<A)},NC=dr.__acroform__.getBit=function(t,A){if(isNaN(t)||isNaN(A))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<A?1:0},br=dr.__acroform__.getBitForPdf=function(t,A){if(isNaN(t)||isNaN(A))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return NC(t,A-1)},xr=dr.__acroform__.setBitForPdf=function(t,A){if(isNaN(t)||isNaN(A))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QC(t,A-1)},vr=dr.__acroform__.clearBitForPdf=function(t,A){if(isNaN(t)||isNaN(A))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FC(t,A-1)},SC=dr.__acroform__.calculateCoordinates=function(t,A){var r=A.internal.getHorizontalCoordinate,a=A.internal.getVerticalCoordinate,i=t[0],l=t[1],d=t[2],u=t[3],f={};return f.lowerLeft_X=r(i)||0,f.lowerLeft_Y=a(l+u)||0,f.upperRight_X=r(i+d)||0,f.upperRight_Y=a(l)||0,[Number(Tt(f.lowerLeft_X)),Number(Tt(f.lowerLeft_Y)),Number(Tt(f.upperRight_X)),Number(Tt(f.upperRight_Y))]},EC=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var A=[],r=t._V||t.DV,a=Vg(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;A.push("/Tx BMC"),A.push("q"),A.push("BT"),A.push(t.scope.__private__.encodeColorString(t.color)),A.push("/"+i+" "+Tt(a.fontSize)+" Tf"),A.push("1 0 0 1 0 0 Tm"),A.push(a.text),A.push("ET"),A.push("Q"),A.push("EMC");var l=Ys(t);return l.scope=t.scope,l.stream=A.join(`
`),l}},Vg=function(t,A){var r=t.fontSize===0?t.maxFontSize:t.fontSize,a={text:"",fontSize:""},i=(A=(A=A.substr(0,1)=="("?A.substr(1):A).substr(A.length-1)==")"?A.substr(0,A.length-1):A).split(" ");i=t.multiline?i.map(function(Q){return Q.split(`
`)}):i.map(function(Q){return[Q]});var l=r,d=lt.internal.getHeight(t)||0;d=d<0?-d:d;var u=lt.internal.getWidth(t)||0;u=u<0?-u:u;var f=function(Q,j,I){if(Q+1<i.length){var K=j+" "+i[Q+1][0];return lf(K,t,I).width<=u-4}return!1};l++;e:for(;l>0;){A="",l--;var g,w,v=lf("3",t,l).height,C=t.multiline?d-l:(d-v)/2,b=C+=2,U=0,F=0,L=0;if(l<=0){A=`(...) Tj
`,A+="% Width of Text: "+lf(A,t,l=12).width+", FieldWidth:"+u+`
`;break}for(var N="",H=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var k=!1;if(i[_].length!==1&&L!==i[_].length-1){if((v+2)*(H+2)+2>d)continue e;N+=i[_][L],k=!0,F=_,_--}else{N=(N+=i[_][L]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var V=parseInt(_),Ae=f(V,N,l),ne=_>=i.length-1;if(Ae&&!ne){N+=" ",L=0;continue}if(Ae||ne){if(ne)F=V;else if(t.multiline&&(v+2)*(H+2)+2>d)continue e}else{if(!t.multiline||(v+2)*(H+2)+2>d)continue e;F=V}}for(var J="",D=U;D<=F;D++){var ee=i[D];if(t.multiline){if(D===F){J+=ee[L]+" ",L=(L+1)%ee.length;continue}if(D===U){J+=ee[ee.length-1]+" ";continue}}J+=ee[0]+" "}switch(J=J.substr(J.length-1)==" "?J.substr(0,J.length-1):J,w=lf(J,t,l).width,t.textAlign){case"right":g=u-w-2;break;case"center":g=(u-w)/2;break;default:g=2}A+=Tt(g)+" "+Tt(b)+` Td
`,A+="("+No(J)+`) Tj
`,A+=-Tt(g)+` 0 Td
`,b=-(l+2),w=0,U=k?F:F+1,H++,N=""}break}return a.text=A,a.fontSize=l,a},lf=function(t,A,r){var a=A.scope.internal.getFont(A.fontName,A.fontStyle),i=A.scope.getStringUnitWidth(t,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:A.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},kC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LC=function(t,A){var r={type:"reference",object:t};A.internal.getPageInfo(t.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&A.internal.getPageInfo(t.page).pageContext.annotations.push(r)},jC=function(t,A){if(A.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Cs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(kC)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Sp=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Cx,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];l.objId=void 0,l.hasAnnotation&&LC(l,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(a,i){var l=!a;for(var d in a||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(d)){var u=a[d],f=[],g=u.Rect;if(u.Rect&&(u.Rect=SC(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=lt.createDefaultAppearanceStream(u),vA(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=g,u.hasAppearanceStream&&!u.appearanceStreamContent){var w=EC(u);f.push({key:"AP",value:"<</N "+w+">>"}),i.internal.acroformPlugin.xForms.push(w)}if(u.appearanceStreamContent){var v="";for(var C in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(C)){var b=u.appearanceStreamContent[C];if(v+="/"+C+" ",v+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var d in b)if(b.hasOwnProperty(d)){var U=b[d];typeof U=="function"&&(U=U.call(i,u)),v+="/"+d+" "+U+" ",i.internal.acroformPlugin.xForms.indexOf(U)>=0||i.internal.acroformPlugin.xForms.push(U)}}else typeof(U=b)=="function"&&(U=U.call(i,u)),v+="/"+d+" "+U,i.internal.acroformPlugin.xForms.indexOf(U)>=0||i.internal.acroformPlugin.xForms.push(U);v+=">>"}f.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:f,objectId:u.objId}),i.internal.out("endobj")}l&&(function(F,L){for(var N in F)if(F.hasOwnProperty(N)){var H=N,_=F[N];L.internal.newObjectDeferredBegin(_.objId,!0),vA(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete F[H]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},yx=dr.__acroform__.arrayToPdfArray=function(t,A,r){var a=function(d){return d};if(Array.isArray(t)){for(var i="[",l=0;l<t.length;l++)switch(l!==0&&(i+=" "),vA(t[l])){case"boolean":case"number":case"object":i+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(A!==void 0&&r&&(a=r.internal.getEncryptor(A)),i+="("+No(a(t[l].toString()))+")"):i+=t[l].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ag=function(t,A,r){var a=function(i){return i};return A!==void 0&&r&&(a=r.internal.getEncryptor(A)),(t=t||"").toString(),"("+No(a(t))+")"},Js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Js.prototype.toString=function(){return this.objId+" 0 R"},Js.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Js.prototype.getKeyValueListForStream=function(){var t=[],A=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var r in A)if(Object.getOwnPropertyDescriptor(this,A[r]).configurable===!1){var a=A[r],i=this[a];i&&(Array.isArray(i)?t.push({key:a,value:yx(i,this.objId,this.scope)}):i instanceof Js?(i.scope=this.scope,t.push({key:a,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:a,value:i}))}return t};var Bx=function(){Js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,A=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return A},set:function(r){A=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Wn(Bx,Js);var Cx=function(){Js.call(this);var t,A=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return A.length>0?A:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return A}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+No(r(t))+")"}},set:function(r){t=r}})};Wn(Cx,Js);var Cs=function t(){Js.call(this);var A=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return A},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');A=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!br(A,3)},set:function(N){N?this.F=xr(A,3):this.F=vr(A,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(N){a=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(N){a[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(N){a[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(N){a[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(N){a[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof th)return;l="FieldObject"+t.FieldNum++}var N=function(H){return H};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+No(N(l))+")"},set:function(N){l=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(N){l=N}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(N){u=N}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/Sp:g},set:function(N){g=N}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){w=N}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof th||this instanceof bo))return ag(v,this.objId,this.scope)},set:function(N){N=N.toString(),v=N}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof Yr==0?ag(C,this.objId,this.scope):C},set:function(N){N=N.toString(),C=this instanceof Yr==0?N.substr(0,1)==="("?vc(N.substr(1,N.length-2)):vc(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr==1?vc(C.substr(1,C.length-1)):C},set:function(N){N=N.toString(),C=this instanceof Yr==1?"/"+N:N}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Yr==0?ag(b,this.objId,this.scope):b},set:function(N){N=N.toString(),b=this instanceof Yr==0?N.substr(0,1)==="("?vc(N.substr(1,N.length-2)):vc(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr==1?vc(b.substr(1,b.length-1)):b},set:function(N){N=N.toString(),b=this instanceof Yr==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var U,F=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return F},set:function(N){N=!!N,F=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(U)return U},set:function(N){U=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,1)},set:function(N){N?this.Ff=xr(this.Ff,1):this.Ff=vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,2)},set:function(N){N?this.Ff=xr(this.Ff,2):this.Ff=vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,3)},set:function(N){N?this.Ff=xr(this.Ff,3):this.Ff=vr(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');L=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(L){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};Wn(Cs,Js);var Ic=function(){Cs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var A=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yx(A,this.objId,this.scope)},set:function(r){var a,i;i=[],typeof(a=r)=="string"&&(i=(function(l,d,u){u||(u=1);for(var f,g=[];f=d.exec(l);)g.push(f[u]);return g})(a,/\((.*?)\)/g)),A=i}}),this.getOptions=function(){return A},this.setOptions=function(r){A=r,this.sort&&A.sort()},this.addOption=function(r){r=(r=r||"").toString(),A.push(r),this.sort&&A.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();A.indexOf(r)!==-1&&(A.splice(A.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,18)},set:function(r){r?this.Ff=xr(this.Ff,18):this.Ff=vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=xr(this.Ff,19):this.Ff=vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,20)},set:function(r){r?(this.Ff=xr(this.Ff,20),A.sort()):this.Ff=vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,22)},set:function(r){r?this.Ff=xr(this.Ff,22):this.Ff=vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,23)},set:function(r){r?this.Ff=xr(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,27)},set:function(r){r?this.Ff=xr(this.Ff,27):this.Ff=vr(this.Ff,27)}}),this.hasAppearanceStream=!1};Wn(Ic,Cs);var Dc=function(){Ic.call(this),this.fontName="helvetica",this.combo=!1};Wn(Dc,Ic);var Mc=function(){Dc.call(this),this.combo=!0};Wn(Mc,Dc);var Df=function(){Mc.call(this),this.edit=!0};Wn(Df,Mc);var Yr=function(){Cs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,15)},set:function(r){r?this.Ff=xr(this.Ff,15):this.Ff=vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,16)},set:function(r){r?this.Ff=xr(this.Ff,16):this.Ff=vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,17)},set:function(r){r?this.Ff=xr(this.Ff,17):this.Ff=vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,26)},set:function(r){r?this.Ff=xr(this.Ff,26):this.Ff=vr(this.Ff,26)}});var t,A={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(A).length!==0){var a,i=[];for(a in i.push("<<"),A)i.push("/"+a+" ("+No(r(A[a]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){vA(r)==="object"&&(A=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return A.CA||""},set:function(r){typeof r=="string"&&(A.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Wn(Yr,Cs);var Mf=function(){Yr.call(this),this.pushButton=!0};Wn(Mf,Yr);var Oc=function(){Yr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(A){t=A!==void 0?A:[]}})};Wn(Oc,Yr);var th=function(){var t,A;Cs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return A},set:function(i){A=i}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),a)d.push("/"+l+" ("+No(i(a[l]))+")");return d.push(">>"),d.join(`
`)},set:function(i){vA(i)==="object"&&(a=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(i){typeof i=="string"&&(a.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wn(th,Cs),Oc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var A in this.Kids)if(this.Kids.hasOwnProperty(A)){var r=this.Kids[A];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Oc.prototype.createOption=function(t){var A=new th;return A.Parent=this,A.optionName=t,this.Kids.push(A),HC.call(this.scope,A),A};var Of=function(){Yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=lt.CheckBox.createAppearanceStream()};Wn(Of,Yr);var bo=function(){Cs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,13)},set:function(A){A?this.Ff=xr(this.Ff,13):this.Ff=vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,21)},set:function(A){A?this.Ff=xr(this.Ff,21):this.Ff=vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,23)},set:function(A){A?this.Ff=xr(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,24)},set:function(A){A?this.Ff=xr(this.Ff,24):this.Ff=vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,25)},set:function(A){A?this.Ff=xr(this.Ff,25):this.Ff=vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,26)},set:function(A){A?this.Ff=xr(this.Ff,26):this.Ff=vr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(A){t=A}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(A){Number.isInteger(A)&&(t=A)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wn(bo,Cs);var Rf=function(){bo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,14)},set:function(t){t?this.Ff=xr(this.Ff,14):this.Ff=vr(this.Ff,14)}}),this.password=!0};Wn(Rf,bo);var lt={CheckBox:{createAppearanceStream:function(){return{N:{On:lt.CheckBox.YesNormal},D:{On:lt.CheckBox.YesPushDown,Off:lt.CheckBox.OffPushDown}}},YesPushDown:function(t){var A=Ys(t);A.scope=t.scope;var r=[],a=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),l=Vg(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+Tt(l.fontSize)+" Tf "+i),r.push("BT"),r.push(l.text),r.push("ET"),r.push("Q"),r.push("EMC"),A.stream=r.join(`
`),A},YesNormal:function(t){var A=Ys(t);A.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=[],l=lt.internal.getHeight(t),d=lt.internal.getWidth(t),u=Vg(t,t.caption);return i.push("1 g"),i.push("0 0 "+Tt(d)+" "+Tt(l)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Tt(d-1)+" "+Tt(l-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Tt(u.fontSize)+" Tf "+a),i.push(u.text),i.push("ET"),i.push("Q"),A.stream=i.join(`
`),A},OffPushDown:function(t){var A=Ys(t);A.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),r.push("f"),A.stream=r.join(`
`),A}},RadioButton:{Circle:{createAppearanceStream:function(t){var A={D:{Off:lt.RadioButton.Circle.OffPushDown},N:{}};return A.N[t]=lt.RadioButton.Circle.YesNormal,A.D[t]=lt.RadioButton.Circle.YesPushDown,A},getCA:function(){return"l"},YesNormal:function(t){var A=Ys(t);A.scope=t.scope;var r=[],a=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=lt.internal.Bezier_C,l=Number((a*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+yl(lt.internal.getWidth(t)/2)+" "+yl(lt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),r.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),r.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),r.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),r.push("f"),r.push("Q"),A.stream=r.join(`
`),A},YesPushDown:function(t){var A=Ys(t);A.scope=t.scope;var r=[],a=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),l=Number((i*lt.internal.Bezier_C).toFixed(5)),d=Number((a*lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yl(lt.internal.getWidth(t)/2)+" "+yl(lt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+yl(lt.internal.getWidth(t)/2)+" "+yl(lt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+d+" "+d+" "+a+" 0 "+a+" c"),r.push("-"+d+" "+a+" -"+a+" "+d+" -"+a+" 0 c"),r.push("-"+a+" -"+d+" -"+d+" -"+a+" 0 -"+a+" c"),r.push(d+" -"+a+" "+a+" -"+d+" "+a+" 0 c"),r.push("f"),r.push("Q"),A.stream=r.join(`
`),A},OffPushDown:function(t){var A=Ys(t);A.scope=t.scope;var r=[],a=lt.internal.getWidth(t)<=lt.internal.getHeight(t)?lt.internal.getWidth(t)/4:lt.internal.getHeight(t)/4;a=Number((.9*a).toFixed(5));var i=Number((2*a).toFixed(5)),l=Number((i*lt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yl(lt.internal.getWidth(t)/2)+" "+yl(lt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+l+" "+l+" "+i+" 0 "+i+" c"),r.push("-"+l+" "+i+" -"+i+" "+l+" -"+i+" 0 c"),r.push("-"+i+" -"+l+" -"+l+" -"+i+" 0 -"+i+" c"),r.push(l+" -"+i+" "+i+" -"+l+" "+i+" 0 c"),r.push("f"),r.push("Q"),A.stream=r.join(`
`),A}},Cross:{createAppearanceStream:function(t){var A={D:{Off:lt.RadioButton.Cross.OffPushDown},N:{}};return A.N[t]=lt.RadioButton.Cross.YesNormal,A.D[t]=lt.RadioButton.Cross.YesPushDown,A},getCA:function(){return"8"},YesNormal:function(t){var A=Ys(t);A.scope=t.scope;var r=[],a=lt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Tt(lt.internal.getWidth(t)-2)+" "+Tt(lt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Tt(a.x1.x)+" "+Tt(a.x1.y)+" m"),r.push(Tt(a.x2.x)+" "+Tt(a.x2.y)+" l"),r.push(Tt(a.x4.x)+" "+Tt(a.x4.y)+" m"),r.push(Tt(a.x3.x)+" "+Tt(a.x3.y)+" l"),r.push("s"),r.push("Q"),A.stream=r.join(`
`),A},YesPushDown:function(t){var A=Ys(t);A.scope=t.scope;var r=lt.internal.calculateCross(t),a=[];return a.push("0.749023 g"),a.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+Tt(lt.internal.getWidth(t)-2)+" "+Tt(lt.internal.getHeight(t)-2)+" re"),a.push("W"),a.push("n"),a.push(Tt(r.x1.x)+" "+Tt(r.x1.y)+" m"),a.push(Tt(r.x2.x)+" "+Tt(r.x2.y)+" l"),a.push(Tt(r.x4.x)+" "+Tt(r.x4.y)+" m"),a.push(Tt(r.x3.x)+" "+Tt(r.x3.y)+" l"),a.push("s"),a.push("Q"),A.stream=a.join(`
`),A},OffPushDown:function(t){var A=Ys(t);A.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Tt(lt.internal.getWidth(t))+" "+Tt(lt.internal.getHeight(t))+" re"),r.push("f"),A.stream=r.join(`
`),A}}},createDefaultAppearanceStream:function(t){var A=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+A+" "+t.fontSize+" Tf "+r}};lt.internal={Bezier_C:.551915024494,calculateCross:function(t){var A=lt.internal.getWidth(t),r=lt.internal.getHeight(t),a=Math.min(A,r);return{x1:{x:(A-a)/2,y:(r-a)/2+a},x2:{x:(A-a)/2+a,y:(r-a)/2},x3:{x:(A-a)/2,y:(r-a)/2},x4:{x:(A-a)/2+a,y:(r-a)/2+a}}}},lt.internal.getWidth=function(t){var A=0;return vA(t)==="object"&&(A=aw(t.Rect[2])),A},lt.internal.getHeight=function(t){var A=0;return vA(t)==="object"&&(A=aw(t.Rect[3])),A};var HC=dr.addField=function(t){if(jC(this,t),!(t instanceof Cs))throw new Error("Invalid argument passed to jsPDF.addField.");var A;return(A=t).scope.internal.acroformPlugin.printedOut&&(A.scope.internal.acroformPlugin.printedOut=!1,A.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),A.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(A),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};dr.AcroFormChoiceField=Ic,dr.AcroFormListBox=Dc,dr.AcroFormComboBox=Mc,dr.AcroFormEditBox=Df,dr.AcroFormButton=Yr,dr.AcroFormPushButton=Mf,dr.AcroFormRadioButton=Oc,dr.AcroFormCheckBox=Of,dr.AcroFormTextField=bo,dr.AcroFormPasswordField=Rf,dr.AcroFormAppearance=lt,dr.AcroForm={ChoiceField:Ic,ListBox:Dc,ComboBox:Mc,EditBox:Df,Button:Yr,PushButton:Mf,RadioButton:Oc,CheckBox:Of,TextField:bo,PasswordField:Rf,Appearance:lt},ft.AcroForm={ChoiceField:Ic,ListBox:Dc,ComboBox:Mc,EditBox:Df,Button:Yr,PushButton:Mf,RadioButton:Oc,CheckBox:Of,TextField:bo,PasswordField:Rf,Appearance:lt};ft.AcroForm;function Ux(t){return t.reduce(function(A,r,a){return A[r]=a,A},{})}(function(t){var A="addImage_";t.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(Q,j){var I,K,ce,R,Y,Z=r;if((j=j||r)==="RGBA"||Q.data!==void 0&&Q.data instanceof Uint8ClampedArray&&"height"in Q&&"width"in Q)return"RGBA";if(Ae(Q))for(Y in a)for(ce=a[Y],I=0;I<ce.length;I+=1){for(R=!0,K=0;K<ce[I].length;K+=1)if(ce[I][K]!==void 0&&ce[I][K]!==Q[K]){R=!1;break}if(R===!0){Z=Y;break}}else for(Y in a)for(ce=a[Y],I=0;I<ce.length;I+=1){for(R=!0,K=0;K<ce[I].length;K+=1)if(ce[I][K]!==void 0&&ce[I][K]!==Q.charCodeAt(K)){R=!1;break}if(R===!0){Z=Y;break}}return Z===r&&j!==r&&(Z=j),Z},l=function Q(j){for(var I=this.internal.write,K=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:j.width}),R.push({key:"Height",value:j.height}),j.colorSpace===N.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===N.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var Y="",Z=0,ue=j.transparency.length;Z<ue;Z++)Y+=j.transparency[Z]+" "+j.transparency[Z]+" ";R.push({key:"Mask",value:"["+Y+"]"})}j.sMask!==void 0&&R.push({key:"SMask",value:j.objectId+1+" 0 R"});var ge=j.filter!==void 0?["/"+j.filter]:void 0;if(K({data:j.data,additionalKeyValues:R,alreadyAppliedFilters:ge,objectId:j.objectId}),I("endobj"),"sMask"in j&&j.sMask!==void 0){var be,T=(be=j.sMaskBitsPerComponent)!==null&&be!==void 0?be:j.bitsPerComponent,q={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:j.sMask};"filter"in j&&(q.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(j.width),q.filter=j.filter),Q.call(this,q)}if(j.colorSpace===N.INDEXED){var $=this.internal.newObject();K({data:J(new Uint8Array(j.palette)),objectId:$}),I("endobj")}},d=function(){var Q=this.internal.collections[A+"images"];for(var j in Q)l.call(this,Q[j])},u=function(){var Q,j=this.internal.collections[A+"images"],I=this.internal.write;for(var K in j)I("/I"+(Q=j[K]).index,Q.objectId,"0","R")},f=function(){this.internal.collections[A+"images"]||(this.internal.collections[A+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",u))},g=function(){var Q=this.internal.collections[A+"images"];return f.call(this),Q},w=function(){return Object.keys(this.internal.collections[A+"images"]).length},v=function(Q){return typeof t["process"+Q.toUpperCase()]=="function"},C=function(Q){return vA(Q)==="object"&&Q.nodeType===1},b=function(Q,j){if(Q.nodeName==="IMG"&&Q.hasAttribute("src")){var I=""+Q.getAttribute("src");if(I.indexOf("data:image/")===0)return If(unescape(I).split("base64,").pop());var K=t.loadFile(I,!0);if(K!==void 0)return K}if(Q.nodeName==="CANVAS"){if(Q.width===0||Q.height===0)throw new Error("Given canvas must have data. Canvas width: "+Q.width+", height: "+Q.height);var ce;switch(j){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return If(Q.toDataURL(ce,1).split("base64,").pop())}},U=function(Q){var j=this.internal.collections[A+"images"];if(j){for(var I in j)if(Q===j[I].alias)return j[I]}},F=function(Q,j,I){return Q||j||(Q=-96,j=-96),Q<0&&(Q=-1*I.width*72/Q/this.internal.scaleFactor),j<0&&(j=-1*I.height*72/j/this.internal.scaleFactor),Q===0&&(Q=j*I.width/I.height),j===0&&(j=Q*I.height/I.width),[Q,j]},L=function(Q,j,I,K,ce,R){var Y=F.call(this,I,K,ce),Z=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ge=g.call(this);if(I=Y[0],K=Y[1],ge[ce.index]=ce,R){R*=Math.PI/180;var be=Math.cos(R),T=Math.sin(R),q=function(le){return le.toFixed(4)},$=[q(be),q(T),q(-1*T),q(be),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,Z(Q),ue(j+K),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([Z(I),"0","0",Z(K),"0","0","cm"].join(" "))):this.internal.write([Z(I),"0","0",Z(K),Z(Q),ue(j+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var H=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(Q){var j,I,K=0;if(typeof Q=="string")for(I=Q.length,j=0;j<I;j++)K=(K<<5)-K+Q.charCodeAt(j),K|=0;else if(Ae(Q))for(I=Q.byteLength/2,j=0;j<I;j++)K=(K<<5)-K+Q[j],K|=0;return K},k=t.__addimage__.validateStringAsBase64=function(Q){(Q=Q||"").toString().trim();var j=!0;return Q.length===0&&(j=!1),Q.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(Q.substr(0,Q.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Q.substr(-2))===!1&&(j=!1),j},V=t.__addimage__.extractImageFromDataUrl=function(Q){if(Q==null||!(Q=Q.trim()).startsWith("data:"))return null;var j=Q.indexOf(",");return j<0?null:Q.substring(0,j).trim().endsWith("base64")?Q.substring(j+1):null};t.__addimage__.isArrayBuffer=function(Q){return Q instanceof ArrayBuffer};var Ae=t.__addimage__.isArrayBufferView=function(Q){return Q instanceof Int8Array||Q instanceof Uint8Array||Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array},ne=t.__addimage__.binaryStringToUint8Array=function(Q){for(var j=Q.length,I=new Uint8Array(j),K=0;K<j;K++)I[K]=Q.charCodeAt(K);return I},J=t.__addimage__.arrayBufferToBinaryString=function(Q){for(var j="",I=Ae(Q)?Q:new Uint8Array(Q),K=0;K<I.length;K+=8192)j+=String.fromCharCode.apply(null,I.subarray(K,K+8192));return j};t.addImage=function(){var Q,j,I,K,ce,R,Y,Z,ue;if(typeof arguments[1]=="number"?(j=r,I=arguments[1],K=arguments[2],ce=arguments[3],R=arguments[4],Y=arguments[5],Z=arguments[6],ue=arguments[7]):(j=arguments[1],I=arguments[2],K=arguments[3],ce=arguments[4],R=arguments[5],Y=arguments[6],Z=arguments[7],ue=arguments[8]),vA(Q=arguments[0])==="object"&&!C(Q)&&"imageData"in Q){var ge=Q;Q=ge.imageData,j=ge.format||j||r,I=ge.x||I||0,K=ge.y||K||0,ce=ge.w||ge.width||ce,R=ge.h||ge.height||R,Y=ge.alias||Y,Z=ge.compression||Z,ue=ge.rotation||ge.angle||ue}var be=this.internal.getFilters();if(Z===void 0&&be.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(I)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var T=D.call(this,Q,j,Y,Z);return L.call(this,I,K,ce,R,T,ue),this};var D=function(Q,j,I,K){var ce,R,Y;if(typeof Q=="string"&&i(Q)===r){Q=unescape(Q);var Z=ee(Q,!1);(Z!==""||(Z=t.loadFile(Q,!0))!==void 0)&&(Q=Z)}if(C(Q)&&(Q=b(Q,j)),j=i(Q,j),!v(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Y=I)==null||Y.length===0)&&(I=(function(ue){return typeof ue=="string"||Ae(ue)?_(ue):Ae(ue.data)?_(ue.data):null})(Q)),(ce=U.call(this,I))||(Q instanceof Uint8Array||j==="RGBA"||(R=Q,Q=ne(Q)),ce=this["process"+j.toUpperCase()](Q,w.call(this),I,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:H.NONE})(K),R)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ee=t.__addimage__.convertBase64ToBinaryString=function(Q,j){j=typeof j!="boolean"||j;var I,K="";if(typeof Q=="string"){var ce;I=(ce=V(Q))!==null&&ce!==void 0?ce:Q;try{K=If(I)}catch(R){if(j)throw k(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(Q){var j,I,K="";if(C(Q)&&(Q=b(Q)),typeof Q=="string"&&i(Q)===r&&((K=ee(Q,!1))===""&&(K=t.loadFile(Q)||""),Q=K),I=i(Q),!v(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(Q instanceof Uint8Array||(Q=ne(Q)),!(j=this["process"+I.toUpperCase()](Q)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=I,j}})(ft.API),(function(t){var A=function(r){if(r!==void 0&&r!="")return!0};ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var a,i,l,d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),g=r.pageContext.annotations,w=!1,v=0;v<g.length&&!w;v++)switch((a=g[v]).type){case"link":(A(a.options.url)||A(a.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var C=0;C<g.length;C++){a=g[C];var b=this.internal.pdfEscape,U=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var F=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(F.objId),H=a.title||"Note";l="<</Type /Annot /Subtype /Text "+(i="/Rect ["+d(a.bounds.x)+" "+u(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y)+"] ")+"/Contents ("+b(N(a.contents))+")",l+=" /Popup "+L.objId+" 0 R",l+=" /P "+f.objId+" 0 R",l+=" /T ("+b(N(H))+") >>",F.content=l;var _=F.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+d(a.bounds.x+30)+" "+u(a.bounds.y+a.bounds.h)+" "+d(a.bounds.x+a.bounds.w+30)+" "+u(a.bounds.y)+"] ")+" /Parent "+_,a.open&&(l+=" /Open true"),l+=" >>",L.content=l,this.internal.write(F.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+d(a.bounds.x)+" "+u(a.bounds.y)+" "+d(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y+a.bounds.h)+"] ";var k=a.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(U(a.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(a.options.name){var V=this.annotations._nameMap[a.options.name];a.options.pageNumber=V.page,a.options.top=V.y}else a.options.top||(a.options.top=0);if(i="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",l="",a.options.url)l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(U(a.options.url))+") >>";else if(a.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,l+=" /FitV "+a.options.left+"]";break;default:var Ae=u(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),l+=" /XYZ "+a.options.left+" "+Ae+" "+a.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},t.link=function(r,a,i,l,d){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(r),y:g(a),w:f(r+i),h:g(a+l)},options:d,type:"link"})},t.textWithLink=function(r,a,i,l){var d,u,f=this.getTextWidth(r),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){u=l.maxWidth;var w=this.splitTextToSize(r,u).length;d=Math.ceil(g*w)}else u=f,d=g;return this.text(r,a,i,l),i+=.2*g,l.align==="center"&&(a-=f/2),l.align==="right"&&(a-=f),this.link(a,i-g,u,d,l),f},t.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}})(ft.API),(function(t){var A={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(F){return A[F.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(F){return typeof F=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(F)},u=t.__arabicParser__.isArabicEndLetter=function(F){return d(F)&&l(F)&&A[F.charCodeAt(0)].length<=2},f=t.__arabicParser__.isArabicAlfLetter=function(F){return d(F)&&i.indexOf(F.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(F){return d(F)&&l(F)&&A[F.charCodeAt(0)].length>=1};var g=t.__arabicParser__.arabicLetterHasFinalForm=function(F){return d(F)&&l(F)&&A[F.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(F){return d(F)&&l(F)&&A[F.charCodeAt(0)].length>=3};var w=t.__arabicParser__.arabicLetterHasMedialForm=function(F){return d(F)&&l(F)&&A[F.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(F){var L=0,N=r,H="",_=0;for(L=0;L<F.length;L+=1)N[F.charCodeAt(L)]!==void 0?(_++,typeof(N=N[F.charCodeAt(L)])=="number"&&(H+=String.fromCharCode(N),N=r,_=0),L===F.length-1&&(N=r,H+=F.charAt(L-(_-1)),L-=_-1,_=0)):(N=r,H+=F.charAt(L-_),L-=_,_=0);return H};t.__arabicParser__.isArabicDiacritic=function(F){return F!==void 0&&a[F.charCodeAt(0)]!==void 0};var C=t.__arabicParser__.getCorrectForm=function(F,L,N){return d(F)?l(F)===!1?-1:!g(F)||!d(L)&&!d(N)||!d(N)&&u(L)||u(F)&&!d(L)||u(F)&&f(L)||u(F)&&u(L)?0:w(F)&&d(L)&&!u(L)&&d(N)&&g(N)?3:u(F)||!d(N)?1:2:-1},b=function(F){var L=0,N=0,H=0,_="",k="",V="",Ae=(F=F||"").split("\\s+"),ne=[];for(L=0;L<Ae.length;L+=1){for(ne.push(""),N=0;N<Ae[L].length;N+=1)_=Ae[L][N],k=Ae[L][N-1],V=Ae[L][N+1],d(_)?(H=C(_,k,V),ne[L]+=H!==-1?String.fromCharCode(A[_.charCodeAt(0)][H]):_):ne[L]+=_;ne[L]=v(ne[L])}return ne.join(" ")},U=t.__arabicParser__.processArabic=t.processArabic=function(){var F,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(L)){var H=0;for(N=[],H=0;H<L.length;H+=1)Array.isArray(L[H])?N.push([b(L[H][0]),L[H][1],L[H][2]]):N.push([b(L[H])]);F=N}else F=b(L);return typeof arguments[0]=="string"?F:(arguments[0].text=F,arguments[0])};t.events.push(["preProcessText",U])})(ft.API),ft.API.autoPrint=function(t){var A;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){A=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+A+" 0 R")})),this},(function(t){var A=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(u){l=u}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(u){d=u}}),Object.defineProperty(this,"parentNode",{})};A.prototype.getContext=function(r,a){var i;if((r=r||"2d")!=="2d")return null;for(i in a)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=a[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},A.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new A,this.canvas.pdf=this}])})(ft.API),(function(t){var A={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},A),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(F){f=F}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(F){g=F}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(F){w=F}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(F){v=F}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(F){C=F}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(F){b=F}});var U=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return U},set:function(F){U=F}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},t.getTextDimensions=function(f,g){a.call(this);var w=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),C=g.scaleFactor||this.internal.scaleFactor,b=0,U=0,F=0,L=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var N=g.maxWidth;N>0?typeof f=="string"?f=this.splitTextToSize(f,N):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(_,k){return _.concat(L.splitTextToSize(k,N))},[])):f=Array.isArray(f)?f:[f];for(var H=0;H<f.length;H++)b<(F=this.getStringUnitWidth(f[H],{font:v})*w)&&(b=F);return b!==0&&(U=f.length),{w:b/=C,h:Math.max((U*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/C,0)}},t.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||A;return this.internal.__cell__.lastCell=new l(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var f;f=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),a.call(this);var g=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,v=this.internal.__cell__.margins||A,C=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===f.lineNumber?(f.x=(g.x||0)+(g.width||0),f.y=g.y||0):g.y+g.height+f.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=v.top,b&&C&&(this.printHeaderRow(f.lineNumber,!0),f.y+=C[0].height)):f.y=g.y+g.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-w,f.y+w,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+w,{align:"center",baseline:"top",maxWidth:f.width-w-w}):this.text(f.text,f.x+w,f.y+w,{align:"left",baseline:"top",maxWidth:f.width-w-w})),this.internal.__cell__.lastCell=f,this};t.table=function(f,g,w,v,C){if(a.call(this),!w)throw new Error("No data for PDF table.");var b,U,F,L,N=[],H=[],_=[],k={},V={},Ae=[],ne=[],J=(C=C||{}).autoSize||!1,D=C.printHeaders!==!1,ee=C.css&&C.css["font-size"]!==void 0?16*C.css["font-size"]:C.fontSize||12,Q=C.margins||Object.assign({width:this.getPageWidth()},A),j=typeof C.padding=="number"?C.padding:3,I=C.headerBackgroundColor||"#c8c8c8",K=C.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=Q,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=K,this.setFontSize(ee),v==null)H=N=Object.keys(w[0]),_=N.map(function(){return"left"});else if(Array.isArray(v)&&vA(v[0])==="object")for(N=v.map(function(ge){return ge.name}),H=v.map(function(ge){return ge.prompt||ge.name||""}),_=v.map(function(ge){return ge.align||"left"}),b=0;b<v.length;b+=1)V[v[b].name]=.7499990551181103*v[b].width;else Array.isArray(v)&&typeof v[0]=="string"&&(H=N=v,_=N.map(function(){return"left"}));if(J||Array.isArray(v)&&typeof v[0]=="string")for(b=0;b<N.length;b+=1){for(k[L=N[b]]=w.map(function(ge){return ge[L]}),this.setFont(void 0,"bold"),Ae.push(this.getTextDimensions(H[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),U=k[L],this.setFont(void 0,"normal"),F=0;F<U.length;F+=1)Ae.push(this.getTextDimensions(U[F],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[L]=Math.max.apply(null,Ae)+j+j,Ae=[]}if(D){var ce={};for(b=0;b<N.length;b+=1)ce[N[b]]={},ce[N[b]].text=H[b],ce[N[b]].align=_[b];var R=u.call(this,ce,V);ne=N.map(function(ge){return new l(f,g,V[ge],R,ce[ge].text,void 0,ce[ge].align)}),this.setTableHeaderRow(ne),this.printHeaderRow(1,!1)}var Y=v.reduce(function(ge,be){return ge[be.name]=be.align,ge},{});for(b=0;b<w.length;b+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:b,data:w[b]},this);var Z=u.call(this,w[b],V);for(F=0;F<N.length;F+=1){var ue=w[b][N[F]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:b,col:F,data:ue},this),d.call(this,new l(f,g,V[N[F]],Z,ue,b+2,Y[N[F]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=g,this};var u=function(f,g){var w=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(f).map(function(b){var U=f[b];return this.splitTextToSize(U.hasOwnProperty("text")?U.text:U,g[b]-w-w)},this).map(function(b){return this.getLineHeightFactor()*b.length*v/C+w+w},this).reduce(function(b,U){return Math.max(b,U)},0)};t.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},t.printHeaderRow=function(f,g){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){w=this.internal.__cell__.tableHeaderRow[b].clone(),g&&(w.y=this.internal.__cell__.margins.top||0,C.push(w)),w.lineNumber=f;var U=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,w),this.setTextColor(U)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),r=!1}})(ft.API);var Qx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gg=Ux(Fx),Nx=[100,200,300,400,500,600,700,800,900],_C=Ux(Nx);function sg(t){var A=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(l){return Qx[l=l||"normal"]?l:"normal"})(t.style),a=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(t.weight),i=(function(l){return typeof Gg[l=l||"normal"]=="number"?l:"normal"})(t.stretch);return{family:A,style:r,weight:a,stretch:i,src:t.src||[],ref:t.ref||{name:A,style:[i,r,a].join(" ")}}}function sw(t,A,r,a){var i;for(i=r;i>=0&&i<A.length;i+=a)if(t[A[i]])return t[A[i]];for(i=r;i>=0&&i<A.length;i-=a)if(t[A[i]])return t[A[i]]}var TC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},iw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function lw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ow(t){return t.trimLeft()}function IC(t,A){for(var r=0;r<t.length;){if(t.charAt(r)===A)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function DC(t){var A=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return A===null?null:[A[0],t.substring(A[0].length)]}var of,cw,uw,yc,cf,dw,fw,hw,ig=["times"];function gw(t,A,r,a,i){var l=4,d=mw;switch(i){case ft.API.image_compression.FAST:l=1,d=pw;break;case ft.API.image_compression.MEDIUM:l=6,d=ww;break;case ft.API.image_compression.SLOW:l=9,d=bw}t=(function(f,g,w,v){for(var C,b=f.length/g,U=new Uint8Array(f.length+b),F=[MC,pw,mw,ww,bw],L=0;L<b;L+=1){var N=L*g,H=f.subarray(N,N+g);if(v)U.set(v(H,w,C),N+L);else{for(var _=F.length,k=[],V=0;V<_;V+=1)k[V]=F[V](H,w,C);var Ae=RC(k.concat());U.set(k[Ae],N+L)}C=H}return U})(t,A,Math.ceil(r*a/8),d);var u=Mg(t,{level:l});return ft.API.__addimage__.arrayBufferToBinaryString(u)}function MC(t){var A=Array.apply([],t);return A.unshift(0),A}function pw(t,A){var r=t.length,a=[];a[0]=1;for(var i=0;i<r;i+=1){var l=t[i-A]||0;a[i+1]=t[i]-l+256&255}return a}function mw(t,A,r){var a=t.length,i=[];i[0]=2;for(var l=0;l<a;l+=1){var d=r&&r[l]||0;i[l+1]=t[l]-d+256&255}return i}function ww(t,A,r){var a=t.length,i=[];i[0]=3;for(var l=0;l<a;l+=1){var d=t[l-A]||0,u=r&&r[l]||0;i[l+1]=t[l]+256-(d+u>>>1)&255}return i}function bw(t,A,r){var a=t.length,i=[];i[0]=4;for(var l=0;l<a;l+=1){var d=OC(t[l-A]||0,r&&r[l]||0,r&&r[l-A]||0);i[l+1]=t[l]-d+256&255}return i}function OC(t,A,r){if(t===A&&A===r)return t;var a=Math.abs(A-r),i=Math.abs(t-r),l=Math.abs(t+A-r-r);return a<=i&&a<=l?t:i<=l?A:r}function RC(t){var A=t.map(function(r){return r.reduce(function(a,i){return a+Math.abs(i)},0)});return A.indexOf(Math.min.apply(null,A))}function lg(t,A,r){var a=A*r,i=Math.floor(a/8),l=16-(a-8*i+r),d=(1<<r)-1;return Sx(t,i)>>l&d}function xw(t,A,r,a){var i=r*a,l=Math.floor(i/8),d=16-(i-8*l+a),u=(1<<a)-1,f=(A&u)<<d;(function(g,w,v){if(w+1<g.byteLength)g.setUint16(w,v,!1);else{var C=v>>8&255;g.setUint8(w,C)}})(t,l,Sx(t,l)&~(u<<d)&65535|f)}function Sx(t,A){return A+1<t.byteLength?t.getUint16(A,!1):t.getUint8(A)<<8}function PC(t){var A=0;if(t[A++]!==71||t[A++]!==73||t[A++]!==70||t[A++]!==56||(t[A++]+1&253)!=56||t[A++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[A++]|t[A++]<<8,a=t[A++]|t[A++]<<8,i=t[A++],l=i>>7,d=1<<1+(7&i);t[A++],t[A++];var u=null,f=null;l&&(u=A,f=d,A+=3*d);var g=!0,w=[],v=0,C=null,b=0,U=null;for(this.width=r,this.height=a;g&&A<t.length;)switch(t[A++]){case 33:switch(t[A++]){case 255:if(t[A]!==11||t[A+1]==78&&t[A+2]==69&&t[A+3]==84&&t[A+4]==83&&t[A+5]==67&&t[A+6]==65&&t[A+7]==80&&t[A+8]==69&&t[A+9]==50&&t[A+10]==46&&t[A+11]==48&&t[A+12]==3&&t[A+13]==1&&t[A+16]==0)A+=14,U=t[A++]|t[A++]<<8,A++;else for(A+=12;;){if(!((Q=t[A++])>=0))throw Error("Invalid block size");if(Q===0)break;A+=Q}break;case 249:if(t[A++]!==4||t[A+4]!==0)throw new Error("Invalid graphics extension block.");var F=t[A++];v=t[A++]|t[A++]<<8,C=t[A++],1&F||(C=null),b=F>>2&7,A++;break;case 254:for(;;){if(!((Q=t[A++])>=0))throw Error("Invalid block size");if(Q===0)break;A+=Q}break;default:throw new Error("Unknown graphic control label: 0x"+t[A-1].toString(16))}break;case 44:var L=t[A++]|t[A++]<<8,N=t[A++]|t[A++]<<8,H=t[A++]|t[A++]<<8,_=t[A++]|t[A++]<<8,k=t[A++],V=k>>6&1,Ae=1<<1+(7&k),ne=u,J=f,D=!1;k>>7&&(D=!0,ne=A,J=Ae,A+=3*Ae);var ee=A;for(A++;;){var Q;if(!((Q=t[A++])>=0))throw Error("Invalid block size");if(Q===0)break;A+=Q}w.push({x:L,y:N,width:H,height:_,has_local_palette:D,palette_offset:ne,palette_size:J,data_offset:ee,data_length:A-ee,transparent_index:C,interlaced:!!V,delay:v,disposal:b});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+t[A-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return U},this.frameInfo=function(j){if(j<0||j>=w.length)throw new Error("Frame index out of range.");return w[j]},this.decodeAndBlitFrameBGRA=function(j,I){var K=this.frameInfo(j),ce=K.width*K.height,R=new Uint8Array(ce);vw(t,K.data_offset,R,ce);var Y=K.palette_offset,Z=K.transparent_index;Z===null&&(Z=256);var ue=K.width,ge=r-ue,be=ue,T=4*(K.y*r+K.x),q=4*((K.y+K.height)*r+K.x),$=T,le=4*ge;K.interlaced===!0&&(le+=4*r*7);for(var oe=8,we=0,Se=R.length;we<Se;++we){var Ne=R[we];if(be===0&&(be=ue,($+=le)>=q&&(le=4*ge+4*r*(oe-1),$=T+(ue+ge)*(oe<<1),oe>>=1)),Ne===Z)$+=4;else{var Le=t[Y+3*Ne],Te=t[Y+3*Ne+1],Oe=t[Y+3*Ne+2];I[$++]=Oe,I[$++]=Te,I[$++]=Le,I[$++]=255}--be}},this.decodeAndBlitFrameRGBA=function(j,I){var K=this.frameInfo(j),ce=K.width*K.height,R=new Uint8Array(ce);vw(t,K.data_offset,R,ce);var Y=K.palette_offset,Z=K.transparent_index;Z===null&&(Z=256);var ue=K.width,ge=r-ue,be=ue,T=4*(K.y*r+K.x),q=4*((K.y+K.height)*r+K.x),$=T,le=4*ge;K.interlaced===!0&&(le+=4*r*7);for(var oe=8,we=0,Se=R.length;we<Se;++we){var Ne=R[we];if(be===0&&(be=ue,($+=le)>=q&&(le=4*ge+4*r*(oe-1),$=T+(ue+ge)*(oe<<1),oe>>=1)),Ne===Z)$+=4;else{var Le=t[Y+3*Ne],Te=t[Y+3*Ne+1],Oe=t[Y+3*Ne+2];I[$++]=Le,I[$++]=Te,I[$++]=Oe,I[$++]=255}--be}}}function vw(t,A,r,a){for(var i=t[A++],l=1<<i,d=l+1,u=d+1,f=i+1,g=(1<<f)-1,w=0,v=0,C=0,b=t[A++],U=new Int32Array(4096),F=null;;){for(;w<16&&b!==0;)v|=t[A++]<<w,w+=8,b===1?b=t[A++]:--b;if(w<f)break;var L=v&g;if(v>>=f,w-=f,L!==l){if(L===d)break;for(var N=L<u?L:F,H=0,_=N;_>l;)_=U[_]>>8,++H;var k=_;if(C+H+(N!==L?1:0)>a)return void jA.log("Warning, gif stream longer than expected.");r[C++]=k;var V=C+=H;for(N!==L&&(r[C++]=k),_=N;H--;)_=U[_],r[--V]=255&_,_>>=8;F!==null&&u<4096&&(U[u++]=F<<8|k,u>=g+1&&f<12&&(++f,g=g<<1|1)),F=L}else u=d+1,g=(1<<(f=i+1))-1,F=null}return C!==a&&jA.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function og(t){var A,r,a,i,l,d=Math.floor,u=new Array(64),f=new Array(64),g=new Array(64),w=new Array(64),v=new Array(65535),C=new Array(65535),b=new Array(64),U=new Array(64),F=[],L=0,N=7,H=new Array(64),_=new Array(64),k=new Array(64),V=new Array(256),Ae=new Array(2048),ne=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(T,q){for(var $=0,le=0,oe=new Array,we=1;we<=16;we++){for(var Se=1;Se<=T[we];Se++)oe[q[le]]=[],oe[q[le]][0]=$,oe[q[le]][1]=we,le++,$++;$*=2}return oe}function Y(T){for(var q=T[0],$=T[1]-1;$>=0;)q&1<<$&&(L|=1<<N),$--,--N<0&&(L==255?(Z(255),Z(0)):Z(L),N=7,L=0)}function Z(T){F.push(T)}function ue(T){Z(T>>8&255),Z(255&T)}function ge(T,q,$,le,oe){for(var we,Se=oe[0],Ne=oe[240],Le=(function(ke,Ze){var Ye,rt,ot,yt,Mt,Ft,Ot,Rt,ct,jt,ht=0;for(ct=0;ct<8;++ct){Ye=ke[ht],rt=ke[ht+1],ot=ke[ht+2],yt=ke[ht+3],Mt=ke[ht+4],Ft=ke[ht+5],Ot=ke[ht+6];var YA=Ye+(Rt=ke[ht+7]),zt=Ye-Rt,vt=rt+Ot,St=rt-Ot,Vt=ot+Ft,wt=ot-Ft,yA=yt+Mt,Ut=yt-Mt,Et=YA+yA,gA=YA-yA,It=vt+Vt,gt=vt-Vt;ke[ht]=Et+It,ke[ht+4]=Et-It;var $t=.707106781*(gt+gA);ke[ht+2]=gA+$t,ke[ht+6]=gA-$t;var Zn=.382683433*((Et=Ut+wt)-(gt=St+zt)),Or=.5411961*Et+Zn,ba=1.306562965*gt+Zn,kn=.707106781*(It=wt+St),pt=zt+kn,Va=zt-kn;ke[ht+5]=Va+Or,ke[ht+3]=Va-Or,ke[ht+1]=pt+ba,ke[ht+7]=pt-ba,ht+=8}for(ht=0,ct=0;ct<8;++ct){Ye=ke[ht],rt=ke[ht+8],ot=ke[ht+16],yt=ke[ht+24],Mt=ke[ht+32],Ft=ke[ht+40],Ot=ke[ht+48];var xa=Ye+(Rt=ke[ht+56]),bn=Ye-Rt,xn=rt+Ot,HA=rt-Ot,rr=ot+Ft,yr=ot-Ft,Fs=yt+Mt,Jr=yt-Mt,pA=xa+Fs,TA=xa-Fs,Rr=xn+rr,vn=xn-rr;ke[ht]=pA+Rr,ke[ht+32]=pA-Rr;var Ln=.707106781*(vn+TA);ke[ht+16]=TA+Ln,ke[ht+48]=TA-Ln;var ti=.382683433*((pA=Jr+yr)-(vn=HA+bn)),$n=.5411961*pA+ti,ea=1.306562965*vn+ti,Ns=.707106781*(Rr=yr+HA),ta=bn+Ns,Aa=bn-Ns;ke[ht+40]=Aa+$n,ke[ht+24]=Aa-$n,ke[ht+8]=ta+ea,ke[ht+56]=ta-ea,ht++}for(ct=0;ct<64;++ct)jt=ke[ct]*Ze[ct],b[ct]=jt>0?jt+.5|0:jt-.5|0;return b})(T,q),Te=0;Te<64;++Te)U[ne[Te]]=Le[Te];var Oe=U[0]-$;$=U[0],Oe==0?Y(le[0]):(Y(le[C[we=32767+Oe]]),Y(v[we]));for(var ze=63;ze>0&&U[ze]==0;)ze--;if(ze==0)return Y(Se),$;for(var qe,re=1;re<=ze;){for(var Ge=re;U[re]==0&&re<=ze;)++re;var We=re-Ge;if(We>=16){qe=We>>4;for(var Xe=1;Xe<=qe;++Xe)Y(Ne);We&=15}we=32767+U[re],Y(oe[(We<<4)+C[we]]),Y(v[we]),re++}return ze!=63&&Y(Se),$}function be(T){T=Math.min(Math.max(T,1),100),l!=T&&((function(q){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var oe=d(($[le]*q+50)/100);oe=Math.min(Math.max(oe,1),255),u[ne[le]]=oe}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ne=d((we[Se]*q+50)/100);Ne=Math.min(Math.max(Ne,1),255),f[ne[Se]]=Ne}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Oe=0;Oe<8;Oe++)for(var ze=0;ze<8;ze++)g[Te]=1/(u[ne[Te]]*Le[Oe]*Le[ze]*8),w[Te]=1/(f[ne[Te]]*Le[Oe]*Le[ze]*8),Te++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),l=T)}this.encode=function(T,q){q&&be(q),F=new Array,L=0,N=7,ue(65496),ue(65504),ue(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),ue(1),ue(1),Z(0),Z(0),(function(){ue(65499),ue(132),Z(0);for(var rt=0;rt<64;rt++)Z(u[rt]);Z(1);for(var ot=0;ot<64;ot++)Z(f[ot])})(),(function(rt,ot){ue(65472),ue(17),Z(8),ue(ot),ue(rt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(T.width,T.height),(function(){ue(65476),ue(418),Z(0);for(var rt=0;rt<16;rt++)Z(J[rt+1]);for(var ot=0;ot<=11;ot++)Z(D[ot]);Z(16);for(var yt=0;yt<16;yt++)Z(ee[yt+1]);for(var Mt=0;Mt<=161;Mt++)Z(Q[Mt]);Z(1);for(var Ft=0;Ft<16;Ft++)Z(j[Ft+1]);for(var Ot=0;Ot<=11;Ot++)Z(I[Ot]);Z(17);for(var Rt=0;Rt<16;Rt++)Z(K[Rt+1]);for(var ct=0;ct<=161;ct++)Z(ce[ct])})(),ue(65498),ue(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var $=0,le=0,oe=0;L=0,N=7,this.encode.displayName="_encode_";for(var we,Se,Ne,Le,Te,Oe,ze,qe,re,Ge=T.data,We=T.width,Xe=T.height,ke=4*We,Ze=0;Ze<Xe;){for(we=0;we<ke;){for(Te=ke*Ze+we,ze=-1,qe=0,re=0;re<64;re++)Oe=Te+(qe=re>>3)*ke+(ze=4*(7&re)),Ze+qe>=Xe&&(Oe-=ke*(Ze+1+qe-Xe)),we+ze>=ke&&(Oe-=we+ze-ke+4),Se=Ge[Oe++],Ne=Ge[Oe++],Le=Ge[Oe++],H[re]=(Ae[Se]+Ae[Ne+256|0]+Ae[Le+512|0]>>16)-128,_[re]=(Ae[Se+768|0]+Ae[Ne+1024|0]+Ae[Le+1280|0]>>16)-128,k[re]=(Ae[Se+1280|0]+Ae[Ne+1536|0]+Ae[Le+1792|0]>>16)-128;$=ge(H,g,$,A,a),le=ge(_,w,le,r,i),oe=ge(k,w,oe,r,i),we+=32}Ze+=8}if(N>=0){var Ye=[];Ye[1]=N+1,Ye[0]=(1<<N+1)-1,Y(Ye)}return ue(65497),new Uint8Array(F)},t=t||50,(function(){for(var T=String.fromCharCode,q=0;q<256;q++)V[q]=T(q)})(),A=R(J,D),r=R(j,I),a=R(ee,Q),i=R(K,ce),(function(){for(var T=1,q=2,$=1;$<=15;$++){for(var le=T;le<q;le++)C[32767+le]=$,v[32767+le]=[],v[32767+le][1]=$,v[32767+le][0]=le;for(var oe=-(q-1);oe<=-T;oe++)C[32767+oe]=$,v[32767+oe]=[],v[32767+oe][1]=$,v[32767+oe][0]=q-1+oe;T<<=1,q<<=1}})(),(function(){for(var T=0;T<256;T++)Ae[T]=19595*T,Ae[T+256|0]=38470*T,Ae[T+512|0]=7471*T+32768,Ae[T+768|0]=-11059*T,Ae[T+1024|0]=-21709*T,Ae[T+1280|0]=32768*T+8421375,Ae[T+1536|0]=-27439*T,Ae[T+1792|0]=-5329*T})(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bs(t,A){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!A,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yw(t){function A(D){if(!D)throw Error("assert :P")}function r(D,ee,Q){for(var j=0;4>j;j++)if(D[ee+j]!=Q.charCodeAt(j))return!0;return!1}function a(D,ee,Q,j,I){for(var K=0;K<I;K++)D[ee+K]=Q[j+K]}function i(D,ee,Q,j){for(var I=0;I<j;I++)D[ee+I]=Q}function l(D){return new Int32Array(D)}function d(D,ee){for(var Q=[],j=0;j<D;j++)Q.push(new ee);return Q}function u(D,ee){var Q=[];return(function j(I,K,ce){for(var R=ce[K],Y=0;Y<R&&(I.push(ce.length>K+1?[]:new ee),!(ce.length<K+1));Y++)j(I[Y],K+1,ce)})(Q,0,D),Q}var f=function(){var D=this;function ee(h,m){for(var B=1<<m-1>>>0;h&B;)B>>>=1;return B?(h&B-1)+B:h}function Q(h,m,B,S,O){A(!(S%B));do h[m+(S-=B)]=O;while(0<S)}function j(h,m,B,S,O){if(A(2328>=O),512>=O)var z=l(512);else if((z=l(O))==null)return 0;return(function(G,W,te,se,he,Ce){var ae,me,ye=W,He=1<<te,Be=l(16),je=l(16);for(A(he!=0),A(se!=null),A(G!=null),A(0<te),me=0;me<he;++me){if(15<se[me])return 0;++Be[se[me]]}if(Be[0]==he)return 0;for(je[1]=0,ae=1;15>ae;++ae){if(Be[ae]>1<<ae)return 0;je[ae+1]=je[ae]+Be[ae]}for(me=0;me<he;++me)ae=se[me],0<se[me]&&(Ce[je[ae]++]=me);if(je[15]==1)return(se=new I).g=0,se.value=Ce[0],Q(G,ye,1,He,se),He;var De,Ve=-1,Pe=He-1,it=0,et=1,kt=1,nt=1<<te;for(me=0,ae=1,he=2;ae<=te;++ae,he<<=1){if(et+=kt<<=1,0>(kt-=Be[ae]))return 0;for(;0<Be[ae];--Be[ae])(se=new I).g=ae,se.value=Ce[me++],Q(G,ye+it,he,nt,se),it=ee(it,ae)}for(ae=te+1,he=2;15>=ae;++ae,he<<=1){if(et+=kt<<=1,0>(kt-=Be[ae]))return 0;for(;0<Be[ae];--Be[ae]){if(se=new I,(it&Pe)!=Ve){for(ye+=nt,De=1<<(Ve=ae)-te;15>Ve&&!(0>=(De-=Be[Ve]));)++Ve,De<<=1;He+=nt=1<<(De=Ve-te),G[W+(Ve=it&Pe)].g=De+te,G[W+Ve].value=ye-W-Ve}se.g=ae-te,se.value=Ce[me++],Q(G,ye+(it>>te),he,nt,se),it=ee(it,ae)}}return et!=2*je[15]-1?0:He})(h,m,B,S,O,z)}function I(){this.value=this.g=0}function K(){this.value=this.g=0}function ce(){this.G=d(5,I),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(js,K)}function R(h,m,B,S){A(h!=null),A(m!=null),A(2147483648>S),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=B,h.Jd=m,h.Yc=B+S,h.Zc=4<=S?B+S-4+1:B,Se(h)}function Y(h,m){for(var B=0;0<m--;)B|=Le(h,128)<<m;return B}function Z(h,m){var B=Y(h,m);return Ne(h)?-B:B}function ue(h,m,B,S){var O,z=0;for(A(h!=null),A(m!=null),A(4294967288>S),h.Sb=S,h.Ra=0,h.u=0,h.h=0,4<S&&(S=4),O=0;O<S;++O)z+=m[B+O]<<8*O;h.Ra=z,h.bb=S,h.oa=m,h.pa=B}function ge(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Fa-8>>>0,++h.bb,h.u-=8;le(h)&&(h.h=1,h.u=0)}function be(h,m){if(A(0<=m),!h.h&&m<=en){var B=$(h)&cn[m];return h.u+=m,ge(h),B}return h.h=1,h.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(h){return h.Ra>>>(h.u&Fa-1)>>>0}function le(h){return A(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Fa}function oe(h,m){h.u=m,h.h=le(h)}function we(h){h.u>=Na&&(A(h.u>=Na),ge(h))}function Se(h){A(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(A(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Ne(h){return Y(h,1)}function Le(h,m){var B=h.Ca;0>h.b&&Se(h);var S=h.b,O=B*m>>>8,z=(h.I>>>S>O)+0;for(z?(B-=O,h.I-=O+1<<S>>>0):B=O+1,S=B,O=0;256<=S;)O+=8,S>>=8;return S=7^O+ss[S],h.b-=S,h.Ca=(B<<S)-1,z}function Te(h,m,B){h[m+0]=B>>24&255,h[m+1]=B>>16&255,h[m+2]=B>>8&255,h[m+3]=255&B}function Oe(h,m){return h[m+0]|h[m+1]<<8}function ze(h,m){return Oe(h,m)|h[m+2]<<16}function qe(h,m){return Oe(h,m)|Oe(h,m+2)<<16}function re(h,m){var B=1<<m;return A(h!=null),A(0<m),h.X=l(B),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Ge(h,m){A(h!=null),A(m!=null),A(h.Xa==m.Xa),a(m.X,0,h.X,0,1<<m.Xa)}function We(){this.X=[],this.Xa=this.Mb=0}function Xe(h,m,B,S){A(B!=null),A(S!=null);var O=B[0],z=S[0];return O==0&&(O=(h*z+m/2)/m),z==0&&(z=(m*O+h/2)/h),0>=O||0>=z?0:(B[0]=O,S[0]=z,1)}function ke(h,m){return h+(1<<m)-1>>>m}function Ze(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Ye(h,m){D[m]=function(B,S,O,z,G,W,te){var se;for(se=0;se<G;++se){var he=D[h](W[te+se-1],O,z+se);W[te+se]=Ze(B[S+se],he)}}}function rt(){this.ud=this.hd=this.jd=0}function ot(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function yt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Mt(h,m){return yt(h+(h-m+.5>>1))}function Ft(h,m,B){return Math.abs(m-B)-Math.abs(h-B)}function Ot(h,m,B,S,O,z,G){for(S=z[G-1],B=0;B<O;++B)z[G+B]=S=Ze(h[m+B],S)}function Rt(h,m,B,S,O){var z;for(z=0;z<B;++z){var G=h[m+z],W=G>>8&255,te=16711935&(te=(te=16711935&G)+((W<<16)+W));S[O+z]=(4278255360&G)+te>>>0}}function ct(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function jt(h,m,B,S,O,z){var G;for(G=0;G<S;++G){var W=m[B+G],te=W>>>8,se=W,he=255&(he=(he=W>>>16)+((h.jd<<24>>24)*(te<<24>>24)>>>5));se=255&(se=(se+=(h.hd<<24>>24)*(te<<24>>24)>>>5)+((h.ud<<24>>24)*(he<<24>>24)>>>5)),O[z+G]=(4278255360&W)+(he<<16)+se}}function ht(h,m,B,S,O){D[m]=function(z,G,W,te,se,he,Ce,ae,me){for(te=Ce;te<ae;++te)for(Ce=0;Ce<me;++Ce)se[he++]=O(W[S(z[G++])])},D[h]=function(z,G,W,te,se,he,Ce){var ae=8>>z.b,me=z.Ea,ye=z.K[0],He=z.w;if(8>ae)for(z=(1<<z.b)-1,He=(1<<ae)-1;G<W;++G){var Be,je=0;for(Be=0;Be<me;++Be)Be&z||(je=S(te[se++])),he[Ce++]=O(ye[je&He]),je>>=ae}else D["VP8LMapColor"+B](te,se,ye,He,he,Ce,G,W,me)}}function YA(h,m,B,S,O){for(B=m+B;m<B;){var z=h[m++];S[O++]=z>>16&255,S[O++]=z>>8&255,S[O++]=255&z}}function zt(h,m,B,S,O){for(B=m+B;m<B;){var z=h[m++];S[O++]=z>>16&255,S[O++]=z>>8&255,S[O++]=255&z,S[O++]=z>>24&255}}function vt(h,m,B,S,O){for(B=m+B;m<B;){var z=(G=h[m++])>>16&240|G>>12&15,G=240&G|G>>28&15;S[O++]=z,S[O++]=G}}function St(h,m,B,S,O){for(B=m+B;m<B;){var z=(G=h[m++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;S[O++]=z,S[O++]=G}}function Vt(h,m,B,S,O){for(B=m+B;m<B;){var z=h[m++];S[O++]=255&z,S[O++]=z>>8&255,S[O++]=z>>16&255}}function wt(h,m,B,S,O,z){if(z==0)for(B=m+B;m<B;)Te(S,((z=h[m++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),O+=32;else a(S,O,h,m,B)}function yA(h,m){D[m][0]=D[h+"0"],D[m][1]=D[h+"1"],D[m][2]=D[h+"2"],D[m][3]=D[h+"3"],D[m][4]=D[h+"4"],D[m][5]=D[h+"5"],D[m][6]=D[h+"6"],D[m][7]=D[h+"7"],D[m][8]=D[h+"8"],D[m][9]=D[h+"9"],D[m][10]=D[h+"10"],D[m][11]=D[h+"11"],D[m][12]=D[h+"12"],D[m][13]=D[h+"13"],D[m][14]=D[h+"0"],D[m][15]=D[h+"0"]}function Ut(h){return h==no||h==zo||h==Zi||h==Vo}function Et(){this.eb=[],this.size=this.A=this.fb=0}function gA(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function It(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Et,this.f.kb=new gA,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function $t(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zn(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Or(h,m){var B=h.T,S=m.ba.f.RGBA,O=S.eb,z=S.fb+h.ka*S.A,G=Hr[m.ba.S],W=h.y,te=h.O,se=h.f,he=h.N,Ce=h.ea,ae=h.W,me=m.cc,ye=m.dc,He=m.Mc,Be=m.Nc,je=h.ka,De=h.ka+h.T,Ve=h.U,Pe=Ve+1>>1;for(je==0?G(W,te,null,null,se,he,Ce,ae,se,he,Ce,ae,O,z,null,null,Ve):(G(m.ec,m.fc,W,te,me,ye,He,Be,se,he,Ce,ae,O,z-S.A,O,z,Ve),++B);je+2<De;je+=2)me=se,ye=he,He=Ce,Be=ae,he+=h.Rc,ae+=h.Rc,z+=2*S.A,G(W,(te+=2*h.fa)-h.fa,W,te,me,ye,He,Be,se,he,Ce,ae,O,z-S.A,O,z,Ve);return te+=h.fa,h.j+De<h.o?(a(m.ec,m.fc,W,te,Ve),a(m.cc,m.dc,se,he,Pe),a(m.Mc,m.Nc,Ce,ae,Pe),B--):1&De||G(W,te,null,null,se,he,Ce,ae,se,he,Ce,ae,O,z+S.A,null,null,Ve),B}function ba(h,m,B){var S=h.F,O=[h.J];if(S!=null){var z=h.U,G=m.ba.S,W=G==ro||G==Zi;m=m.ba.f.RGBA;var te=[0],se=h.ka;te[0]=h.T,h.Kb&&(se==0?--te[0]:(--se,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(te[0]=h.o-h.j-se));var he=m.eb;se=m.fb+se*m.A,h=$l(S,O[0],h.width,z,te,he,se+(W?0:3),m.A),A(B==te),h&&Ut(G)&&di(he,se,W,z,te,m.A)}return 0}function kn(h){var m=h.ma,B=m.ba.S,S=11>B,O=B==zr||B==In||B==ro||B==Wi||B==12||Ut(B);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!as(m.Oa,h,O?11:12))return 0;if(O&&Ut(B)&&Yl(),h.da)alert("todo:use_scaling");else{if(S){if(m.Ib=Zn,h.Kb){if(B=h.U+1>>1,m.memory=l(h.U+2*B),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+B,m.Ib=Or,Yl()}}else alert("todo:EmitYUV");O&&(m.Jb=ba,S&&ia())}if(S&&!Os){for(h=0;256>h;++h)_r[h]=89858*(h-128)+tl>>Kn,Qh[h]=-22014*(h-128)+tl,dd[h]=-45773*(h-128),Jo[h]=113618*(h-128)+tl>>Kn;for(h=pi;h<Ms;++h)m=76283*(h-16)+tl>>Kn,Fh[h-pi]=Bn(m,255),Nh[h-pi]=Bn(m+8>>4,15);Os=1}return 1}function pt(h){var m=h.ma,B=h.U,S=h.T;return A(!(1&h.ka)),0>=B||0>=S?0:(B=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,B),m.Dc+=B,1)}function Va(h){h.ma.memory=null}function xa(h,m,B,S){return be(h,8)!=47?0:(m[0]=be(h,14)+1,B[0]=be(h,14)+1,S[0]=be(h,1),be(h,3)!=0?0:!h.h)}function bn(h,m){if(4>h)return h+1;var B=h-2>>1;return(2+(1&h)<<B)+be(m,B)+1}function xn(h,m){return 120<m?m-120:1<=(B=((B=Mn[m-1])>>4)*h+(8-(15&B)))?B:1;var B}function HA(h,m,B){var S=$(B),O=h[m+=255&S].g-8;return 0<O&&(oe(B,B.u+8),S=$(B),m+=h[m].value,m+=S&(1<<O)-1),oe(B,B.u+h[m].g),h[m].value}function rr(h,m,B){return B.g+=h.g,B.value+=h.value<<m>>>0,A(8>=B.g),h.g}function yr(h,m,B){var S=h.xc;return A((m=S==0?0:h.vc[h.md*(B>>S)+(m>>S)])<h.Wb),h.Ya[m]}function Fs(h,m,B,S){var O=h.ab,z=h.c*m,G=h.C;m=G+m;var W=B,te=S;for(S=h.Ta,B=h.Ua;0<O--;){var se=h.gc[O],he=G,Ce=m,ae=W,me=te,ye=(te=S,W=B,se.Ea);switch(A(he<Ce),A(Ce<=se.nc),se.hc){case 2:ZA(ae,me,(Ce-he)*ye,te,W);break;case 0:var He=he,Be=Ce,je=te,De=W,Ve=(nt=se).Ea;He==0&&(qi(ae,me,null,null,1,je,De),Ot(ae,me+1,0,0,Ve-1,je,De+1),me+=Ve,De+=Ve,++He);for(var Pe=1<<nt.b,it=Pe-1,et=ke(Ve,nt.b),kt=nt.K,nt=nt.w+(He>>nt.b)*et;He<Be;){var Gt=kt,kA=nt,_t=1;for(Xi(ae,me,je,De-Ve,1,je,De);_t<Ve;){var tt=(_t&~it)+Pe;tt>Ve&&(tt=Ve),(0,is[Gt[kA++]>>8&15])(ae,me+ +_t,je,De+_t-Ve,tt-_t,je,De+_t),_t=tt}me+=Ve,De+=Ve,++He&it||(nt+=et)}Ce!=se.nc&&a(te,W-ye,te,W+(Ce-he-1)*ye,ye);break;case 1:for(ye=ae,Be=me,Ve=(ae=se.Ea)-(De=ae&~(je=(me=1<<se.b)-1)),He=ke(ae,se.b),Pe=se.K,se=se.w+(he>>se.b)*He;he<Ce;){for(it=Pe,et=se,kt=new rt,nt=Be+De,Gt=Be+ae;Be<nt;)ct(it[et++],kt),Yi(kt,ye,Be,me,te,W),Be+=me,W+=me;Be<Gt&&(ct(it[et++],kt),Yi(kt,ye,Be,Ve,te,W),Be+=Ve,W+=Ve),++he&je||(se+=He)}break;case 3:if(ae==te&&me==W&&0<se.b){for(Be=te,ae=ye=W+(Ce-he)*ye-(De=(Ce-he)*ke(se.Ea,se.b)),me=te,je=W,He=[],De=(Ve=De)-1;0<=De;--De)He[De]=me[je+De];for(De=Ve-1;0<=De;--De)Be[ae+De]=He[De];Mo(se,he,Ce,te,ye,te,W)}else Mo(se,he,Ce,ae,me,te,W)}W=S,te=B}te!=B&&a(S,B,W,te,z)}function Jr(h,m){var B=h.V,S=h.Ba+h.c*h.C,O=m-h.C;if(A(m<=h.l.o),A(16>=O),0<O){var z=h.l,G=h.Ta,W=h.Ua,te=z.width;if(Fs(h,O,B,S),O=W=[W],A((B=h.C)<(S=m)),A(z.v<z.va),S>z.o&&(S=z.o),B<z.j){var se=z.j-B;B=z.j,O[0]+=se*te}if(B>=S?B=0:(O[0]+=4*z.v,z.ka=B-z.j,z.U=z.va-z.v,z.T=S-B,B=1),B){if(W=W[0],11>(B=h.ca).S){var he=B.f.RGBA,Ce=(S=B.S,O=z.U,z=z.T,se=he.eb,he.A),ae=z;for(he=he.fb+h.Ma*he.A;0<ae--;){var me=G,ye=W,He=O,Be=se,je=he;switch(S){case Po:Ji(me,ye,He,Be,je);break;case zr:ls(me,ye,He,Be,je);break;case no:ls(me,ye,He,Be,je),di(Be,je,0,He,1,0);break;case Ko:ci(me,ye,He,Be,je);break;case In:wt(me,ye,He,Be,je,1);break;case zo:wt(me,ye,He,Be,je,1),di(Be,je,0,He,1,0);break;case ro:wt(me,ye,He,Be,je,0);break;case Zi:wt(me,ye,He,Be,je,0),di(Be,je,1,He,1,0);break;case Wi:os(me,ye,He,Be,je);break;case Vo:os(me,ye,He,Be,je),Tn(Be,je,He,1,0);break;case Hs:ka(me,ye,He,Be,je);break;default:A(0)}W+=te,he+=Ce}h.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");A(h.Ma<=B.height)}}h.C=m,A(h.C<=h.i)}function pA(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var B=h.Ya[m].G,S=h.Ya[m].H;if(0<B[1][S[1]+0].g||0<B[2][S[2]+0].g||0<B[3][S[3]+0].g)return 0}return 1}function TA(h,m,B,S,O,z){if(h.Z!=0){var G=h.qd,W=h.rd;for(A(ds[h.Z]!=null);m<B;++m)ds[h.Z](G,W,S,O,S,O,z),G=S,W=O,O+=z;h.qd=G,h.rd=W}}function Rr(h,m){var B=h.l.ma,S=B.Z==0||B.Z==1?h.l.j:h.C;if(S=h.C<S?S:h.C,A(m<=h.l.o),m>S){var O=h.l.width,z=B.ca,G=B.tb+O*S,W=h.V,te=h.Ba+h.c*S,se=h.gc;A(h.ab==1),A(se[0].hc==3),Ea(se[0],S,m,W,te,z,G),TA(B,S,m,z,G,O)}h.C=h.Ma=m}function vn(h,m,B,S,O,z,G){var W=h.$/S,te=h.$%S,se=h.m,he=h.s,Ce=B+h.$,ae=Ce;O=B+S*O;var me=B+S*z,ye=280+he.ua,He=h.Pb?W:16777216,Be=0<he.ua?he.Wa:null,je=he.wc,De=Ce<me?yr(he,te,W):null;A(h.C<z),A(me<=O);var Ve=!1;e:for(;;){for(;Ve||Ce<me;){var Pe=0;if(W>=He){var it=Ce-B;A((He=h).Pb),He.wd=He.m,He.xd=it,0<He.s.ua&&Ge(He.s.Wa,He.s.vb),He=W+_s}if(te&je||(De=yr(he,te,W)),A(De!=null),De.Qb&&(m[Ce]=De.qb,Ve=!0),!Ve)if(we(se),De.jc){Pe=se,it=m;var et=Ce,kt=De.pd[$(Pe)&js-1];A(De.jc),256>kt.g?(oe(Pe,Pe.u+kt.g),it[et]=kt.value,Pe=0):(oe(Pe,Pe.u+kt.g-256),A(256<=kt.value),Pe=kt.value),Pe==0&&(Ve=!0)}else Pe=HA(De.G[0],De.H[0],se);if(se.h)break;if(Ve||256>Pe){if(!Ve)if(De.nd)m[Ce]=(De.qb|Pe<<8)>>>0;else{if(we(se),Ve=HA(De.G[1],De.H[1],se),we(se),it=HA(De.G[2],De.H[2],se),et=HA(De.G[3],De.H[3],se),se.h)break;m[Ce]=(et<<24|Ve<<16|Pe<<8|it)>>>0}if(Ve=!1,++Ce,++te>=S&&(te=0,++W,G!=null&&W<=z&&!(W%16)&&G(h,W),Be!=null))for(;ae<Ce;)Pe=m[ae++],Be.X[(506832829*Pe&4294967295)>>>Be.Mb]=Pe}else if(280>Pe){if(Pe=bn(Pe-256,se),it=HA(De.G[4],De.H[4],se),we(se),it=xn(S,it=bn(it,se)),se.h)break;if(Ce-B<it||O-Ce<Pe)break e;for(et=0;et<Pe;++et)m[Ce+et]=m[Ce+et-it];for(Ce+=Pe,te+=Pe;te>=S;)te-=S,++W,G!=null&&W<=z&&!(W%16)&&G(h,W);if(A(Ce<=O),te&je&&(De=yr(he,te,W)),Be!=null)for(;ae<Ce;)Pe=m[ae++],Be.X[(506832829*Pe&4294967295)>>>Be.Mb]=Pe}else{if(!(Pe<ye))break e;for(Ve=Pe-280,A(Be!=null);ae<Ce;)Pe=m[ae++],Be.X[(506832829*Pe&4294967295)>>>Be.Mb]=Pe;Pe=Ce,A(!(Ve>>>(it=Be).Xa)),m[Pe]=it.X[Ve],Ve=!0}Ve||A(se.h==le(se))}if(h.Pb&&se.h&&Ce<O)A(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ge(h.s.vb,h.s.Wa);else{if(se.h)break e;G!=null&&G(h,W>z?z:W),h.a=0,h.$=Ce-B}return 1}return h.a=3,0}function Ln(h){A(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,A(h!=null)}function ti(){var h=new Nt;return h==null?null:(h.a=0,h.xb=Jc,yA("Predictor","VP8LPredictors"),yA("Predictor","VP8LPredictors_C"),yA("PredictorAdd","VP8LPredictorsAdd"),yA("PredictorAdd","VP8LPredictorsAdd_C"),ZA=Rt,Yi=jt,Ji=YA,ls=zt,os=vt,ka=St,ci=Vt,D.VP8LMapColor32b=Sa,D.VP8LMapColor8b=kr,h)}function $n(h,m,B,S,O){var z=1,G=[h],W=[m],te=S.m,se=S.s,he=null,Ce=0;e:for(;;){if(B)for(;z&&be(te,1);){var ae=G,me=W,ye=S,He=1,Be=ye.m,je=ye.gc[ye.ab],De=be(Be,2);if(ye.Oc&1<<De)z=0;else{switch(ye.Oc|=1<<De,je.hc=De,je.Ea=ae[0],je.nc=me[0],je.K=[null],++ye.ab,A(4>=ye.ab),De){case 0:case 1:je.b=be(Be,3)+2,He=$n(ke(je.Ea,je.b),ke(je.nc,je.b),0,ye,je.K),je.K=je.K[0];break;case 3:var Ve,Pe=be(Be,8)+1,it=16<Pe?0:4<Pe?1:2<Pe?2:3;if(ae[0]=ke(je.Ea,it),je.b=it,Ve=He=$n(Pe,1,0,ye,je.K)){var et,kt=Pe,nt=je,Gt=1<<(8>>nt.b),kA=l(Gt);if(kA==null)Ve=0;else{var _t=nt.K[0],tt=nt.w;for(kA[0]=nt.K[0][0],et=1;et<1*kt;++et)kA[et]=Ze(_t[tt+et],kA[et-1]);for(;et<4*Gt;++et)kA[et]=0;nt.K[0]=null,nt.K[0]=kA,Ve=1}}He=Ve;break;case 2:break;default:A(0)}z=He}}if(G=G[0],W=W[0],z&&be(te,1)&&!(z=1<=(Ce=be(te,4))&&11>=Ce)){S.a=3;break e}var Je;if(Je=z)t:{var DA,Ct,Dt,uA=S,gr=G,Tr=W,UA=Ce,sr=B,Vr=uA.m,ir=uA.s,Kt=[null],rA=1,MA=0,lA=On[UA];A:for(;;){if(sr&&be(Vr,1)){var pr=be(Vr,3)+2,OA=ke(gr,pr),nA=ke(Tr,pr),tr=OA*nA;if(!$n(OA,nA,0,uA,Kt))break A;for(Kt=Kt[0],ir.xc=pr,DA=0;DA<tr;++DA){var dA=Kt[DA]>>8&65535;Kt[DA]=dA,dA>=rA&&(rA=dA+1)}}if(Vr.h)break A;for(Ct=0;5>Ct;++Ct){var lr=hi[Ct];!Ct&&0<UA&&(lr+=1<<UA),MA<lr&&(MA=lr)}var or=d(rA*lA,I),mA=rA,AA=d(mA,ce);if(AA==null)var Gr=null;else A(65536>=mA),Gr=AA;var zA=l(MA);if(Gr==null||zA==null||or==null){uA.a=1;break A}var mt=or;for(DA=Dt=0;DA<rA;++DA){var bt=Gr[DA],aA=bt.G,un=bt.H,zn=0,An=1,cr=0;for(Ct=0;5>Ct;++Ct){lr=hi[Ct],aA[Ct]=mt,un[Ct]=Dt,!Ct&&0<UA&&(lr+=1<<UA);n:{var Rs,Ps=lr,Zo=uA,QA=zA,Zc=mt,$c=Dt,$o=0,fs=Zo.m,Sh=be(fs,1);if(i(QA,0,0,Ps),Sh){var eu=be(fs,1)+1,tu=be(fs,1),ec=be(fs,tu==0?1:8);QA[ec]=1,eu==2&&(QA[ec=be(fs,8)]=1);var Ur=1}else{var VA=l(19),lo=be(fs,4)+4;if(19<lo){Zo.a=3;var Ks=0;break n}for(Rs=0;Rs<lo;++Rs)VA[ao[Rs]]=be(fs,3);var rl=void 0,mi=void 0,Ha=Zo,tc=VA,nl=Ps,Ac=QA,rc=0,hs=Ha.m,Au=8,ru=d(128,I);r:for(;j(ru,0,7,tc,19);){if(be(hs,1)){var fd=2+2*be(hs,3);if((rl=2+be(hs,fd))>nl)break r}else rl=nl;for(mi=0;mi<nl&&rl--;){we(hs);var nu=ru[0+(127&$(hs))];oe(hs,hs.u+nu.g);var zs=nu.value;if(16>zs)Ac[mi++]=zs,zs!=0&&(Au=zs);else{var hd=zs==16,gd=zs-16,pd=$i[gd],au=be(hs,Dn[gd])+pd;if(mi+au>nl)break r;for(var md=hd?Au:0;0<au--;)Ac[mi++]=md}}rc=1;break r}rc||(Ha.a=3),Ur=rc}(Ur=Ur&&!fs.h)&&($o=j(Zc,$c,8,QA,Ps)),Ur&&$o!=0?Ks=$o:(Zo.a=3,Ks=0)}if(Ks==0)break A;if(An&&Go[Ct]==1&&(An=mt[Dt].g==0),zn+=mt[Dt].g,Dt+=Ks,3>=Ct){var wi,nc=zA[0];for(wi=1;wi<lr;++wi)zA[wi]>nc&&(nc=zA[wi]);cr+=nc}}if(bt.nd=An,bt.Qb=0,An&&(bt.qb=(aA[3][un[3]+0].value<<24|aA[1][un[1]+0].value<<16|aA[2][un[2]+0].value)>>>0,zn==0&&256>aA[0][un[0]+0].value&&(bt.Qb=1,bt.qb+=aA[0][un[0]+0].value<<8)),bt.jc=!bt.Qb&&6>cr,bt.jc){var oo,_a=bt;for(oo=0;oo<js;++oo){var gs=oo,ps=_a.pd[gs],ac=_a.G[0][_a.H[0]+gs];256<=ac.value?(ps.g=ac.g+256,ps.value=ac.value):(ps.g=0,ps.value=0,gs>>=rr(ac,8,ps),gs>>=rr(_a.G[1][_a.H[1]+gs],16,ps),gs>>=rr(_a.G[2][_a.H[2]+gs],0,ps),rr(_a.G[3][_a.H[3]+gs],24,ps))}}}ir.vc=Kt,ir.Wb=rA,ir.Ya=Gr,ir.yc=or,Je=1;break t}Je=0}if(!(z=Je)){S.a=3;break e}if(0<Ce){if(se.ua=1<<Ce,!re(se.Wa,Ce)){S.a=1,z=0;break e}}else se.ua=0;var sc=S,bi=G,wd=W,al=sc.s,sl=al.xc;if(sc.c=bi,sc.i=wd,al.md=ke(bi,sl),al.wc=sl==0?-1:(1<<sl)-1,B){S.xb=Ts;break e}if((he=l(G*W))==null){S.a=1,z=0;break e}z=(z=vn(S,he,0,G,W,W,null))&&!te.h;break e}return z?(O!=null?O[0]=he:(A(he==null),A(B)),S.$=0,B||Ln(se)):Ln(se),z}function ea(h,m){var B=h.c*h.i,S=B+m+16*m;return A(h.c<=m),h.V=l(S),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+B+m,1)}function Ns(h,m){var B=h.C,S=m-B,O=h.V,z=h.Ba+h.c*B;for(A(m<=h.l.o);0<S;){var G=16<S?16:S,W=h.l.ma,te=h.l.width,se=te*G,he=W.ca,Ce=W.tb+te*B,ae=h.Ta,me=h.Ua;Fs(h,G,O,z),Nn(ae,me,he,Ce,se),TA(W,B,B+G,he,Ce,te),S-=G,O+=G*h.c,B+=G}A(B==m),h.C=h.Ma=m}function ta(){this.ub=this.yd=this.td=this.Rb=0}function Aa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ai(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function va(){this.Yb=(function(){var h=[];return(function m(B,S,O){for(var z=O[S],G=0;G<z&&(B.push(O.length>S+1?[]:0),!(O.length<S+1));G++)m(B[G],S+1,O)})(h,0,[3,11]),h})()}function JA(){this.jb=l(3),this.Wc=u([4,8],va),this.Xc=u([4,17],va)}function _l(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function yn(){this.ld=this.La=this.dd=this.tc=0}function ra(){this.Na=this.la=0}function Ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Tl(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Il(){this.uc=this.M=this.Nb=0,this.wa=Array(new yn),this.Y=0,this.ya=Array(new Tl),this.aa=0,this.l=new qa}function Dl(){this.y=l(16),this.f=l(8),this.ea=l(8)}function So(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new ta,this.Kc=new Aa,this.ed=new _l,this.Qa=new Ai,this.Ic=this.$c=this.Aa=0,this.D=new Il,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,T),this.ia=0,this.pb=d(4,Ga),this.Pa=new JA,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dl),this.Hd=0,this.rb=Array(new ra),this.sb=0,this.wa=Array(new yn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Tl),this.L=this.aa=0,this.gd=u([4,2],yn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Bn(h,m){return 0>h?0:h>m?m:h}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function na(){var h=new So;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Sn||(Sn=Ss)),h}function sA(h,m,B){return h.a==0&&(h.a=m,h.sc=B,h.cb=0),0}function Ml(h,m,B){return 3<=B&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function ya(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return sA(h,2,"null VP8Io passed to VP8GetHeaders()");var B=m.data,S=m.w,O=m.ha;if(4>O)return sA(h,7,"Truncated header.");var z=B[S+0]|B[S+1]<<8|B[S+2]<<16,G=h.Od;if(G.Rb=!(1&z),G.td=z>>1&7,G.yd=z>>4&1,G.ub=z>>5,3<G.td)return sA(h,3,"Incorrect keyframe parameters.");if(!G.yd)return sA(h,4,"Frame not displayable.");S+=3,O-=3;var W=h.Kc;if(G.Rb){if(7>O)return sA(h,7,"cannot parse picture header");if(!Ml(B,S,O))return sA(h,3,"Bad code word");W.c=16383&(B[S+4]<<8|B[S+3]),W.Td=B[S+4]>>6,W.i=16383&(B[S+6]<<8|B[S+5]),W.Ud=B[S+6]>>6,S+=7,O-=7,h.za=W.c+15>>4,h.Ub=W.i+15>>4,m.width=W.c,m.height=W.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((z=h.Pa).jb,0,255,z.jb.length),A((z=h.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(G.ub>O)return sA(h,7,"bad partition length");R(z=h.m,B,S,G.ub),S+=G.ub,O-=G.ub,G.Rb&&(W.Ld=Ne(z),W.Kd=Ne(z)),W=h.Qa;var te,se=h.Pa;if(A(z!=null),A(W!=null),W.Cb=Ne(z),W.Cb){if(W.Bb=Ne(z),Ne(z)){for(W.Fb=Ne(z),te=0;4>te;++te)W.Zb[te]=Ne(z)?Z(z,7):0;for(te=0;4>te;++te)W.Lb[te]=Ne(z)?Z(z,6):0}if(W.Bb)for(te=0;3>te;++te)se.jb[te]=Ne(z)?Y(z,8):255}else W.Bb=0;if(z.Ka)return sA(h,3,"cannot parse segment header");if((W=h.ed).zd=Ne(z),W.Tb=Y(z,6),W.wb=Y(z,3),W.Pc=Ne(z),W.Pc&&Ne(z)){for(se=0;4>se;++se)Ne(z)&&(W.vd[se]=Z(z,6));for(se=0;4>se;++se)Ne(z)&&(W.od[se]=Z(z,6))}if(h.L=W.Tb==0?0:W.zd?1:2,z.Ka)return sA(h,3,"cannot parse filter header");var he=O;if(O=te=S,S=te+he,W=he,h.Xb=(1<<Y(h.m,2))-1,he<3*(se=h.Xb))B=7;else{for(te+=3*se,W-=3*se,he=0;he<se;++he){var Ce=B[O+0]|B[O+1]<<8|B[O+2]<<16;Ce>W&&(Ce=W),R(h.Jc[+he],B,te,Ce),te+=Ce,W-=Ce,O+=3}R(h.Jc[+se],B,te,W),B=te<S?0:5}if(B!=0)return sA(h,B,"cannot parse partitions");for(B=Y(te=h.m,7),O=Ne(te)?Z(te,4):0,S=Ne(te)?Z(te,4):0,W=Ne(te)?Z(te,4):0,se=Ne(te)?Z(te,4):0,te=Ne(te)?Z(te,4):0,he=h.Qa,Ce=0;4>Ce;++Ce){if(he.Cb){var ae=he.Zb[Ce];he.Fb||(ae+=B)}else{if(0<Ce){h.pb[Ce]=h.pb[0];continue}ae=B}var me=h.pb[Ce];me.Sc[0]=Rn[Bn(ae+O,127)],me.Sc[1]=Pn[Bn(ae+0,127)],me.Eb[0]=2*Rn[Bn(ae+S,127)],me.Eb[1]=101581*Pn[Bn(ae+W,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=Rn[Bn(ae+se,117)],me.Qc[1]=Pn[Bn(ae+te,127)],me.lc=ae+te}if(!G.Rb)return sA(h,4,"Not a key frame.");for(Ne(z),G=h.Pa,B=0;4>B;++B){for(O=0;8>O;++O)for(S=0;3>S;++S)for(W=0;11>W;++W)se=Le(z,EA[B][O][S][W])?Y(z,8):ud[B][O][S][W],G.Wc[B][O].Yb[S][W]=se;for(O=0;17>O;++O)G.Xc[B][O]=G.Wc[B][qt[O]]}return h.kc=Ne(z),h.kc&&(h.Bd=Y(z,8)),h.cb=1}function Ss(h,m,B,S,O,z,G){var W=m[O].Yb[B];for(B=0;16>O;++O){if(!Le(h,W[B+0]))return O;for(;!Le(h,W[B+1]);)if(W=m[++O].Yb[0],B=0,O==16)return 16;var te=m[O+1].Yb;if(Le(h,W[B+2])){var se=h,he=0;if(Le(se,(ae=W)[(Ce=B)+3]))if(Le(se,ae[Ce+6])){for(W=0,Ce=2*(he=Le(se,ae[Ce+8]))+(ae=Le(se,ae[Ce+9+he])),he=0,ae=cd[Ce];ae[W];++W)he+=he+Le(se,ae[W]);he+=3+(8<<Ce)}else Le(se,ae[Ce+7])?(he=7+2*Le(se,165),he+=Le(se,145)):he=5+Le(se,159);else he=Le(se,ae[Ce+4])?3+Le(se,ae[Ce+5]):2;W=te[2]}else he=1,W=te[1];te=G+Yc[O],0>(se=h).b&&Se(se);var Ce,ae=se.b,me=(Ce=se.Ca>>1)-(se.I>>ae)>>31;--se.b,se.Ca+=me,se.Ca|=1,se.I-=(Ce+1&me)<<ae,z[te]=((he^me)-me)*S[(0<O)+0]}return 16}function Ol(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Wr(h,m,B,S,O){O=h[m+B+32*S]+(O>>3),h[m+B+32*S]=-256&O?0>O?0:255:O}function fr(h,m,B,S,O,z){Wr(h,m,0,B,S+O),Wr(h,m,1,B,S+z),Wr(h,m,2,B,S-z),Wr(h,m,3,B,S-O)}function nr(h){return(20091*h>>16)+h}function Oi(h,m,B,S){var O,z=0,G=l(16);for(O=0;4>O;++O){var W=h[m+0]+h[m+8],te=h[m+0]-h[m+8],se=(35468*h[m+4]>>16)-nr(h[m+12]),he=nr(h[m+4])+(35468*h[m+12]>>16);G[z+0]=W+he,G[z+1]=te+se,G[z+2]=te-se,G[z+3]=W-he,z+=4,m++}for(O=z=0;4>O;++O)W=(h=G[z+0]+4)+G[z+8],te=h-G[z+8],se=(35468*G[z+4]>>16)-nr(G[z+12]),Wr(B,S,0,0,W+(he=nr(G[z+4])+(35468*G[z+12]>>16))),Wr(B,S,1,0,te+se),Wr(B,S,2,0,te-se),Wr(B,S,3,0,W-he),z++,S+=32}function Eo(h,m,B,S){var O=h[m+0]+4,z=35468*h[m+4]>>16,G=nr(h[m+4]),W=35468*h[m+1]>>16;fr(B,S,0,O+G,h=nr(h[m+1]),W),fr(B,S,1,O+z,h,W),fr(B,S,2,O-z,h,W),fr(B,S,3,O-G,h,W)}function Rl(h,m,B,S,O){Oi(h,m,B,S),O&&Oi(h,m+16,B,S+4)}function Zr(h,m,B,S){cs(h,m+0,B,S,1),cs(h,m+32,B,S+128,1)}function Pl(h,m,B,S){var O;for(h=h[m+0]+4,O=0;4>O;++O)for(m=0;4>m;++m)Wr(B,S,m,O,h)}function Kl(h,m,B,S){h[m+0]&&iA(h,m+0,B,S),h[m+16]&&iA(h,m+16,B,S+4),h[m+32]&&iA(h,m+32,B,S+128),h[m+48]&&iA(h,m+48,B,S+128+4)}function aa(h,m,B,S){var O,z=l(16);for(O=0;4>O;++O){var G=h[m+0+O]+h[m+12+O],W=h[m+4+O]+h[m+8+O],te=h[m+4+O]-h[m+8+O],se=h[m+0+O]-h[m+12+O];z[0+O]=G+W,z[8+O]=G-W,z[4+O]=se+te,z[12+O]=se-te}for(O=0;4>O;++O)G=(h=z[0+4*O]+3)+z[3+4*O],W=z[1+4*O]+z[2+4*O],te=z[1+4*O]-z[2+4*O],se=h-z[3+4*O],B[S+0]=G+W>>3,B[S+16]=se+te>>3,B[S+32]=G-W>>3,B[S+48]=se-te>>3,S+=64}function ri(h,m,B){var S,O=m-32,z=Kr,G=255-h[O-1];for(S=0;S<B;++S){var W,te=z,se=G+h[m-1];for(W=0;W<B;++W)h[m+W]=te[se+h[O+W]];m+=32}}function ko(h,m){ri(h,m,4)}function Lo(h,m){ri(h,m,8)}function zl(h,m){ri(h,m,16)}function Vl(h,m){var B;for(B=0;16>B;++B)a(h,m+32*B,h,m-32,16)}function jo(h,m){var B;for(B=16;0<B;--B)i(h,m,h[m-1],16),m+=32}function on(h,m,B){var S;for(S=0;16>S;++S)i(m,B+32*S,h,16)}function sa(h,m){var B,S=16;for(B=0;16>B;++B)S+=h[m-1+32*B]+h[m+B-32];on(S>>5,h,m)}function Xa(h,m){var B,S=8;for(B=0;16>B;++B)S+=h[m-1+32*B];on(S>>4,h,m)}function ni(h,m){var B,S=8;for(B=0;16>B;++B)S+=h[m+B-32];on(S>>4,h,m)}function Es(h,m){on(128,h,m)}function Bt(h,m,B){return h+2*m+B+2>>2}function Ho(h,m){var B,S=m-32;for(S=new Uint8Array([Bt(h[S-1],h[S+0],h[S+1]),Bt(h[S+0],h[S+1],h[S+2]),Bt(h[S+1],h[S+2],h[S+3]),Bt(h[S+2],h[S+3],h[S+4])]),B=0;4>B;++B)a(h,m+32*B,S,0,S.length)}function Gl(h,m){var B=h[m-1],S=h[m-1+32],O=h[m-1+64],z=h[m-1+96];Te(h,m+0,16843009*Bt(h[m-1-32],B,S)),Te(h,m+32,16843009*Bt(B,S,O)),Te(h,m+64,16843009*Bt(S,O,z)),Te(h,m+96,16843009*Bt(O,z,z))}function _o(h,m){var B,S=4;for(B=0;4>B;++B)S+=h[m+B-32]+h[m-1+32*B];for(S>>=3,B=0;4>B;++B)i(h,m+32*B,S,4)}function Cn(h,m){var B=h[m-1+0],S=h[m-1+32],O=h[m-1+64],z=h[m-1-32],G=h[m+0-32],W=h[m+1-32],te=h[m+2-32],se=h[m+3-32];h[m+0+96]=Bt(S,O,h[m-1+96]),h[m+1+96]=h[m+0+64]=Bt(B,S,O),h[m+2+96]=h[m+1+64]=h[m+0+32]=Bt(z,B,S),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=Bt(G,z,B),h[m+3+64]=h[m+2+32]=h[m+1+0]=Bt(W,G,z),h[m+3+32]=h[m+2+0]=Bt(te,W,G),h[m+3+0]=Bt(se,te,W)}function Sr(h,m){var B=h[m+1-32],S=h[m+2-32],O=h[m+3-32],z=h[m+4-32],G=h[m+5-32],W=h[m+6-32],te=h[m+7-32];h[m+0+0]=Bt(h[m+0-32],B,S),h[m+1+0]=h[m+0+32]=Bt(B,S,O),h[m+2+0]=h[m+1+32]=h[m+0+64]=Bt(S,O,z),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=Bt(O,z,G),h[m+3+32]=h[m+2+64]=h[m+1+96]=Bt(z,G,W),h[m+3+64]=h[m+2+96]=Bt(G,W,te),h[m+3+96]=Bt(W,te,te)}function ql(h,m){var B=h[m-1+0],S=h[m-1+32],O=h[m-1+64],z=h[m-1-32],G=h[m+0-32],W=h[m+1-32],te=h[m+2-32],se=h[m+3-32];h[m+0+0]=h[m+1+64]=z+G+1>>1,h[m+1+0]=h[m+2+64]=G+W+1>>1,h[m+2+0]=h[m+3+64]=W+te+1>>1,h[m+3+0]=te+se+1>>1,h[m+0+96]=Bt(O,S,B),h[m+0+64]=Bt(S,B,z),h[m+0+32]=h[m+1+96]=Bt(B,z,G),h[m+1+32]=h[m+2+96]=Bt(z,G,W),h[m+2+32]=h[m+3+96]=Bt(G,W,te),h[m+3+32]=Bt(W,te,se)}function ai(h,m){var B=h[m+0-32],S=h[m+1-32],O=h[m+2-32],z=h[m+3-32],G=h[m+4-32],W=h[m+5-32],te=h[m+6-32],se=h[m+7-32];h[m+0+0]=B+S+1>>1,h[m+1+0]=h[m+0+64]=S+O+1>>1,h[m+2+0]=h[m+1+64]=O+z+1>>1,h[m+3+0]=h[m+2+64]=z+G+1>>1,h[m+0+32]=Bt(B,S,O),h[m+1+32]=h[m+0+96]=Bt(S,O,z),h[m+2+32]=h[m+1+96]=Bt(O,z,G),h[m+3+32]=h[m+2+96]=Bt(z,G,W),h[m+3+64]=Bt(G,W,te),h[m+3+96]=Bt(W,te,se)}function Un(h,m){var B=h[m-1+0],S=h[m-1+32],O=h[m-1+64],z=h[m-1+96];h[m+0+0]=B+S+1>>1,h[m+2+0]=h[m+0+32]=S+O+1>>1,h[m+2+32]=h[m+0+64]=O+z+1>>1,h[m+1+0]=Bt(B,S,O),h[m+3+0]=h[m+1+32]=Bt(S,O,z),h[m+3+32]=h[m+1+64]=Bt(O,z,z),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=z}function si(h,m){var B=h[m-1+0],S=h[m-1+32],O=h[m-1+64],z=h[m-1+96],G=h[m-1-32],W=h[m+0-32],te=h[m+1-32],se=h[m+2-32];h[m+0+0]=h[m+2+32]=B+G+1>>1,h[m+0+32]=h[m+2+64]=S+B+1>>1,h[m+0+64]=h[m+2+96]=O+S+1>>1,h[m+0+96]=z+O+1>>1,h[m+3+0]=Bt(W,te,se),h[m+2+0]=Bt(G,W,te),h[m+1+0]=h[m+3+32]=Bt(B,G,W),h[m+1+32]=h[m+3+64]=Bt(S,B,G),h[m+1+64]=h[m+3+96]=Bt(O,S,B),h[m+1+96]=Bt(z,O,S)}function Ba(h,m){var B;for(B=0;8>B;++B)a(h,m+32*B,h,m-32,8)}function To(h,m){var B;for(B=0;8>B;++B)i(h,m,h[m-1],8),m+=32}function jn(h,m,B){var S;for(S=0;8>S;++S)i(m,B+32*S,h,8)}function Ri(h,m){var B,S=8;for(B=0;8>B;++B)S+=h[m+B-32]+h[m-1+32*B];jn(S>>4,h,m)}function Pi(h,m){var B,S=4;for(B=0;8>B;++B)S+=h[m+B-32];jn(S>>3,h,m)}function Br(h,m){var B,S=4;for(B=0;8>B;++B)S+=h[m-1+32*B];jn(S>>3,h,m)}function Ca(h,m){jn(128,h,m)}function Hn(h,m,B){var S=h[m-B],O=h[m+0],z=3*(O-S)+us[1020+h[m-2*B]-h[m+B]],G=Ao[112+(z+4>>3)];h[m-B]=Kr[255+S+Ao[112+(z+3>>3)]],h[m+0]=Kr[255+O-G]}function Ya(h,m,B,S){var O=h[m+0],z=h[m+B];return Lr[255+h[m-2*B]-h[m-B]]>S||Lr[255+z-O]>S}function Ki(h,m,B,S){return 4*Lr[255+h[m-B]-h[m+0]]+Lr[255+h[m-2*B]-h[m+B]]<=S}function ii(h,m,B,S,O){var z=h[m-3*B],G=h[m-2*B],W=h[m-B],te=h[m+0],se=h[m+B],he=h[m+2*B],Ce=h[m+3*B];return 4*Lr[255+W-te]+Lr[255+G-se]>S?0:Lr[255+h[m-4*B]-z]<=O&&Lr[255+z-G]<=O&&Lr[255+G-W]<=O&&Lr[255+Ce-he]<=O&&Lr[255+he-se]<=O&&Lr[255+se-te]<=O}function Ja(h,m,B,S){var O=2*S+1;for(S=0;16>S;++S)Ki(h,m+S,B,O)&&Hn(h,m+S,B)}function Wa(h,m,B,S){var O=2*S+1;for(S=0;16>S;++S)Ki(h,m+S*B,1,O)&&Hn(h,m+S*B,1)}function li(h,m,B,S){var O;for(O=3;0<O;--O)Ja(h,m+=4*B,B,S)}function Xl(h,m,B,S){var O;for(O=3;0<O;--O)Wa(h,m+=4,B,S)}function Za(h,m,B,S,O,z,G,W){for(z=2*z+1;0<O--;){if(ii(h,m,B,z,G))if(Ya(h,m,B,W))Hn(h,m,B);else{var te=h,se=m,he=B,Ce=te[se-2*he],ae=te[se-he],me=te[se+0],ye=te[se+he],He=te[se+2*he],Be=27*(De=us[1020+3*(me-ae)+us[1020+Ce-ye]])+63>>7,je=18*De+63>>7,De=9*De+63>>7;te[se-3*he]=Kr[255+te[se-3*he]+De],te[se-2*he]=Kr[255+Ce+je],te[se-he]=Kr[255+ae+Be],te[se+0]=Kr[255+me-Be],te[se+he]=Kr[255+ye-je],te[se+2*he]=Kr[255+He-De]}m+=S}}function $a(h,m,B,S,O,z,G,W){for(z=2*z+1;0<O--;){if(ii(h,m,B,z,G))if(Ya(h,m,B,W))Hn(h,m,B);else{var te=h,se=m,he=B,Ce=te[se-he],ae=te[se+0],me=te[se+he],ye=Ao[112+(4+(He=3*(ae-Ce))>>3)],He=Ao[112+(He+3>>3)],Be=ye+1>>1;te[se-2*he]=Kr[255+te[se-2*he]+Be],te[se-he]=Kr[255+Ce+He],te[se+0]=Kr[255+ae-ye],te[se+he]=Kr[255+me-Be]}m+=S}}function Io(h,m,B,S,O,z){Za(h,m,B,1,16,S,O,z)}function es(h,m,B,S,O,z){Za(h,m,1,B,16,S,O,z)}function Do(h,m,B,S,O,z){var G;for(G=3;0<G;--G)$a(h,m+=4*B,B,1,16,S,O,z)}function y(h,m,B,S,O,z){var G;for(G=3;0<G;--G)$a(h,m+=4,1,B,16,S,O,z)}function M(h,m,B,S,O,z,G,W){Za(h,m,O,1,8,z,G,W),Za(B,S,O,1,8,z,G,W)}function ie(h,m,B,S,O,z,G,W){Za(h,m,1,O,8,z,G,W),Za(B,S,1,O,8,z,G,W)}function fe(h,m,B,S,O,z,G,W){$a(h,m+4*O,O,1,8,z,G,W),$a(B,S+4*O,O,1,8,z,G,W)}function xe(h,m,B,S,O,z,G,W){$a(h,m+4,1,O,8,z,G,W),$a(B,S+4,1,O,8,z,G,W)}function Ie(){this.ba=new It,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new $t,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function at(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ut(){this.ua=0,this.Wa=new We,this.vb=new We,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new I}function Nt(){this.xb=this.a=0,this.l=new qa,this.ca=new It,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ut,this.ab=0,this.gc=d(4,at),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function eA(h,m,B,S,O,z,G){for(h=h==null?0:h[m+0],m=0;m<G;++m)O[z+m]=h+B[S+m]&255,h=O[z+m]}function IA(h,m,B,S,O,z,G){var W;if(h==null)eA(null,null,B,S,O,z,G);else for(W=0;W<G;++W)O[z+W]=h[m+W]+B[S+W]&255}function WA(h,m,B,S,O,z,G){if(h==null)eA(null,null,B,S,O,z,G);else{var W,te=h[m+0],se=te,he=te;for(W=0;W<G;++W)se=he+(te=h[m+W])-se,he=B[S+W]+(-256&se?0>se?0:255:se)&255,se=te,O[z+W]=he}}function BA(h,m,B,S){var O=m.width,z=m.o;if(A(h!=null&&m!=null),0>B||0>=S||B+S>z)return null;if(!h.Cc){if(h.ga==null){var G;if(h.ga=new Ht,(G=h.ga==null)||(G=m.width*m.o,A(h.Gb.length==0),h.Gb=l(G),h.Uc=0,h.Gb==null?G=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,G=1),G=!G),!G){G=h.ga;var W=h.Fa,te=h.P,se=h.qc,he=h.mb,Ce=h.nb,ae=te+1,me=se-1,ye=G.l;if(A(W!=null&&he!=null&&m!=null),ds[0]=null,ds[1]=eA,ds[2]=IA,ds[3]=WA,G.ca=he,G.tb=Ce,G.c=m.width,G.i=m.height,A(0<G.c&&0<G.i),1>=se)m=0;else if(G.$a=3&W[te+0],G.Z=W[te+0]>>2&3,G.Lc=W[te+0]>>4&3,te=W[te+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||te)m=0;else if(ye.put=pt,ye.ac=kn,ye.bc=Va,ye.ma=G,ye.width=m.width,ye.height=m.height,ye.Da=m.Da,ye.v=m.v,ye.va=m.va,ye.j=m.j,ye.o=m.o,G.$a)e:{A(G.$a==1),m=ti();t:for(;;){if(m==null){m=0;break e}if(A(G!=null),G.mc=m,m.c=G.c,m.i=G.i,m.l=G.l,m.l.ma=G,m.l.width=G.c,m.l.height=G.i,m.a=0,ue(m.m,W,ae,me),!$n(G.c,G.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&pA(m.s)?(G.ic=1,W=m.c*m.i,m.Ta=null,m.Ua=0,m.V=l(W),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(G.ic=0,m=ea(m,G.c)),!m))break t;m=1;break e}G.mc=null,m=0}else m=me>=G.c*G.i;G=!m}if(G)return null;h.ga.Lc!=1?h.Ga=0:S=z-B}A(h.ga!=null),A(B+S<=z);e:{if(m=(W=h.ga).c,z=W.l.o,W.$a==0){if(ae=h.rc,me=h.Vc,ye=h.Fa,te=h.P+1+B*m,se=h.mb,he=h.nb+B*m,A(te<=h.P+h.qc),W.Z!=0)for(A(ds[W.Z]!=null),G=0;G<S;++G)ds[W.Z](ae,me,ye,te,se,he,m),ae=se,me=he,he+=m,te+=m;else for(G=0;G<S;++G)a(se,he,ye,te,m),ae=se,me=he,he+=m,te+=m;h.rc=ae,h.Vc=me}else{if(A(W.mc!=null),m=B+S,A((G=W.mc)!=null),A(m<=G.i),G.C>=m)m=1;else if(W.ic||ia(),W.ic){W=G.V,ae=G.Ba,me=G.c;var He=G.i,Be=(ye=1,te=G.$/me,se=G.$%me,he=G.m,Ce=G.s,G.$),je=me*He,De=me*m,Ve=Ce.wc,Pe=Be<De?yr(Ce,se,te):null;A(Be<=je),A(m<=He),A(pA(Ce));t:for(;;){for(;!he.h&&Be<De;){if(se&Ve||(Pe=yr(Ce,se,te)),A(Pe!=null),we(he),256>(He=HA(Pe.G[0],Pe.H[0],he)))W[ae+Be]=He,++Be,++se>=me&&(se=0,++te<=m&&!(te%16)&&Rr(G,te));else{if(!(280>He)){ye=0;break t}He=bn(He-256,he);var it,et=HA(Pe.G[4],Pe.H[4],he);if(we(he),!(Be>=(et=xn(me,et=bn(et,he)))&&je-Be>=He)){ye=0;break t}for(it=0;it<He;++it)W[ae+Be+it]=W[ae+Be+it-et];for(Be+=He,se+=He;se>=me;)se-=me,++te<=m&&!(te%16)&&Rr(G,te);Be<De&&se&Ve&&(Pe=yr(Ce,se,te))}A(he.h==le(he))}Rr(G,te>m?m:te);break t}!ye||he.h&&Be<je?(ye=0,G.a=he.h?5:3):G.$=Be,m=ye}else m=vn(G,G.V,G.Ba,G.c,G.i,m,Ns);if(!m){S=0;break e}}B+S>=z&&(h.Cc=1),S=1}if(!S)return null;if(h.Cc&&((S=h.ga)!=null&&(S.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+B*O}function hr(h,m,B,S,O,z){for(;0<O--;){var G,W=h,te=m+(B?1:0),se=h,he=m+(B?0:3);for(G=0;G<S;++G){var Ce=se[he+4*G];Ce!=255&&(Ce*=32897,W[te+4*G+0]=W[te+4*G+0]*Ce>>23,W[te+4*G+1]=W[te+4*G+1]*Ce>>23,W[te+4*G+2]=W[te+4*G+2]*Ce>>23)}m+=z}}function ar(h,m,B,S,O){for(;0<S--;){var z;for(z=0;z<B;++z){var G=h[m+2*z+0],W=15&(se=h[m+2*z+1]),te=4369*W,se=(240&se|se>>4)*te>>16;h[m+2*z+0]=(240&G|G>>4)*te>>16&240|(15&G|G<<4)*te>>16>>4&15,h[m+2*z+1]=240&se|W}m+=O}}function Er(h,m,B,S,O,z,G,W){var te,se,he=255;for(se=0;se<O;++se){for(te=0;te<S;++te){var Ce=h[m+te];z[G+4*te]=Ce,he&=Ce}m+=B,G+=W}return he!=255}function ts(h,m,B,S,O){var z;for(z=0;z<O;++z)B[S+z]=h[m+z]>>8}function ia(){di=hr,Tn=ar,$l=Er,Nn=ts}function As(h,m,B){D[h]=function(S,O,z,G,W,te,se,he,Ce,ae,me,ye,He,Be,je,De,Ve){var Pe,it=Ve-1>>1,et=W[te+0]|se[he+0]<<16,kt=Ce[ae+0]|me[ye+0]<<16;A(S!=null);var nt=3*et+kt+131074>>2;for(m(S[O+0],255&nt,nt>>16,He,Be),z!=null&&(nt=3*kt+et+131074>>2,m(z[G+0],255&nt,nt>>16,je,De)),Pe=1;Pe<=it;++Pe){var Gt=W[te+Pe]|se[he+Pe]<<16,kA=Ce[ae+Pe]|me[ye+Pe]<<16,_t=et+Gt+kt+kA+524296,tt=_t+2*(Gt+kt)>>3;nt=tt+et>>1,et=(_t=_t+2*(et+kA)>>3)+Gt>>1,m(S[O+2*Pe-1],255&nt,nt>>16,He,Be+(2*Pe-1)*B),m(S[O+2*Pe-0],255&et,et>>16,He,Be+(2*Pe-0)*B),z!=null&&(nt=_t+kt>>1,et=tt+kA>>1,m(z[G+2*Pe-1],255&nt,nt>>16,je,De+(2*Pe-1)*B),m(z[G+2*Pe+0],255&et,et>>16,je,De+(2*Pe+0)*B)),et=Gt,kt=kA}1&Ve||(nt=3*et+kt+131074>>2,m(S[O+Ve-1],255&nt,nt>>16,He,Be+(Ve-1)*B),z!=null&&(nt=3*kt+et+131074>>2,m(z[G+Ve-1],255&nt,nt>>16,je,De+(Ve-1)*B)))}}function Yl(){Hr[Po]=gi,Hr[zr]=el,Hr[Ko]=Wc,Hr[In]=Xo,Hr[ro]=Is,Hr[Wi]=ja,Hr[Hs]=Ds,Hr[no]=el,Hr[zo]=Xo,Hr[Zi]=Is,Hr[Vo]=ja}function zi(h){return h&-16384?0>h?0:255:h>>Yo}function Ua(h,m){return zi((19077*h>>8)+(26149*m>>8)-14234)}function la(h,m,B){return zi((19077*h>>8)-(6419*m>>8)-(13320*B>>8)+8708)}function oi(h,m){return zi((19077*h>>8)+(33050*m>>8)-17685)}function rs(h,m,B,S,O){S[O+0]=Ua(h,B),S[O+1]=la(h,m,B),S[O+2]=oi(h,m)}function Cr(h,m,B,S,O){S[O+0]=oi(h,m),S[O+1]=la(h,m,B),S[O+2]=Ua(h,B)}function ks(h,m,B,S,O){var z=la(h,m,B);m=z<<3&224|oi(h,m)>>3,S[O+0]=248&Ua(h,B)|z>>5,S[O+1]=m}function Ls(h,m,B,S,O){var z=240&oi(h,m)|15;S[O+0]=240&Ua(h,B)|la(h,m,B)>>4,S[O+1]=z}function Vi(h,m,B,S,O){S[O+0]=255,rs(h,m,B,S,O+1)}function Qa(h,m,B,S,O){Cr(h,m,B,S,O),S[O+3]=255}function $r(h,m,B,S,O){rs(h,m,B,S,O),S[O+3]=255}function ns(h,m,B){D[h]=function(S,O,z,G,W,te,se,he,Ce){for(var ae=he+(-2&Ce)*B;he!=ae;)m(S[O+0],z[G+0],W[te+0],se,he),m(S[O+1],z[G+0],W[te+0],se,he+B),O+=2,++G,++te,he+=2*B;1&Ce&&m(S[O+0],z[G+0],W[te+0],se,he)}}function Gi(h,m,B){return B==0?h==0?m==0?6:5:m==0?4:0:B}function Jl(h,m,B,S,O){switch(h>>>30){case 3:cs(m,B,S,O,0);break;case 2:Pr(m,B,S,O);break;case 1:iA(m,B,S,O)}}function Qn(h,m){var B,S,O=m.M,z=m.Nb,G=h.oc,W=h.pc+40,te=h.oc,se=h.pc+584,he=h.oc,Ce=h.pc+600;for(B=0;16>B;++B)G[W+32*B-1]=129;for(B=0;8>B;++B)te[se+32*B-1]=129,he[Ce+32*B-1]=129;for(0<O?G[W-1-32]=te[se-1-32]=he[Ce-1-32]=129:(i(G,W-32-1,127,21),i(te,se-32-1,127,9),i(he,Ce-32-1,127,9)),S=0;S<h.za;++S){var ae=m.ya[m.aa+S];if(0<S){for(B=-1;16>B;++B)a(G,W+32*B-4,G,W+32*B+12,4);for(B=-1;8>B;++B)a(te,se+32*B-4,te,se+32*B+4,4),a(he,Ce+32*B-4,he,Ce+32*B+4,4)}var me=h.Gd,ye=h.Hd+S,He=ae.ad,Be=ae.Hc;if(0<O&&(a(G,W-32,me[ye].y,0,16),a(te,se-32,me[ye].f,0,8),a(he,Ce-32,me[ye].ea,0,8)),ae.Za){var je=G,De=W-32+16;for(0<O&&(S>=h.za-1?i(je,De,me[ye].y[15],4):a(je,De,me[ye+1].y,0,4)),B=0;4>B;B++)je[De+128+B]=je[De+256+B]=je[De+384+B]=je[De+0+B];for(B=0;16>B;++B,Be<<=2)je=G,De=W+er[B],KA[ae.Ob[B]](je,De),Jl(Be,He,16*+B,je,De)}else if(je=Gi(S,O,ae.Ob[0]),tn[je](G,W),Be!=0)for(B=0;16>B;++B,Be<<=2)Jl(Be,He,16*+B,G,W+er[B]);for(B=ae.Gc,je=Gi(S,O,ae.Dd),da[je](te,se),da[je](he,Ce),Be=He,je=te,De=se,255&(ae=0|B)&&(170&ae?_n(Be,256,je,De):tA(Be,256,je,De)),ae=he,Be=Ce,255&(B>>=8)&&(170&B?_n(He,320,ae,Be):tA(He,320,ae,Be)),O<h.Ub-1&&(a(me[ye].y,0,G,W+480,16),a(me[ye].f,0,te,se+224,8),a(me[ye].ea,0,he,Ce+224,8)),B=8*z*h.B,me=h.sa,ye=h.ta+16*S+16*z*h.R,He=h.qa,ae=h.ra+8*S+B,Be=h.Ha,je=h.Ia+8*S+B,B=0;16>B;++B)a(me,ye+B*h.R,G,W+32*B,16);for(B=0;8>B;++B)a(He,ae+B*h.B,te,se+32*B,8),a(Be,je+B*h.B,he,Ce+32*B,8)}}function oa(h,m,B,S,O,z,G,W,te){var se=[0],he=[0],Ce=0,ae=te!=null?te.kd:0,me=te??new Ke;if(h==null||12>B)return 7;me.data=h,me.w=m,me.ha=B,m=[m],B=[B],me.gb=[me.gb];e:{var ye=m,He=B,Be=me.gb;if(A(h!=null),A(He!=null),A(Be!=null),Be[0]=0,12<=He[0]&&!r(h,ye[0],"RIFF")){if(r(h,ye[0]+8,"WEBP")){Be=3;break e}var je=qe(h,ye[0]+4);if(12>je||4294967286<je){Be=3;break e}if(ae&&je>He[0]-8){Be=7;break e}Be[0]=je,ye[0]+=12,He[0]-=12}Be=0}if(Be!=0)return Be;for(je=0<me.gb[0],B=B[0];;){e:{var De=h;He=m,Be=B;var Ve=se,Pe=he,it=ye=[0];if((nt=Ce=[Ce])[0]=0,8>Be[0])Be=7;else{if(!r(De,He[0],"VP8X")){if(qe(De,He[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var et=qe(De,He[0]+8),kt=1+ze(De,He[0]+12);if(2147483648<=kt*(De=1+ze(De,He[0]+15))){Be=3;break e}it!=null&&(it[0]=et),Ve!=null&&(Ve[0]=kt),Pe!=null&&(Pe[0]=De),He[0]+=18,Be[0]-=18,nt[0]=1}Be=0}}if(Ce=Ce[0],ye=ye[0],Be!=0)return Be;if(He=!!(2&ye),!je&&Ce)return 3;if(z!=null&&(z[0]=!!(16&ye)),G!=null&&(G[0]=He),W!=null&&(W[0]=0),G=se[0],ye=he[0],Ce&&He&&te==null){Be=0;break}if(4>B){Be=7;break}if(je&&Ce||!je&&!Ce&&!r(h,m[0],"ALPH")){B=[B],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{et=h,Be=m,je=B;var nt=me.gb;Ve=me.na,Pe=me.P,it=me.Sa,kt=22,A(et!=null),A(je!=null),De=Be[0];var Gt=je[0];for(A(Ve!=null),A(it!=null),Ve[0]=null,Pe[0]=null,it[0]=0;;){if(Be[0]=De,je[0]=Gt,8>Gt){Be=7;break e}var kA=qe(et,De+4);if(4294967286<kA){Be=3;break e}var _t=8+kA+1&-2;if(kt+=_t,0<nt&&kt>nt){Be=3;break e}if(!r(et,De,"VP8 ")||!r(et,De,"VP8L")){Be=0;break e}if(Gt[0]<_t){Be=7;break e}r(et,De,"ALPH")||(Ve[0]=et,Pe[0]=De+8,it[0]=kA),De+=_t,Gt-=_t}}if(B=B[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],Be!=0)break}B=[B],me.Ja=[me.Ja],me.xa=[me.xa];e:if(nt=h,Be=m,je=B,Ve=me.gb[0],Pe=me.Ja,it=me.xa,et=Be[0],De=!r(nt,et,"VP8 "),kt=!r(nt,et,"VP8L"),A(nt!=null),A(je!=null),A(Pe!=null),A(it!=null),8>je[0])Be=7;else{if(De||kt){if(nt=qe(nt,et+4),12<=Ve&&nt>Ve-12){Be=3;break e}if(ae&&nt>je[0]-8){Be=7;break e}Pe[0]=nt,Be[0]+=8,je[0]-=8,it[0]=kt}else it[0]=5<=je[0]&&nt[et+0]==47&&!(nt[et+4]>>5),Pe[0]=je[0];Be=0}if(B=B[0],me.Ja=me.Ja[0],me.xa=me.xa[0],m=m[0],Be!=0)break;if(4294967286<me.Ja)return 3;if(W==null||He||(W[0]=me.xa?2:1),G=[G],ye=[ye],me.xa){if(5>B){Be=7;break}W=G,ae=ye,He=z,h==null||5>B?h=0:5<=B&&h[m+0]==47&&!(h[m+4]>>5)?(je=[0],nt=[0],Ve=[0],ue(Pe=new q,h,m,B),xa(Pe,je,nt,Ve)?(W!=null&&(W[0]=je[0]),ae!=null&&(ae[0]=nt[0]),He!=null&&(He[0]=Ve[0]),h=1):h=0):h=0}else{if(10>B){Be=7;break}W=ye,h==null||10>B||!Ml(h,m+3,B-3)?h=0:(ae=h[m+0]|h[m+1]<<8|h[m+2]<<16,He=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=me.Ja||!He||!h?h=0:(G&&(G[0]=He),W&&(W[0]=h),h=1))}if(!h||(G=G[0],ye=ye[0],Ce&&(se[0]!=G||he[0]!=ye)))return 3;te!=null&&(te[0]=me,te.offset=m-te.w,A(4294967286>m-te.w),A(te.offset==te.ha-B));break}return Be==0||Be==7&&Ce&&te==null?(z!=null&&(z[0]|=me.na!=null&&0<me.na.length),S!=null&&(S[0]=G),O!=null&&(O[0]=ye),0):Be}function as(h,m,B){var S=m.width,O=m.height,z=0,G=0,W=S,te=O;if(m.Da=h!=null&&0<h.Da,m.Da&&(W=h.cd,te=h.bd,z=h.v,G=h.j,11>B||(z&=-2,G&=-2),0>z||0>G||0>=W||0>=te||z+W>S||G+te>O))return 0;if(m.v=z,m.j=G,m.va=z+W,m.o=G+te,m.U=W,m.T=te,m.da=h!=null&&0<h.da,m.da){if(!Xe(W,te,B=[h.ib],z=[h.hb]))return 0;m.ib=B[0],m.hb=z[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*S/4&&m.hb<3*O/4,m.Kb=0),1}function Wl(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function ca(h,m,B,S){if(S==null||0>=h||0>=m)return 2;if(B!=null){if(B.Da){var O=B.cd,z=B.bd,G=-2&B.v,W=-2&B.j;if(0>G||0>W||0>=O||0>=z||G+O>h||W+z>m)return 2;h=O,m=z}if(B.da){if(!Xe(h,m,O=[B.ib],z=[B.hb]))return 2;h=O[0],m=z[0]}}S.width=h,S.height=m;e:{var te=S.width,se=S.height;if(h=S.S,0>=te||0>=se||!(h>=Po&&13>h))h=2;else{if(0>=S.Rd&&S.sd==null){G=z=O=m=0;var he=(W=te*Wo[h])*se;if(11>h||(z=(se+1)/2*(m=(te+1)/2),h==12&&(G=(O=te)*se)),(se=l(he+2*z+G))==null){h=1;break e}S.sd=se,11>h?((te=S.f.RGBA).eb=se,te.fb=0,te.A=W,te.size=he):((te=S.f.kb).y=se,te.O=0,te.fa=W,te.Fd=he,te.f=se,te.N=0+he,te.Ab=m,te.Cd=z,te.ea=se,te.W=0+he+z,te.Db=m,te.Ed=z,h==12&&(te.F=se,te.J=0+he+2*z),te.Tc=G,te.lb=O)}if(m=1,O=S.S,z=S.width,G=S.height,O>=Po&&13>O)if(11>O)h=S.f.RGBA,m&=(W=Math.abs(h.A))*(G-1)+z<=h.size,m&=W>=z*Wo[O],m&=h.eb!=null;else{h=S.f.kb,W=(z+1)/2,he=(G+1)/2,te=Math.abs(h.fa),se=Math.abs(h.Ab);var Ce=Math.abs(h.Db),ae=Math.abs(h.lb),me=ae*(G-1)+z;m&=te*(G-1)+z<=h.Fd,m&=se*(he-1)+W<=h.Cd,m=(m&=Ce*(he-1)+W<=h.Ed)&te>=z&se>=W&Ce>=W,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,O==12&&(m&=ae>=z,m&=me<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||B!=null&&B.fd&&(h=Wl(S)),h}var js=64,cn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],en=24,Fa=32,Na=8,ss=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(h){return h},D.Predictor2=function(h,m,B){return m[B+0]},D.Predictor3=function(h,m,B){return m[B+1]},D.Predictor4=function(h,m,B){return m[B-1]},D.Predictor5=function(h,m,B){return ot(ot(h,m[B+1]),m[B+0])},D.Predictor6=function(h,m,B){return ot(h,m[B-1])},D.Predictor7=function(h,m,B){return ot(h,m[B+0])},D.Predictor8=function(h,m,B){return ot(m[B-1],m[B+0])},D.Predictor9=function(h,m,B){return ot(m[B+0],m[B+1])},D.Predictor10=function(h,m,B){return ot(ot(h,m[B-1]),ot(m[B+0],m[B+1]))},D.Predictor11=function(h,m,B){var S=m[B+0];return 0>=Ft(S>>24&255,h>>24&255,(m=m[B-1])>>24&255)+Ft(S>>16&255,h>>16&255,m>>16&255)+Ft(S>>8&255,h>>8&255,m>>8&255)+Ft(255&S,255&h,255&m)?S:h},D.Predictor12=function(h,m,B){var S=m[B+0];return(yt((h>>24&255)+(S>>24&255)-((m=m[B-1])>>24&255))<<24|yt((h>>16&255)+(S>>16&255)-(m>>16&255))<<16|yt((h>>8&255)+(S>>8&255)-(m>>8&255))<<8|yt((255&h)+(255&S)-(255&m)))>>>0},D.Predictor13=function(h,m,B){var S=m[B-1];return(Mt((h=ot(h,m[B+0]))>>24&255,S>>24&255)<<24|Mt(h>>16&255,S>>16&255)<<16|Mt(h>>8&255,S>>8&255)<<8|Mt(255&h,255&S))>>>0};var qi=D.PredictorAdd0;D.PredictorAdd1=Ot,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Xi=D.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var ZA,Mo=D.ColorIndexInverseTransform,Sa=D.MapARGB,Ea=D.VP8LColorIndexInverseTransformAlpha,kr=D.MapAlpha,is=D.VP8LPredictorsAdd=[];is.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Yi,Ji,ls,os,ka,ci,Fn,cs,Pr,_n,iA,tA,CA,$A,La,ua,ui,Zl,Gc,id,ld,od,qc,Xc,di,Tn,$l,Nn,fi=l(511),Oo=l(2041),eo=l(225),to=l(767),Ro=0,us=Oo,Ao=eo,Kr=to,Lr=fi,Po=0,zr=1,Ko=2,In=3,ro=4,Wi=5,Hs=6,no=7,zo=8,Zi=9,Vo=10,Dn=[2,3,7],$i=[3,3,11],hi=[280,256,256,256,40],Go=[0,1,1,1,0],ao=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],On=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_s=8,Rn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pn=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sn=null,cd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yc=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ud=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jr=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tn=[],KA=[],da=[],Ts=1,Jc=2,ds=[],Hr=[];As("UpsampleRgbLinePair",rs,3),As("UpsampleBgrLinePair",Cr,3),As("UpsampleRgbaLinePair",$r,4),As("UpsampleBgraLinePair",Qa,4),As("UpsampleArgbLinePair",Vi,4),As("UpsampleRgba4444LinePair",Ls,2),As("UpsampleRgb565LinePair",ks,2);var gi=D.UpsampleRgbLinePair,Wc=D.UpsampleBgrLinePair,el=D.UpsampleRgbaLinePair,Xo=D.UpsampleBgraLinePair,Is=D.UpsampleArgbLinePair,ja=D.UpsampleRgba4444LinePair,Ds=D.UpsampleRgb565LinePair,Kn=16,tl=1<<Kn-1,pi=-227,Ms=482,Yo=6,Os=0,_r=l(256),Jo=l(256),dd=l(256),Qh=l(256),Fh=l(Ms-pi),Nh=l(Ms-pi);ns("YuvToRgbRow",rs,3),ns("YuvToBgrRow",Cr,3),ns("YuvToRgbaRow",$r,4),ns("YuvToBgraRow",Qa,4),ns("YuvToArgbRow",Vi,4),ns("YuvToRgba4444Row",Ls,2),ns("YuvToRgb565Row",ks,2);var er=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Al=[0,2,8],so=[8,7,6,4,4,2,2,2,1,1,1,1],io=1;this.WebPDecodeRGBA=function(h,m,B,S,O){var z=zr,G=new Ie,W=new It;G.ba=W,W.S=z,W.width=[W.width],W.height=[W.height];var te=W.width,se=W.height,he=new gt;if(he==null||h==null)var Ce=2;else A(he!=null),Ce=oa(h,m,B,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Ce!=0?te=0:(te!=null&&(te[0]=he.width[0]),se!=null&&(se[0]=he.height[0]),te=1),te){W.width=W.width[0],W.height=W.height[0],S!=null&&(S[0]=W.width),O!=null&&(O[0]=W.height);e:{if(S=new qa,(O=new Ke).data=h,O.w=m,O.ha=B,O.kd=1,m=[0],A(O!=null),((h=oa(O.data,O.w,O.ha,null,null,null,m,null,O))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(A(G!=null),S.data=O.data,S.w=O.w+O.offset,S.ha=O.ha-O.offset,S.put=pt,S.ac=kn,S.bc=Va,S.ma=G,O.xa){if((h=ti())==null){G=1;break e}if((function(ae,me){var ye=[0],He=[0],Be=[0];t:for(;;){if(ae==null)return 0;if(me==null)return ae.a=2,0;if(ae.l=me,ae.a=0,ue(ae.m,me.data,me.w,me.ha),!xa(ae.m,ye,He,Be)){ae.a=3;break t}if(ae.xb=Jc,me.width=ye[0],me.height=He[0],!$n(ye[0],He[0],1,ae,null))break t;return 1}return A(ae.a!=0),0})(h,S)){if(S=(m=ca(S.width,S.height,G.Oa,G.ba))==0){t:{S=h;A:for(;;){if(S==null){S=0;break t}if(A(S.s.yc!=null),A(S.s.Ya!=null),A(0<S.s.Wb),A((B=S.l)!=null),A((O=B.ma)!=null),S.xb!=0){if(S.ca=O.ba,S.tb=O.tb,A(S.ca!=null),!as(O.Oa,B,In)){S.a=2;break A}if(!ea(S,B.width)||B.da)break A;if((B.da||Ut(S.ca.S))&&ia(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&ia()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!re(S.s.vb,S.s.Wa.Xa)){S.a=1;break A}S.xb=0}if(!vn(S,S.V,S.Ba,S.c,S.i,B.o,Jr))break A;O.Dc=S.Ma,S=1;break t}A(S.a!=0),S=0}S=!S}S&&(m=h.a)}else m=h.a}else{if((h=new na)==null){G=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,ya(h,S)){if((m=ca(S.width,S.height,G.Oa,G.ba))==0){if(h.Aa=0,B=G.Oa,A((O=h)!=null),B!=null){if(0<(te=0>(te=B.Md)?0:100<te?255:255*te/100)){for(se=he=0;4>se;++se)12>(Ce=O.pb[se]).lc&&(Ce.ia=te*so[0>Ce.lc?0:Ce.lc]>>3),he|=Ce.ia;he&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=B.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(ae,me){if(ae==null)return 0;if(me==null)return sA(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!ya(ae,me))return 0;if(A(ae.cb),me.ac==null||me.ac(me)){me.ob&&(ae.L=0);var ye=Al[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=me.v-ye>>4,ae.zb=me.j-ye>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=me.o+15+ye>>4,ae.Hb=me.va+15+ye>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var He=ae.ed;for(ye=0;4>ye;++ye){var Be;if(ae.Qa.Cb){var je=ae.Qa.Lb[ye];ae.Qa.Fb||(je+=He.Tb)}else je=He.Tb;for(Be=0;1>=Be;++Be){var De=ae.gd[ye][Be],Ve=je;if(He.Pc&&(Ve+=He.vd[0],Be&&(Ve+=He.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var Pe=Ve;0<He.wb&&(Pe=4<He.wb?Pe>>2:Pe>>1)>9-He.wb&&(Pe=9-He.wb),1>Pe&&(Pe=1),De.dd=Pe,De.tc=2*Ve+Pe,De.ld=40<=Ve?2:15<=Ve?1:0}else De.tc=0;De.La=Be}}}ye=0}else sA(ae,6,"Frame setup failed"),ye=ae.a;if(ye=ye==0){if(ye){ae.$c=0,0<ae.Aa||(ae.Ic=io);t:{ye=ae.Ic,He=4*(Pe=ae.za);var it=32*Pe,et=Pe+1,kt=0<ae.L?Pe*(0<ae.Aa?2:1):0,nt=(ae.Aa==2?2:1)*Pe;if((De=He+832+(Be=3*(16*ye+Al[ae.L])/2*it)+(je=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=De)ye=0;else{if(De>ae.Vb){if(ae.Vb=0,ae.Ec=l(De),ae.Fc=0,ae.Ec==null){ye=sA(ae,1,"no memory during frame initialization.");break t}ae.Vb=De}De=ae.Ec,Ve=ae.Fc,ae.Ac=De,ae.Bc=Ve,Ve+=He,ae.Gd=d(it,Dl),ae.Hd=0,ae.rb=d(et+1,ra),ae.sb=1,ae.wa=kt?d(kt,yn):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Pe),A(!0),ae.oc=De,ae.pc=Ve,Ve+=832,ae.ya=d(nt,Tl),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Pe),ae.R=16*Pe,ae.B=8*Pe,Pe=(it=Al[ae.L])*ae.R,it=it/2*ae.B,ae.sa=De,ae.ta=Ve+Pe,ae.qa=ae.sa,ae.ra=ae.ta+16*ye*ae.R+it,ae.Ha=ae.qa,ae.Ia=ae.ra+8*ye*ae.B+it,ae.$c=0,Ve+=Be,ae.mb=je?De:null,ae.nb=je?Ve:null,A(Ve+je<=ae.Fc+ae.Vb),Ol(ae),i(ae.Ac,ae.Bc,0,He),ye=1}}if(ye){if(me.ka=0,me.y=ae.sa,me.O=ae.ta,me.f=ae.qa,me.N=ae.ra,me.ea=ae.Ha,me.Vd=ae.Ia,me.fa=ae.R,me.Rc=ae.B,me.F=null,me.J=0,!Ro){for(ye=-255;255>=ye;++ye)fi[255+ye]=0>ye?-ye:ye;for(ye=-1020;1020>=ye;++ye)Oo[1020+ye]=-128>ye?-128:127<ye?127:ye;for(ye=-112;112>=ye;++ye)eo[112+ye]=-16>ye?-16:15<ye?15:ye;for(ye=-255;510>=ye;++ye)to[255+ye]=0>ye?0:255<ye?255:ye;Ro=1}Fn=aa,cs=Rl,_n=Zr,iA=Pl,tA=Kl,Pr=Eo,CA=Io,$A=es,La=M,ua=ie,ui=Do,Zl=y,Gc=fe,id=xe,ld=Ja,od=Wa,qc=li,Xc=Xl,KA[0]=_o,KA[1]=ko,KA[2]=Ho,KA[3]=Gl,KA[4]=Cn,KA[5]=ql,KA[6]=Sr,KA[7]=ai,KA[8]=si,KA[9]=Un,tn[0]=sa,tn[1]=zl,tn[2]=Vl,tn[3]=jo,tn[4]=Xa,tn[5]=ni,tn[6]=Es,da[0]=Ri,da[1]=Lo,da[2]=Ba,da[3]=To,da[4]=Br,da[5]=Pi,da[6]=Ca,ye=1}else ye=0}ye&&(ye=(function(Gt,kA){for(Gt.M=0;Gt.M<Gt.Va;++Gt.M){var _t,tt=Gt.Jc[Gt.M&Gt.Xb],Je=Gt.m,DA=Gt;for(_t=0;_t<DA.za;++_t){var Ct=Je,Dt=DA,uA=Dt.Ac,gr=Dt.Bc+4*_t,Tr=Dt.zc,UA=Dt.ya[Dt.aa+_t];if(Dt.Qa.Bb?UA.$b=Le(Ct,Dt.Pa.jb[0])?2+Le(Ct,Dt.Pa.jb[2]):Le(Ct,Dt.Pa.jb[1]):UA.$b=0,Dt.kc&&(UA.Ad=Le(Ct,Dt.Bd)),UA.Za=!Le(Ct,145)+0,UA.Za){var sr=UA.Ob,Vr=0;for(Dt=0;4>Dt;++Dt){var ir,Kt=Tr[0+Dt];for(ir=0;4>ir;++ir){Kt=jr[uA[gr+ir]][Kt];for(var rA=qo[Le(Ct,Kt[0])];0<rA;)rA=qo[2*rA+Le(Ct,Kt[rA])];Kt=-rA,uA[gr+ir]=Kt}a(sr,Vr,uA,gr,4),Vr+=4,Tr[0+Dt]=Kt}}else Kt=Le(Ct,156)?Le(Ct,128)?1:3:Le(Ct,163)?2:0,UA.Ob[0]=Kt,i(uA,gr,Kt,4),i(Tr,0,Kt,4);UA.Dd=Le(Ct,142)?Le(Ct,114)?Le(Ct,183)?1:3:2:0}if(DA.m.Ka)return sA(Gt,7,"Premature end-of-partition0 encountered.");for(;Gt.ja<Gt.za;++Gt.ja){if(DA=tt,Ct=(Je=Gt).rb[Je.sb-1],uA=Je.rb[Je.sb+Je.ja],_t=Je.ya[Je.aa+Je.ja],gr=Je.kc?_t.Ad:0)Ct.la=uA.la=0,_t.Za||(Ct.Na=uA.Na=0),_t.Hc=0,_t.Gc=0,_t.ia=0;else{var MA,lA;if(Ct=uA,uA=DA,gr=Je.Pa.Xc,Tr=Je.ya[Je.aa+Je.ja],UA=Je.pb[Tr.$b],Dt=Tr.ad,sr=0,Vr=Je.rb[Je.sb-1],Kt=ir=0,i(Dt,sr,0,384),Tr.Za)var pr=0,OA=gr[3];else{rA=l(16);var nA=Ct.Na+Vr.Na;if(nA=Sn(uA,gr[1],nA,UA.Eb,0,rA,0),Ct.Na=Vr.Na=(0<nA)+0,1<nA)Fn(rA,0,Dt,sr);else{var tr=rA[0]+3>>3;for(rA=0;256>rA;rA+=16)Dt[sr+rA]=tr}pr=1,OA=gr[0]}var dA=15&Ct.la,lr=15&Vr.la;for(rA=0;4>rA;++rA){var or=1&lr;for(tr=lA=0;4>tr;++tr)dA=dA>>1|(or=(nA=Sn(uA,OA,nA=or+(1&dA),UA.Sc,pr,Dt,sr))>pr)<<7,lA=lA<<2|(3<nA?3:1<nA?2:Dt[sr+0]!=0),sr+=16;dA>>=4,lr=lr>>1|or<<7,ir=(ir<<8|lA)>>>0}for(OA=dA,pr=lr>>4,MA=0;4>MA;MA+=2){for(lA=0,dA=Ct.la>>4+MA,lr=Vr.la>>4+MA,rA=0;2>rA;++rA){for(or=1&lr,tr=0;2>tr;++tr)nA=or+(1&dA),dA=dA>>1|(or=0<(nA=Sn(uA,gr[2],nA,UA.Qc,0,Dt,sr)))<<3,lA=lA<<2|(3<nA?3:1<nA?2:Dt[sr+0]!=0),sr+=16;dA>>=2,lr=lr>>1|or<<5}Kt|=lA<<4*MA,OA|=dA<<4<<MA,pr|=(240&lr)<<MA}Ct.la=OA,Vr.la=pr,Tr.Hc=ir,Tr.Gc=Kt,Tr.ia=43690&Kt?0:UA.ia,gr=!(ir|Kt)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[_t.$b][_t.Za],Je.wa[Je.Y+Je.ja].La|=!gr),DA.Ka)return sA(Gt,7,"Premature end-of-file encountered.")}if(Ol(Gt),Je=kA,DA=1,_t=(tt=Gt).D,Ct=0<tt.L&&tt.M>=tt.zb&&tt.M<=tt.Va,tt.Aa==0)t:{if(_t.M=tt.M,_t.uc=Ct,Qn(tt,_t),DA=1,_t=(lA=tt.D).Nb,Ct=(Kt=Al[tt.L])*tt.R,uA=Kt/2*tt.B,rA=16*_t*tt.R,tr=8*_t*tt.B,gr=tt.sa,Tr=tt.ta-Ct+rA,UA=tt.qa,Dt=tt.ra-uA+tr,sr=tt.Ha,Vr=tt.Ia-uA+tr,lr=(dA=lA.M)==0,ir=dA>=tt.Va-1,tt.Aa==2&&Qn(tt,lA),lA.uc)for(or=(nA=tt).D.M,A(nA.D.uc),lA=nA.yb;lA<nA.Hb;++lA){pr=lA,OA=or;var mA=(AA=(cr=nA).D).Nb;MA=cr.R;var AA=AA.wa[AA.Y+pr],Gr=cr.sa,zA=cr.ta+16*mA*MA+16*pr,mt=AA.dd,bt=AA.tc;if(bt!=0)if(A(3<=bt),cr.L==1)0<pr&&od(Gr,zA,MA,bt+4),AA.La&&Xc(Gr,zA,MA,bt),0<OA&&ld(Gr,zA,MA,bt+4),AA.La&&qc(Gr,zA,MA,bt);else{var aA=cr.B,un=cr.qa,zn=cr.ra+8*mA*aA+8*pr,An=cr.Ha,cr=cr.Ia+8*mA*aA+8*pr;mA=AA.ld,0<pr&&($A(Gr,zA,MA,bt+4,mt,mA),ua(un,zn,An,cr,aA,bt+4,mt,mA)),AA.La&&(Zl(Gr,zA,MA,bt,mt,mA),id(un,zn,An,cr,aA,bt,mt,mA)),0<OA&&(CA(Gr,zA,MA,bt+4,mt,mA),La(un,zn,An,cr,aA,bt+4,mt,mA)),AA.La&&(ui(Gr,zA,MA,bt,mt,mA),Gc(un,zn,An,cr,aA,bt,mt,mA))}}if(tt.ia&&alert("todo:DitherRow"),Je.put!=null){if(lA=16*dA,dA=16*(dA+1),lr?(Je.y=tt.sa,Je.O=tt.ta+rA,Je.f=tt.qa,Je.N=tt.ra+tr,Je.ea=tt.Ha,Je.W=tt.Ia+tr):(lA-=Kt,Je.y=gr,Je.O=Tr,Je.f=UA,Je.N=Dt,Je.ea=sr,Je.W=Vr),ir||(dA-=Kt),dA>Je.o&&(dA=Je.o),Je.F=null,Je.J=null,tt.Fa!=null&&0<tt.Fa.length&&lA<dA&&(Je.J=BA(tt,Je,lA,dA-lA),Je.F=tt.mb,Je.F==null&&Je.F.length==0)){DA=sA(tt,3,"Could not decode alpha data.");break t}lA<Je.j&&(Kt=Je.j-lA,lA=Je.j,A(!(1&Kt)),Je.O+=tt.R*Kt,Je.N+=tt.B*(Kt>>1),Je.W+=tt.B*(Kt>>1),Je.F!=null&&(Je.J+=Je.width*Kt)),lA<dA&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=lA-Je.j,Je.U=Je.va-Je.v,Je.T=dA-lA,DA=Je.put(Je))}_t+1!=tt.Ic||ir||(a(tt.sa,tt.ta-Ct,gr,Tr+16*tt.R,Ct),a(tt.qa,tt.ra-uA,UA,Dt+8*tt.B,uA),a(tt.Ha,tt.Ia-uA,sr,Vr+8*tt.B,uA))}if(!DA)return sA(Gt,6,"Output aborted.")}return 1})(ae,me)),me.bc!=null&&me.bc(me),ye&=1}return ye?(ae.cb=0,ye):0})(h,S)||(m=h.a)}}else m=h.a}m==0&&G.Oa!=null&&G.Oa.fd&&(m=Wl(G.ba))}G=m}z=G!=0?null:11>z?W.f.RGBA.eb:W.f.kb.y}else z=null;return z};var Wo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(D,ee){for(var Q="",j=0;j<4;j++)Q+=String.fromCharCode(D[ee++]);return Q}function w(D,ee){return D[ee+0]|D[ee+1]<<8}function v(D,ee){return(D[ee+0]|D[ee+1]<<8|D[ee+2]<<16)>>>0}function C(D,ee){return(D[ee+0]|D[ee+1]<<8|D[ee+2]<<16|D[ee+3]<<24)>>>0}new f;var b=[0],U=[0],F=[],L=new f,N=t,H=(function(D,ee){var Q={},j=0,I=!1,K=0,ce=0;if(Q.frames=[],!(function(T,q){for(var $=0;$<4;$++)if(T[q+$]!="RIFF".charCodeAt($))return!0;return!1})(D,ee)){for(C(D,ee+=4),ee+=8;ee<D.length;){var R=g(D,ee),Y=C(D,ee+=4);ee+=4;var Z=Y+(1&Y);switch(R){case"VP8 ":case"VP8L":Q.frames[j]===void 0&&(Q.frames[j]={}),(be=Q.frames[j]).src_off=I?ce:ee-8,be.src_size=K+Y+8,j++,I&&(I=!1,K=0,ce=0);break;case"VP8X":(be=Q.header={}).feature_flags=D[ee];var ue=ee+4;be.canvas_width=1+v(D,ue),ue+=3,be.canvas_height=1+v(D,ue),ue+=3;break;case"ALPH":I=!0,K=Z+8,ce=ee-8;break;case"ANIM":(be=Q.header).bgcolor=C(D,ee),ue=ee+4,be.loop_count=w(D,ue),ue+=2;break;case"ANMF":var ge,be;(be=Q.frames[j]={}).offset_x=2*v(D,ee),ee+=3,be.offset_y=2*v(D,ee),ee+=3,be.width=1+v(D,ee),ee+=3,be.height=1+v(D,ee),ee+=3,be.duration=v(D,ee),ee+=3,ge=D[ee++],be.dispose=1&ge,be.blend=ge>>1&1}R!="ANMF"&&(ee+=Z)}return Q}})(N,0);H.response=N,H.rgbaoutput=!0,H.dataurl=!1;var _=H.header?H.header:null,k=H.frames?H.frames:null;if(_){_.loop_counter=_.loop_count,b=[_.canvas_height],U=[_.canvas_width];for(var V=0;V<k.length&&k[V].blend!=0;V++);}var Ae=k[0],ne=L.WebPDecodeRGBA(N,Ae.src_off,Ae.src_size,U,b);Ae.rgba=ne,Ae.imgwidth=U[0],Ae.imgheight=b[0];for(var J=0;J<U[0]*b[0]*4;J++)F[J]=ne[J];return this.width=U,this.height=b,this.data=F,this}(function(t){var A,r,a,i,l,d,u,f,g,w=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new f,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new d,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new d,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),A=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,g=new w}]);var v=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=T;Object.defineProperty(this,"pdf",{get:function(){return q}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(re){$=!!re}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(re){le=!!re}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(re){isNaN(re)||(oe=re)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(re){isNaN(re)||(we=re)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(re){var Ge;typeof re=="number"?Ge=[re,re,re,re]:((Ge=new Array(4))[0]=re[0],Ge[1]=re.length>=2?re[1]:Ge[0],Ge[2]=re.length>=3?re[2]:Ge[0],Ge[3]=re.length>=4?re[3]:Ge[1]),g.margin=Ge}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(re){Se=re}});var Ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ne},set:function(re){Ne=re}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(re){Le=re}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(re){re instanceof w&&(g=re)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(re){g.path=re}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(re){Te=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var Ge;Ge=C(re),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=Ge.a===0,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var Ge=C(re);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=Ge.a===0,this.ctx.strokeOpacity=Ge.a,Ge.a===0?this.pdf.setDrawColor(255,255,255):(Ge.a,this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Oe=null,ze=null,qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(re){Oe=null,ze=null,qe=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var Ge;if(this.ctx.font=re,(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var We=Ge[1];Ge[2];var Xe=Ge[3],ke=Ge[4];Ge[5];var Ze=Ge[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Ye==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var rt=(function(ht){var YA,zt,vt=[],St=ht.trim();if(St==="")return ig;if(St in iw)return[iw[St]];for(;St!=="";){switch(zt=null,YA=(St=ow(St)).charAt(0)){case'"':case"'":zt=IC(St.substring(1),YA);break;default:zt=DC(St)}if(zt===null||(vt.push(zt[0]),(St=ow(zt[1]))!==""&&St.charAt(0)!==","))return ig;St=St.replace(/^,/,"")}return vt})(Ze);if(this.fontFaces){var ot=(function(ht,YA){var zt=ht.getFontList(),vt=JSON.stringify(zt);if(Oe===null||ze!==vt){var St=(function(Vt){var wt=[];return Object.keys(Vt).forEach(function(yA){Vt[yA].forEach(function(Ut){var Et=null;switch(Ut){case"bold":Et={family:yA,weight:"bold"};break;case"italic":Et={family:yA,style:"italic"};break;case"bolditalic":Et={family:yA,weight:"bold",style:"italic"};break;case"":case"normal":Et={family:yA}}Et!==null&&(Et.ref={name:yA,style:Ut},wt.push(Et))})}),wt})(zt);Oe=(function(Vt){for(var wt={},yA=0;yA<Vt.length;++yA){var Ut=sg(Vt[yA]),Et=Ut.family,gA=Ut.stretch,It=Ut.style,gt=Ut.weight;wt[Et]=wt[Et]||{},wt[Et][gA]=wt[Et][gA]||{},wt[Et][gA][It]=wt[Et][gA][It]||{},wt[Et][gA][It][gt]=Ut}return wt})(St.concat(YA)),ze=vt}return Oe})(this.pdf,this.fontFaces),yt=rt.map(function(ht){return{family:ht,stretch:"normal",weight:Xe,style:We}}),Mt=(function(ht,YA,zt){for(var vt=(zt=zt||{}).defaultFontFamily||"times",St=Object.assign({},TC,zt.genericFontFamilies||{}),Vt=null,wt=null,yA=0;yA<YA.length;++yA)if(St[(Vt=sg(YA[yA])).family]&&(Vt.family=St[Vt.family]),ht.hasOwnProperty(Vt.family)){wt=ht[Vt.family];break}if(!(wt=wt||ht[vt]))throw new Error("Could not find a font-family for the rule '"+lw(Vt)+"' and default family '"+vt+"'.");if(wt=(function(Ut,Et){if(Et[Ut])return Et[Ut];var gA=Gg[Ut],It=gA<=Gg.normal?-1:1,gt=sw(Et,Fx,gA,It);if(!gt)throw new Error("Could not find a matching font-stretch value for "+Ut);return gt})(Vt.stretch,wt),wt=(function(Ut,Et){if(Et[Ut])return Et[Ut];for(var gA=Qx[Ut],It=0;It<gA.length;++It)if(Et[gA[It]])return Et[gA[It]];throw new Error("Could not find a matching font-style for "+Ut)})(Vt.style,wt),!(wt=(function(Ut,Et){if(Et[Ut])return Et[Ut];if(Ut===400&&Et[500])return Et[500];if(Ut===500&&Et[400])return Et[400];var gA=_C[Ut],It=sw(Et,Nx,gA,Ut<400?-1:1);if(!It)throw new Error("Could not find a matching font-weight for value "+Ut);return It})(Vt.weight,wt)))throw new Error("Failed to resolve a font for the rule '"+lw(Vt)+"'.");return wt})(ot,yt);this.pdf.setFont(Mt.ref.name,Mt.ref.style)}else{var Ft="";(Xe==="bold"||parseInt(Xe,10)>=700||We==="bold")&&(Ft="bold"),We==="italic"&&(Ft+="italic"),Ft.length===0&&(Ft="normal");for(var Ot="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<rt.length;ct++){if(this.pdf.internal.getFont(rt[ct],Ft,{noFallback:!0,disableWarning:!0})!==void 0){Ot=rt[ct];break}if(Ft==="bolditalic"&&this.pdf.internal.getFont(rt[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=rt[ct],Ft="bold";else if(this.pdf.internal.getFont(rt[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=rt[ct],Ft="normal";break}}if(Ot===""){for(var jt=0;jt<rt.length;jt++)if(Rt[rt[jt]]){Ot=Rt[rt[jt]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,Ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};v.prototype.setLineDash=function(T){this.lineDash=T},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){k.call(this,"fill",!1)},v.prototype.stroke=function(){k.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(T,q){if(isNaN(T)||isNaN(q))throw jA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new d(T,q));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new d(T,q)},v.prototype.closePath=function(){var T=new d(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&vA(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){T=new d(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(T.x,T.y)},v.prototype.lineTo=function(T,q){if(isNaN(T)||isNaN(q))throw jA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new d(T,q));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new d($.x,$.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},v.prototype.quadraticCurveTo=function(T,q,$,le){if(isNaN($)||isNaN(le)||isNaN(T)||isNaN(q))throw jA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new d($,le)),we=this.ctx.transform.applyToPoint(new d(T,q));this.path.push({type:"qct",x1:we.x,y1:we.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new d(oe.x,oe.y)},v.prototype.bezierCurveTo=function(T,q,$,le,oe,we){if(isNaN(oe)||isNaN(we)||isNaN(T)||isNaN(q)||isNaN($)||isNaN(le))throw jA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new d(oe,we)),Ne=this.ctx.transform.applyToPoint(new d(T,q)),Le=this.ctx.transform.applyToPoint(new d($,le));this.path.push({type:"bct",x1:Ne.x,y1:Ne.y,x2:Le.x,y2:Le.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new d(Se.x,Se.y)},v.prototype.arc=function(T,q,$,le,oe,we){if(isNaN(T)||isNaN(q)||isNaN($)||isNaN(le)||isNaN(oe))throw jA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new d(T,q));T=Se.x,q=Se.y;var Ne=this.ctx.transform.applyToPoint(new d(0,$)),Le=this.ctx.transform.applyToPoint(new d(0,0));$=Math.sqrt(Math.pow(Ne.x-Le.x,2)+Math.pow(Ne.y-Le.y,2))}Math.abs(oe-le)>=2*Math.PI&&(le=0,oe=2*Math.PI),this.path.push({type:"arc",x:T,y:q,radius:$,startAngle:le,endAngle:oe,counterclockwise:we})},v.prototype.arcTo=function(T,q,$,le,oe){throw new Error("arcTo not implemented.")},v.prototype.rect=function(T,q,$,le){if(isNaN(T)||isNaN(q)||isNaN($)||isNaN(le))throw jA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,q),this.lineTo(T+$,q),this.lineTo(T+$,q+le),this.lineTo(T,q+le),this.lineTo(T,q),this.lineTo(T+$,q),this.lineTo(T,q)},v.prototype.fillRect=function(T,q,$,le){if(isNaN(T)||isNaN(q)||isNaN($)||isNaN(le))throw jA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,q,$,le),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},v.prototype.strokeRect=function(T,q,$,le){if(isNaN(T)||isNaN(q)||isNaN($)||isNaN(le))throw jA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");U.call(this)||(this.beginPath(),this.rect(T,q,$,le),this.stroke())},v.prototype.clearRect=function(T,q,$,le){if(isNaN(T)||isNaN(q)||isNaN($)||isNaN(le))throw jA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,q,$,le))},v.prototype.save=function(T){T=typeof T!="boolean"||T;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},v.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(q),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(T){var q,$,le,oe;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))q=0,$=0,le=0,oe=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(we!==null)q=parseInt(we[1]),$=parseInt(we[2]),le=parseInt(we[3]),oe=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)q=parseInt(we[1]),$=parseInt(we[2]),le=parseInt(we[3]),oe=parseFloat(we[4]);else{if(oe=1,typeof T=="string"&&T.charAt(0)!=="#"){var Se=new bx(T);T=Se.ok?Se.toHex():"#000000"}T.length===4?(q=T.substring(1,2),q+=q,$=T.substring(2,3),$+=$,le=T.substring(3,4),le+=le):(q=T.substring(1,3),$=T.substring(3,5),le=T.substring(5,7)),q=parseInt(q,16),$=parseInt($,16),le=parseInt(le,16)}}return{r:q,g:$,b:le,a:oe,style:T}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},U=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(T,q,$,le){if(isNaN(q)||isNaN($)||typeof T!="string")throw jA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!b.call(this)){var oe=Z(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:T,x:q,y:$,scale:we,angle:oe,align:this.textAlign,maxWidth:le})}},v.prototype.strokeText=function(T,q,$,le){if(isNaN(q)||isNaN($)||typeof T!="string")throw jA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!U.call(this)){le=isNaN(le)?void 0:le;var oe=Z(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;j.call(this,{text:T,x:q,y:$,scale:we,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:le})}},v.prototype.measureText=function(T){if(typeof T!="string")throw jA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,$=this.pdf.internal.scaleFactor,le=q.internal.getFontSize(),oe=q.getStringUnitWidth(T)*le/q.internal.scaleFactor;return new function(we){var Se=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:oe*=Math.round(96*$/72*1e4)/1e4})},v.prototype.scale=function(T,q){if(isNaN(T)||isNaN(q))throw jA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new f(T,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.rotate=function(T){if(isNaN(T))throw jA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new f(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.translate=function(T,q){if(isNaN(T)||isNaN(q))throw jA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new f(1,0,0,1,T,q);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.transform=function(T,q,$,le,oe,we){if(isNaN(T)||isNaN(q)||isNaN($)||isNaN(le)||isNaN(oe)||isNaN(we))throw jA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new f(T,q,$,le,oe,we);this.ctx.transform=this.ctx.transform.multiply(Se)},v.prototype.setTransform=function(T,q,$,le,oe,we){T=isNaN(T)?1:T,q=isNaN(q)?0:q,$=isNaN($)?0:$,le=isNaN(le)?1:le,oe=isNaN(oe)?0:oe,we=isNaN(we)?0:we,this.ctx.transform=new f(T,q,$,le,oe,we)};var F=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(T,q,$,le,oe,we,Se,Ne,Le){var Te=this.pdf.getImageProperties(T),Oe=1,ze=1,qe=1,re=1;le!==void 0&&Ne!==void 0&&(qe=Ne/le,re=Le/oe,Oe=Te.width/le*Ne/le,ze=Te.height/oe*Le/oe),we===void 0&&(we=q,Se=$,q=0,$=0),le!==void 0&&Ne===void 0&&(Ne=le,Le=oe),le===void 0&&Ne===void 0&&(Ne=Te.width,Le=Te.height);var Ge=this.ctx.transform.decompose(),We=Z(Ge.rotate.shx),Xe=new f,ke=(Xe=(Xe=(Xe=Xe.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new u(we-q*qe,Se-$*re,le*Oe,oe*ze));if(this.autoPaging){for(var Ze,Ye=L.call(this,ke),rt=[],ot=0;ot<Ye.length;ot+=1)rt.indexOf(Ye[ot])===-1&&rt.push(Ye[ot]);_(rt);for(var yt=rt[0],Mt=rt[rt.length-1],Ft=yt;Ft<Mt+1;Ft++){this.pdf.setPage(Ft);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=Ft===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Ft===1?0:ct+(Ft-2)*jt;if(this.ctx.clip_path.length!==0){var YA=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Ze,this.posX+this.margin[3],-ht+Rt+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=YA}var zt=JSON.parse(JSON.stringify(ke));zt=H([zt],this.posX+this.margin[3],-ht+Rt+this.ctx.prevPageLastElemOffset)[0];var vt=(Ft>yt||Ft<Mt)&&F.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,jt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,We),vt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,We)};var L=function(T,q,$){var le=[];q=q||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":le.push(Math.floor((T.y+oe)/$)+1);break;case"arc":le.push(Math.floor((T.y+oe-T.radius)/$)+1),le.push(Math.floor((T.y+oe+T.radius)/$)+1);break;case"qct":var we=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);le.push(Math.floor((we.y+oe)/$)+1),le.push(Math.floor((we.y+we.h+oe)/$)+1);break;case"bct":var Se=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);le.push(Math.floor((Se.y+oe)/$)+1),le.push(Math.floor((Se.y+Se.h+oe)/$)+1);break;case"rect":le.push(Math.floor((T.y+oe)/$)+1),le.push(Math.floor((T.y+T.h+oe)/$)+1)}for(var Ne=0;Ne<le.length;Ne+=1)for(;this.pdf.internal.getNumberOfPages()<le[Ne];)N.call(this);return le},N=function(){var T=this.fillStyle,q=this.strokeStyle,$=this.font,le=this.lineCap,oe=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=q,this.font=$,this.lineCap=le,this.lineWidth=oe,this.lineJoin=we},H=function(T,q,$){for(var le=0;le<T.length;le++)switch(T[le].type){case"bct":T[le].x2+=q,T[le].y2+=$;case"qct":T[le].x1+=q,T[le].y1+=$;default:T[le].x+=q,T[le].y+=$}return T},_=function(T){return T.sort(function(q,$){return q-$})},k=function(T,q){var $=this.fillStyle,le=this.strokeStyle,oe=this.lineCap,we=this.lineWidth,Se=Math.abs(we*this.ctx.transform.scaleX),Ne=this.lineJoin;if(this.autoPaging){for(var Le,Te,Oe=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),qe=[],re=0;re<ze.length;re++)if(ze[re].x!==void 0)for(var Ge=L.call(this,ze[re]),We=0;We<Ge.length;We+=1)qe.indexOf(Ge[We])===-1&&qe.push(Ge[We]);for(var Xe=0;Xe<qe.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<qe[Xe];)N.call(this);_(qe);for(var ke=qe[0],Ze=qe[qe.length-1],Ye=ke;Ye<Ze+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=$,this.strokeStyle=le,this.lineCap=oe,this.lineWidth=Se,this.lineJoin=Ne;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Ye===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=Ye===1?0:yt+(Ye-2)*Mt;if(this.ctx.clip_path.length!==0){var Ot=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H(Le,this.posX+this.margin[3],-Ft+ot+this.ctx.prevPageLastElemOffset),V.call(this,T,!0),this.path=Ot}if(Te=JSON.parse(JSON.stringify(Oe)),this.path=H(Te,this.posX+this.margin[3],-Ft+ot+this.ctx.prevPageLastElemOffset),q===!1||Ye===0){var Rt=(Ye>ke||Ye<Ze)&&F.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Mt,null).clip().discardPath()),V.call(this,T,q),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}this.path=Oe}else this.lineWidth=Se,V.call(this,T,q),this.lineWidth=we},V=function(T,q){if((T!=="stroke"||q||!U.call(this))&&(T==="stroke"||q||!b.call(this))){for(var $,le,oe=[],we=this.path,Se=0;Se<we.length;Se++){var Ne=we[Se];switch(Ne.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:Ne,deltas:[],abs:[]});break;case"lt":var Le=oe.length;if(we[Se-1]&&!isNaN(we[Se-1].x)&&($=[Ne.x-we[Se-1].x,Ne.y-we[Se-1].y],Le>0)){for(;Le>=0;Le--)if(oe[Le-1].close!==!0&&oe[Le-1].begin!==!0){oe[Le-1].deltas.push($),oe[Le-1].abs.push(Ne);break}}break;case"bct":$=[Ne.x1-we[Se-1].x,Ne.y1-we[Se-1].y,Ne.x2-we[Se-1].x,Ne.y2-we[Se-1].y,Ne.x-we[Se-1].x,Ne.y-we[Se-1].y],oe[oe.length-1].deltas.push($);break;case"qct":var Te=we[Se-1].x+2/3*(Ne.x1-we[Se-1].x),Oe=we[Se-1].y+2/3*(Ne.y1-we[Se-1].y),ze=Ne.x+2/3*(Ne.x1-Ne.x),qe=Ne.y+2/3*(Ne.y1-Ne.y),re=Ne.x,Ge=Ne.y;$=[Te-we[Se-1].x,Oe-we[Se-1].y,ze-we[Se-1].x,qe-we[Se-1].y,re-we[Se-1].x,Ge-we[Se-1].y],oe[oe.length-1].deltas.push($);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(Ne)}}le=q?null:T==="stroke"?"stroke":"fill";for(var We=!1,Xe=0;Xe<oe.length;Xe++)if(oe[Xe].arc)for(var ke=oe[Xe].abs,Ze=0;Ze<ke.length;Ze++){var Ye=ke[Ze];Ye.type==="arc"?J.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,q,!We):I.call(this,Ye.x,Ye.y),We=!0}else if(oe[Xe].close===!0)this.pdf.internal.out("h"),We=!1;else if(oe[Xe].begin!==!0){var rt=oe[Xe].start.x,ot=oe[Xe].start.y;K.call(this,oe[Xe].deltas,rt,ot),We=!0}le&&D.call(this,le),q&&ee.call(this)}},Ae=function(T){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-$;case"top":return T+q-$;case"hanging":return T+q-2*$;case"middle":return T+q/2-$;default:return T}},ne=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(q,$){this.colorStops.push([q,$])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(T,q,$,le,oe,we,Se,Ne,Le){for(var Te=R.call(this,$,le,oe,we),Oe=0;Oe<Te.length;Oe++){var ze=Te[Oe];Oe===0&&(Le?Q.call(this,ze.x1+T,ze.y1+q):I.call(this,ze.x1+T,ze.y1+q)),ce.call(this,T,q,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}Ne?ee.call(this):D.call(this,Se)},D=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},Q=function(T,q){this.pdf.internal.out(r(T)+" "+a(q)+" m")},j=function(T){var q;switch(T.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var $,le,oe,we=this.pdf.getTextDimensions(T.text),Se=Ae.call(this,T.y),Ne=ne.call(this,Se)-we.h,Le=this.ctx.transform.applyToPoint(new d(T.x,Se));if(this.autoPaging){var Te=this.ctx.transform.decompose(),Oe=new f;Oe=(Oe=(Oe=Oe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var ze=this.ctx.transform.applyToRectangle(new u(T.x,Se,we.w,we.h)),qe=Oe.applyToRectangle(new u(T.x,Ne,we.w,we.h)),re=L.call(this,qe),Ge=[],We=0;We<re.length;We+=1)Ge.indexOf(re[We])===-1&&Ge.push(re[We]);_(Ge);for(var Xe=Ge[0],ke=Ge[Ge.length-1],Ze=Xe;Ze<ke+1;Ze++){this.pdf.setPage(Ze);var Ye=Ze===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[2],yt=ot-this.margin[0],Mt=this.pdf.internal.pageSize.width-this.margin[1],Ft=Mt-this.margin[3],Ot=Ze===1?0:rt+(Ze-2)*yt;if(this.ctx.clip_path.length!==0){var Rt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=H($,this.posX+this.margin[3],-1*Ot+Ye),V.call(this,"fill",!0),this.path=Rt}var ct=H([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Ot+Ye+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale);var jt=this.autoPaging!=="text";if(jt||ct.y+ct.h<=ot){if(jt||ct.y>=Ye&&ct.x<=Mt){var ht=jt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Mt-ct.x)[0],YA=H([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Ot+Ye+this.ctx.prevPageLastElemOffset)[0],zt=jt&&(Ze>Xe||Ze<ke)&&F.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,yt,null).clip().discardPath()),this.pdf.text(ht,YA.x,YA.y,{angle:T.angle,align:q,renderingMode:T.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else ct.y<ot&&(this.ctx.prevPageLastElemOffset+=ot-ct.y);T.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=oe)}}else T.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*T.scale),oe=this.lineWidth,this.lineWidth=oe*T.scale),this.pdf.text(T.text,Le.x+this.posX,Le.y+this.posY,{angle:T.angle,align:q,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=oe)},I=function(T,q,$,le){$=$||0,le=le||0,this.pdf.internal.out(r(T+$)+" "+a(q+le)+" l")},K=function(T,q,$){return this.pdf.lines(T,q,$,null,null)},ce=function(T,q,$,le,oe,we,Se,Ne){this.pdf.internal.out([A(i($+T)),A(l(le+q)),A(i(oe+T)),A(l(we+q)),A(i(Se+T)),A(l(Ne+q)),"c"].join(" "))},R=function(T,q,$,le){for(var oe=2*Math.PI,we=Math.PI/2;q>$;)q-=oe;var Se=Math.abs($-q);Se<oe&&le&&(Se=oe-Se);for(var Ne=[],Le=le?-1:1,Te=q;Se>1e-5;){var Oe=Te+Le*Math.min(Se,we);Ne.push(Y.call(this,T,Te,Oe)),Se-=Math.abs(Oe-Te),Te=Oe}return Ne},Y=function(T,q,$){var le=($-q)/2,oe=T*Math.cos(le),we=T*Math.sin(le),Se=oe,Ne=-we,Le=Se*Se+Ne*Ne,Te=Le+Se*oe+Ne*we,Oe=4/3*(Math.sqrt(2*Le*Te)-Te)/(Se*we-Ne*oe),ze=Se-Oe*Ne,qe=Ne+Oe*Se,re=ze,Ge=-qe,We=le+q,Xe=Math.cos(We),ke=Math.sin(We);return{x1:T*Math.cos(q),y1:T*Math.sin(q),x2:ze*Xe-qe*ke,y2:ze*ke+qe*Xe,x3:re*Xe-Ge*ke,y3:re*ke+Ge*Xe,x4:T*Math.cos($),y4:T*Math.sin($)}},Z=function(T){return 180*T/Math.PI},ue=function(T,q,$,le,oe,we){var Se=T+.5*($-T),Ne=q+.5*(le-q),Le=oe+.5*($-oe),Te=we+.5*(le-we),Oe=Math.min(T,oe,Se,Le),ze=Math.max(T,oe,Se,Le),qe=Math.min(q,we,Ne,Te),re=Math.max(q,we,Ne,Te);return new u(Oe,qe,ze-Oe,re-qe)},ge=function(T,q,$,le,oe,we,Se,Ne){var Le,Te,Oe,ze,qe,re,Ge,We,Xe,ke,Ze,Ye,rt,ot,yt=$-T,Mt=le-q,Ft=oe-$,Ot=we-le,Rt=Se-oe,ct=Ne-we;for(Te=0;Te<41;Te++)Xe=(Ge=(Oe=T+(Le=Te/40)*yt)+Le*((qe=$+Le*Ft)-Oe))+Le*(qe+Le*(oe+Le*Rt-qe)-Ge),ke=(We=(ze=q+Le*Mt)+Le*((re=le+Le*Ot)-ze))+Le*(re+Le*(we+Le*ct-re)-We),Te==0?(Ze=Xe,Ye=ke,rt=Xe,ot=ke):(Ze=Math.min(Ze,Xe),Ye=Math.min(Ye,ke),rt=Math.max(rt,Xe),ot=Math.max(ot,ke));return new u(Math.round(Ze),Math.round(Ye),Math.round(rt-Ze),Math.round(ot-Ye))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,q,$=(T=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:q}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(ft.API),(function(t){var A=function(d){var u,f,g,w,v,C,b,U,F,L;for(f=[],g=0,w=(d+=u="\0\0\0\0".slice(d.length%4||4)).length;w>g;g+=4)(v=(d.charCodeAt(g)<<24)+(d.charCodeAt(g+1)<<16)+(d.charCodeAt(g+2)<<8)+d.charCodeAt(g+3))!==0?(C=(v=((v=((v=((v=(v-(L=v%85))/85)-(F=v%85))/85)-(U=v%85))/85)-(b=v%85))/85)%85,f.push(C+33,b+33,U+33,F+33,L+33)):f.push(122);return(function(N,H){for(var _=H;_>0;_--)N.pop()})(f,u.length),String.fromCharCode.apply(String,f)+"~>"},r=function(d){var u,f,g,w,v,C=String,b="length",U=255,F="charCodeAt",L="slice",N="replace";for(d[L](-2),d=d[L](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),g=[],w=0,v=(d+=u="uuuuu"[L](d[b]%5||5))[b];v>w;w+=5)f=52200625*(d[F](w)-33)+614125*(d[F](w+1)-33)+7225*(d[F](w+2)-33)+85*(d[F](w+3)-33)+(d[F](w+4)-33),g.push(U&f>>24,U&f>>16,U&f>>8,U&f);return(function(H,_){for(var k=_;k>0;k--)H.pop()})(g,u[b]),C.fromCharCode.apply(C,g)},a=function(d){return d.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(d){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),u.test(d)===!1)return"";for(var f="",g=0;g<d.length;g+=2)f+=String.fromCharCode("0x"+(d[g]+d[g+1]));return f},l=function(d){for(var u=new Uint8Array(d.length),f=d.length;f--;)u[f]=d.charCodeAt(f);return(u=Mg(u)).reduce(function(g,w){return g+String.fromCharCode(w)},"")};t.processDataByFilters=function(d,u){var f=0,g=d||"",w=[];for(typeof(u=u||[])=="string"&&(u=[u]),f=0;f<u.length;f+=1)switch(u[f]){case"ASCII85Decode":case"/ASCII85Decode":g=r(g),w.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":g=A(g),w.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":g=i(g),w.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":g=a(g),w.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":g=l(g),w.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[f]+'" is not implemented')}return{data:g,reverseChain:w.reverse().join(" ")}}})(ft.API),(function(t){t.loadFile=function(A,r,a){return(function(i,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var u=void 0;try{u=(function(f,g,w){var v=new XMLHttpRequest,C=0,b=function(U){var F=U.length,L=[],N=String.fromCharCode;for(C=0;C<F;C+=1)L.push(N(255&U.charCodeAt(C)));return L.join("")};if(v.open("GET",f,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(v.onload=function(){v.status===200?w(b(this.responseText)):w(void 0)}),v.send(null),g&&v.status===200)return b(v.responseText)})(i,l,d)}catch{}return u})(A,r,a)},t.loadImageFile=t.loadFile})(ft.API),(function(t){function A(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):P0(()=>Promise.resolve().then(()=>NN),void 0)).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):P0(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var a=function(u){var f=vA(u);return f==="undefined"?"undefined":f==="string"||u instanceof String?"string":f==="number"||u instanceof Number?"number":f==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":f==="object"?"object":"unknown"},i=function(u,f){var g=document.createElement(u);for(var w in f.className&&(g.className=f.className),f.innerHTML&&f.dompurify&&(g.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)g.style[w]=f.style[w];return g},l=function u(f,g){for(var w=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),v=f.firstChild;v;v=v.nextSibling)g!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||w.appendChild(u(v,g));return f.nodeType===1&&(f.nodeName==="CANVAS"?(w.width=f.width,w.height=f.height,w.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(w.value=f.value),w.addEventListener("load",function(){w.scrollTop=f.scrollTop,w.scrollLeft=f.scrollLeft},!0)),w},d=function u(f){var g=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),w=u.convert(Promise.resolve(),g);return(w=w.setProgress(1,u,1,[u])).set(f)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(u,f){return u.__proto__=f||d.prototype,u},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(u,f){return this.then(function(){switch(f=f||(function(g){switch(a(g)){case"string":return"string";case"element":return g.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),f){case"string":return this.then(r).then(function(g){return this.set({src:i("div",{innerHTML:u,dompurify:g})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},d.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(A).then(function(f){var g=Object.assign({},this.opt.html2canvas);return delete g.onrendered,f(this.prop.container,g)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(A).then(function(f){var g=this.opt.jsPDF,w=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,C=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete C.onrendered,g.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,g.context2d.posX=this.opt.x,g.context2d.posY=this.opt.y,g.context2d.margin=this.opt.margin,g.context2d.fontFaces=w,w)for(var b=0;b<w.length;++b){var U=w[b],F=U.src.find(function(L){return L.format==="truetype"});F&&g.addFont(F.url,U.ref.name,U.ref.style)}return C.windowHeight=C.windowHeight||0,C.windowHeight=C.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):C.windowHeight,g.context2d.save(!0),f(this.prop.container,C)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(u,f,g){return(g=g||"pdf").toLowerCase()==="img"||g.toLowerCase()==="image"?this.outputImg(u,f):this.outputPdf(u,f)},d.prototype.outputPdf=function(u,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,f)})},d.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},d.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(u){if(a(u)!=="object")return this;var f=Object.keys(u||{}).map(function(g){if(g in d.template.prop)return function(){this.prop[g]=u[g]};switch(g){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[g]=u[g]}}},this);return this.then(function(){return this.thenList(f)})},d.prototype.get=function(u,f){return this.then(function(){var g=u in d.template.prop?this.prop[u]:this.opt[u];return f?f(g):g})},d.prototype.setMargin=function(u){return this.then(function(){switch(a(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},d.prototype.setPageSize=function(u){function f(g,w){return Math.floor(g*w/72*96)}return this.then(function(){(u=u||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:f(u.inner.width,u.k),height:f(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},d.prototype.setProgress=function(u,f,g,w){return u!=null&&(this.progress.val=u),f!=null&&(this.progress.state=f),g!=null&&(this.progress.n=g),w!=null&&(this.progress.stack=w),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(u,f,g,w){return this.setProgress(u?this.progress.val+u:null,f||null,g?this.progress.n+g:null,w?this.progress.stack.concat(w):null)},d.prototype.then=function(u,f){var g=this;return this.thenCore(u,f,function(w,v){return g.updateProgress(null,null,1,[w]),Promise.prototype.then.call(this,function(C){return g.updateProgress(null,w),C}).then(w,v).then(function(C){return g.updateProgress(1),C})})},d.prototype.thenCore=function(u,f,g){g=g||Promise.prototype.then;var w=this;u&&(u=u.bind(w)),f&&(f=f.bind(w));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?w:d.convert(Object.assign({},w),Promise.prototype),C=g.call(v,u,f);return d.convert(C,w.__proto__)},d.prototype.thenExternal=function(u,f){return Promise.prototype.then.call(this,u,f)},d.prototype.thenList=function(u){var f=this;return u.forEach(function(g){f=f.thenCore(g)}),f},d.prototype.catch=function(u){u&&(u=u.bind(this));var f=Promise.prototype.catch.call(this,u);return d.convert(f,this)},d.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},d.prototype.error=function(u){return this.then(function(){throw new Error(u)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,ft.getPageSize=function(u,f,g){if(vA(u)==="object"){var w=u;u=w.orientation,f=w.unit||f,g=w.format||g}f=f||"mm",g=g||"a4",u=(""+(u||"P")).toLowerCase();var v,C=(""+g).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+f}var U,F=0,L=0;if(b.hasOwnProperty(C))F=b[C][1]/v,L=b[C][0]/v;else try{F=g[1],L=g[0]}catch{throw new Error("Invalid format: "+g)}if(u==="p"||u==="portrait")u="p",L>F&&(U=L,L=F,F=U);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",F>L&&(U=L,L=F,F=U)}return{width:L,height:F,unit:f,k:v,orientation:u}},t.html=function(u,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(sg):null;var g=new d(f);return f.worker?g:g.from(u).doCallback()}})(ft.API),ft.API.addJS=function(t){return uw=t,this.internal.events.subscribe("postPutResources",function(){of=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(of+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),cw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){of!==void 0&&cw!==void 0&&this.internal.out("/Names <</JavaScript "+of+" 0 R>>")}),this},(function(t){var A;t.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),l=0;l<i.length;l++){var d=i[l],u=a.exec(d);if(u!=null){var f=u[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(d)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,w=[];for(l=0;l<g;l++){var v=r.internal.newObject();w.push(v);var C=r.internal.getPageInfo(l+1);r.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),l=0;l<w.length;l++)r.internal.write("(page_"+(l+1)+")"+w[l]+" 0 R");r.internal.write(" ] >>","endobj"),A=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+A+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,i,l){var d={title:i,options:l,children:[]};return a==null&&(a=this.root),a.children.push(d),d},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var i=0;i<a.children.length;i++)this.genIds_r(a.children[i])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<a.children.length;l++){var d=a.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(a)),l>0&&this.line("/Prev "+this.makeRef(a.children[l-1])),l<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var u=this.count=this.count_r({count:0},d);if(u>0&&this.line("/Count "+u),d.options&&d.options.pageNumber){var f=r.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var g=0;g<a.children.length;g++)this.renderItems(a.children[g])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,i){for(var l=0;l<i.children.length;l++)a.count++,this.count_r(a,i.children[l]);return a.count}}])})(ft.API),(function(t){var A=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,a,i,l,d,u){var f,g=this.decode.DCT_DECODE,w=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=d||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,f=(function(v){for(var C,b=256*v.charCodeAt(4)+v.charCodeAt(5),U=v.length,F={width:0,height:0,numcomponents:1},L=4;L<U;L+=2){if(L+=b,A.indexOf(v.charCodeAt(L+1))!==-1){C=256*v.charCodeAt(L+5)+v.charCodeAt(L+6),F={width:256*v.charCodeAt(L+7)+v.charCodeAt(L+8),height:C,numcomponents:v.charCodeAt(L+9)};break}b=256*v.charCodeAt(L+2)+v.charCodeAt(L+3)}return F})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),f.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}w={data:r,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:g,index:a,alias:i}}return w}})(ft.API),ft.API.processPNG=function(t,A,r,a){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,l=vC(t,{checkCrc:!0}),d=l.width,u=l.height,f=l.channels,g=l.palette,w=l.depth;i=g&&f===1?(function(J){for(var D=J.width,ee=J.height,Q=J.data,j=J.palette,I=J.depth,K=!1,ce=[],R=[],Y=void 0,Z=!1,ue=0,ge=0;ge<j.length;ge++){var be=g2(j[ge],4),T=be[0],q=be[1],$=be[2],le=be[3];ce.push(T,q,$),le!=null&&(le===0?(ue++,R.length<1&&R.push(ge)):le<255&&(Z=!0))}if(Z||ue>1){K=!0,R=void 0;var oe=D*ee;Y=new Uint8Array(oe);for(var we=new DataView(Q.buffer),Se=0;Se<oe;Se++){var Ne=lg(we,Se,I),Le=g2(j[Ne],4)[3];Y[Se]=Le}}else ue===0&&(R=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:Q,alphaBytes:Y,needSMask:K,palette:ce,mask:R}})(l):f===2||f===4?(function(J){for(var D=J.data,ee=J.width,Q=J.height,j=J.channels,I=J.depth,K=j===2?"DeviceGray":"DeviceRGB",ce=j-1,R=ee*Q,Y=ce,Z=R*Y,ue=1*R,ge=Math.ceil(Z*I/8),be=Math.ceil(ue*I/8),T=new Uint8Array(ge),q=new Uint8Array(be),$=new DataView(D.buffer),le=new DataView(T.buffer),oe=new DataView(q.buffer),we=!1,Se=0;Se<R;Se++){for(var Ne=Se*j,Le=0;Le<Y;Le++)xw(le,lg($,Ne+Le,I),Se*Y+Le,I);var Te=lg($,Ne+Y,I);Te<(1<<I)-1&&(we=!0),xw(oe,Te,1*Se,I)}return{colorSpace:K,colorsPerPixel:ce,sMaskBitsPerComponent:we?I:void 0,colorBytes:T,alphaBytes:q,needSMask:we}})(l):(function(J){var D=J.data,ee=J.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(Q){for(var j=Q.length,I=new Uint8Array(2*j),K=new DataView(I.buffer,I.byteOffset,I.byteLength),ce=0;ce<j;ce++)K.setUint16(2*ce,Q[ce],!1);return I})(D):D,needSMask:!1}})(l);var v,C,b,U=i,F=U.colorSpace,L=U.colorsPerPixel,N=U.sMaskBitsPerComponent,H=U.colorBytes,_=U.alphaBytes,k=U.needSMask,V=U.palette,Ae=U.mask,ne=null;return a!==ft.API.image_compression.NONE&&typeof Mg=="function"?(ne=(function(J){var D;switch(J){case ft.API.image_compression.FAST:D=11;break;case ft.API.image_compression.MEDIUM:D=13;break;case ft.API.image_compression.SLOW:D=14;break;default:D=12}return D})(a),v=this.decode.FLATE_DECODE,C="/Predictor ".concat(ne," /Colors ").concat(L," /BitsPerComponent ").concat(w," /Columns ").concat(d),t=gw(H,Math.ceil(d*L*w/8),L,w,a),k&&(b=gw(_,Math.ceil(d*N/8),1,N,a))):(v=void 0,C=void 0,t=H,k&&(b=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:r,data:t,index:A,filter:v,decodeParameters:C,transparency:Ae,palette:V,sMask:b,predictor:ne,width:d,height:u,bitsPerComponent:w,sMaskBitsPerComponent:N,colorSpace:F}}},(function(t){t.processGIF89A=function(A,r,a,i){var l=new PC(A),d=l.width,u=l.height,f=[];l.decodeAndBlitFrameRGBA(0,f);var g={data:f,width:d,height:u},w=new og(100).encode(g,100);return t.processJPEG.call(this,w,r,a,i)},t.processGIF87A=t.processGIF89A})(ft.API),bs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var A=0;A<t;A++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[A]={red:i,green:a,blue:r,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,A=this.width*this.height*4;this.data=new Uint8Array(A),this[t]()}catch(r){jA.log("bit decode error:"+r)}},bs.prototype.bit1=function(){var t,A=Math.ceil(this.width/8),r=A%4;for(t=this.height-1;t>=0;t--){for(var a=this.bottom_up?t:this.height-1-t,i=0;i<A;i++)for(var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var f=this.palette[l>>7-u&1];this.data[d+4*u]=f.blue,this.data[d+4*u+1]=f.green,this.data[d+4*u+2]=f.red,this.data[d+4*u+3]=255}r!==0&&(this.pos+=4-r)}},bs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),A=t%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var l=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+2*i*4,u=l>>4,f=15&l,g=this.palette[u];if(this.data[d]=g.blue,this.data[d+1]=g.green,this.data[d+2]=g.red,this.data[d+3]=255,2*i+1>=this.width)break;g=this.palette[f],this.data[d+4]=g.blue,this.data[d+4+1]=g.green,this.data[d+4+2]=g.red,this.data[d+4+3]=255}A!==0&&(this.pos+=4-A)}},bs.prototype.bit8=function(){for(var t=this.width%4,A=this.height-1;A>=0;A--){for(var r=this.bottom_up?A:this.height-1-A,a=0;a<this.width;a++){var i=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*a;if(i<this.palette.length){var d=this.palette[i];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},bs.prototype.bit15=function(){for(var t=this.width%3,A=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&A)/A*255|0,u=(l>>5&A)/A*255|0,f=(l>>10&A)/A*255|0,g=l>>15?255:0,w=a*this.width*4+4*i;this.data[w]=f,this.data[w+1]=u,this.data[w+2]=d,this.data[w+3]=g}this.pos+=t}},bs.prototype.bit16=function(){for(var t=this.width%3,A=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(d&A)/A*255|0,f=(d>>5&r)/r*255|0,g=(d>>11)/A*255|0,w=i*this.width*4+4*l;this.data[w]=g,this.data[w+1]=f,this.data[w+2]=u,this.data[w+3]=255}this.pos+=t}},bs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var A=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=A*this.width*4+4*r;this.data[d]=l,this.data[d+1]=i,this.data[d+2]=a,this.data[d+3]=255}this.pos+=this.width%4}},bs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var A=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),u=A*this.width*4+4*r;this.data[u]=l,this.data[u+1]=i,this.data[u+2]=a,this.data[u+3]=d}},bs.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(A,r,a,i){var l=new bs(A,!1),d=l.width,u=l.height,f={data:l.getData(),width:d,height:u},g=new og(100).encode(f,100);return t.processJPEG.call(this,g,r,a,i)}})(ft.API),yw.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(A,r,a,i){var l=new yw(A),d=l.width,u=l.height,f={data:l.getData(),width:d,height:u},g=new og(100).encode(f,100);return t.processJPEG.call(this,g,r,a,i)}})(ft.API),ft.API.processRGBA=function(t,A,r){for(var a=t.data,i=a.length,l=new Uint8Array(i/4*3),d=new Uint8Array(i/4),u=0,f=0,g=0;g<i;g+=4){var w=a[g],v=a[g+1],C=a[g+2],b=a[g+3];l[u++]=w,l[u++]=v,l[u++]=C,d[f++]=b}var U=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:U,index:A,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},yc=ft.API,cf=yc.getCharWidthsArray=function(t,A){var r,a,i=(A=A||{}).font||this.internal.getFont(),l=A.fontSize||this.internal.getFontSize(),d=A.charSpace||this.internal.getCharSpace(),u=A.widths?A.widths:i.metadata.Unicode.widths,f=u.fof?u.fof:1,g=A.kerning?A.kerning:i.metadata.Unicode.kerning,w=g.fof?g.fof:1,v=A.doKerning!==!1,C=0,b=t.length,U=0,F=u[0]||f,L=[];for(r=0;r<b;r++)a=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(a))+d*(1e3/l)||0)/1e3):(C=v&&vA(g[a])==="object"&&!isNaN(parseInt(g[a][U],10))?g[a][U]/w:0,L.push((u[a]||F)/f+C)),U=a;return L},dw=yc.getStringUnitWidth=function(t,A){var r=(A=A||{}).fontSize||this.internal.getFontSize(),a=A.font||this.internal.getFont(),i=A.charSpace||this.internal.getCharSpace();return yc.processArabic&&(t=yc.processArabic(t)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(t,r,i)/r:cf.apply(this,arguments).reduce(function(l,d){return l+d},0)},fw=function(t,A,r,a){for(var i=[],l=0,d=t.length,u=0;l!==d&&u+A[l]<r;)u+=A[l],l++;i.push(t.slice(0,l));var f=l;for(u=0;l!==d;)u+A[l]>a&&(i.push(t.slice(f,l)),u=0,f=l),u+=A[l],l++;return f!==l&&i.push(t.slice(f,l)),i},hw=function(t,A,r){r||(r={});var a,i,l,d,u,f,g,w=[],v=[w],C=r.textIndent||0,b=0,U=0,F=t.split(" "),L=cf.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?F[0].length+2:r.lineIndent||0){var N=Array(f).join(" "),H=[];F.map(function(k){(k=k.split(/\s*\n/)).length>1?H=H.concat(k.map(function(V,Ae){return(Ae&&V.length?`
`:"")+V})):H.push(k[0])}),F=H,f=dw.apply(this,[N,r])}for(l=0,d=F.length;l<d;l++){var _=0;if(a=F[l],f&&a[0]==`
`&&(a=a.substr(1),_=1),C+b+(U=(i=cf.apply(this,[a,r])).reduce(function(k,V){return k+V},0))>A||_){if(U>A){for(u=fw.apply(this,[a,i,A-(C+b),A]),w.push(u.shift()),w=[u.pop()];u.length;)v.push([u.shift()]);U=i.slice(a.length-(w[0]?w[0].length:0)).reduce(function(k,V){return k+V},0)}else w=[a];v.push(w),C=U+f,b=L}else w.push(a),C+=b+U,b=L}return g=f?function(k,V){return(V?N:"")+k.join(" ")}:function(k){return k.join(" ")},v.map(g)},yc.splitTextToSize=function(t,A,r){var a,i=(r=r||{}).fontSize||this.internal.getFontSize(),l=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var v=this.internal.getFont(w.fontName,w.fontStyle),C="Unicode";return v.metadata[C]?{widths:v.metadata[C].widths||{0:1},kerning:v.metadata[C].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);a=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*A/i;l.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,l.lineIndent=r.lineIndent;var u,f,g=[];for(u=0,f=a.length;u<f;u++)g=g.concat(hw.apply(this,[a[u],d,l]));return g},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var A="0123456789abcdef",r="klmnopqrstuvwxyz",a={},i={},l=0;l<16;l++)a[r[l]]=A[l],i[A[l]]=r[l];var d=function(C){return"0x"+parseInt(C,10).toString(16)},u=t.__fontmetrics__.compress=function(C){var b,U,F,L,N=["{"];for(var H in C){if(b=C[H],isNaN(parseInt(H,10))?U="'"+H+"'":(H=parseInt(H,10),U=(U=d(H).slice(2)).slice(0,-1)+i[U.slice(-1)]),typeof b=="number")b<0?(F=d(b).slice(3),L="-"):(F=d(b).slice(2),L=""),F=L+F.slice(0,-1)+i[F.slice(-1)];else{if(vA(b)!=="object")throw new Error("Don't know what to do with value type "+vA(b)+".");F=u(b)}N.push(U+F)}return N.push("}"),N.join("")},f=t.__fontmetrics__.uncompress=function(C){if(typeof C!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,U,F,L,N={},H=1,_=N,k=[],V="",Ae="",ne=C.length-1,J=1;J<ne;J+=1)(L=C[J])=="'"?b?(F=b.join(""),b=void 0):b=[]:b?b.push(L):L=="{"?(k.push([_,F]),_={},F=void 0):L=="}"?((U=k.pop())[0][U[1]]=_,F=void 0,_=U[0]):L=="-"?H=-1:F===void 0?a.hasOwnProperty(L)?(V+=a[L],F=parseInt(V,16)*H,H=1,V=""):V+=L:a.hasOwnProperty(L)?(Ae+=a[L],_[F]=parseInt(Ae,16)*H,H=1,F=void 0,Ae=""):Ae+=L;return N},g={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},w={Unicode:{Courier:g,"Courier-Bold":g,"Courier-BoldOblique":g,"Courier-Oblique":g,Helvetica:g,"Helvetica-Bold":g,"Helvetica-BoldOblique":g,"Helvetica-Oblique":g,"Times-Roman":g,"Times-Bold":g,"Times-BoldItalic":g,"Times-Italic":g}},v={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(C){var b=C.font,U=v.Unicode[b.postScriptName];U&&(b.metadata.Unicode={},b.metadata.Unicode.widths=U.widths,b.metadata.Unicode.kerning=U.kerning);var F=w.Unicode[b.postScriptName];F&&(b.metadata.Unicode.encoding=F,b.encoding=F.codePages[0])}])})(ft.API),(function(t){var A=function(r){for(var a=r.length,i=new Uint8Array(a),l=0;l<a;l++)i[l]=r.charCodeAt(l);return i};t.API.events.push(["addFont",function(r){var a=void 0,i=r.font,l=r.instance;if(!i.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(a=l.existsFileInVFS(i.postScriptName)===!1?l.loadFile(i.postScriptName):l.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(d,u){u=/^\x00\x01\x00\x00/.test(u)?A(u):A(If(u)),d.metadata=t.API.TTFFont.open(u),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(i,a)}}])})(ft),ft.API.addSvgAsImage=function(t,A,r,a,i,l,d,u){if(isNaN(A)||isNaN(r))throw jA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw jA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=i;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(Lt.canvg?Promise.resolve(Lt.canvg):P0(()=>import("./index.es-Dy997OKx.js"),__vite__mapDeps([0,1,2]))).catch(function(C){return Promise.reject(new Error("Could not load canvg: "+C))}).then(function(C){return C.default?C.default:C}).then(function(C){return C.fromString(g,t,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(C){return C.render(w)}).then(function(){v.addImage(f.toDataURL("image/jpeg",1),A,r,a,i,d,u)})},ft.API.putTotalPages=function(t){var A,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(A=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(A=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var i=0;i<this.internal.pages[a].length;i++)this.internal.pages[a][i]=this.internal.pages[a][i].replace(A,r);return this},ft.API.viewerPreferences=function(t,A){var r;t=t||{},A=A||!1;var a,i,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(d),f=[],g=0,w=0,v=0;function C(U,F){var L,N=!1;for(L=0;L<U.length;L+=1)U[L]===F&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||A===!0){var b=u.length;for(v=0;v<b;v+=1)r[u[v]].value=r[u[v]].defaultValue,r[u[v]].explicitSet=!1}if(vA(t)==="object"){for(i in t)if(l=t[i],C(u,i)&&l!==void 0){if(r[i].type==="boolean"&&typeof l=="boolean")r[i].value=l;else if(r[i].type==="name"&&C(r[i].valueSet,l))r[i].value=l;else if(r[i].type==="integer"&&Number.isInteger(l))r[i].value=l;else if(r[i].type==="array"){for(g=0;g<l.length;g+=1)if(a=!0,l[g].length===1&&typeof l[g][0]=="number")f.push(String(l[g]-1));else if(l[g].length>1){for(w=0;w<l[g].length;w+=1)typeof l[g][w]!="number"&&(a=!1);a===!0&&f.push([l[g][0]-1,l[g][1]-1].join(" "))}r[i].value="["+f.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var U,F=[];for(U in r)r[U].explicitSet===!0&&(r[U].type==="name"?F.push("/"+U+" /"+r[U].value):F.push("/"+U+" "+r[U].value));F.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+F.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var A=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(a)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),g=l.length+d.length+u.length+i.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(i+l+d+u+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(a,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",A)),this}})(ft.API),(function(t){var A=t.API,r=A.pdfEscape16=function(l,d){for(var u,f=d.metadata.Unicode.widths,g=["","0","00","000","0000"],w=[""],v=0,C=l.length;v<C;++v){if(u=d.metadata.characterToGlyph(l.charCodeAt(v)),d.metadata.glyIdsUsed.push(u),d.metadata.toUnicode[u]=l.charCodeAt(v),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(d.metadata.widthOfGlyph(u),10)])),u=="0")return w.join("");u=u.toString(16),w.push(g[4-u.length],u)}return w.join("")},a=function(l){var d,u,f,g,w,v,C;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],v=0,C=(u=Object.keys(l).sort(function(b,U){return b-U})).length;v<C;v++)d=u[v],f.length>=100&&(w+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(g=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),f.push("<"+d+"><"+g+">"));return f.length&&(w+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),w+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};A.events.push(["putFont",function(l){(function(d){var u=d.font,f=d.out,g=d.newObject,w=d.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,C=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",U=0;U<C.length;U++)b+=String.fromCharCode(C[U]);var F=g();w({data:b,addLength1:!0,objectId:F}),f("endobj");var L=g();w({data:a(u.metadata.toUnicode),addLength1:!0,objectId:L}),f("endobj");var N=g();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Lc(u.fontName)),f("/FontFile2 "+F+" 0 R"),f("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var H=g();f("<<"),f("/Type /Font"),f("/BaseFont /"+Lc(u.fontName)),f("/FontDescriptor "+N+" 0 R"),f("/W "+t.API.PDFObject.convert(v)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=g(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+L+" 0 R"),f("/BaseFont /"+Lc(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+H+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(l)}]),A.events.push(["putFont",function(l){(function(d){var u=d.font,f=d.out,g=d.newObject,w=d.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,C="",b=0;b<v.length;b++)C+=String.fromCharCode(v[b]);var U=g();w({data:C,addLength1:!0,objectId:U}),f("endobj");var F=g();w({data:a(u.metadata.toUnicode),addLength1:!0,objectId:F}),f("endobj");var L=g();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+U+" 0 R"),f("/Flags 96"),f("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+Lc(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=g();for(var N=0;N<u.metadata.hmtx.widths.length;N++)u.metadata.hmtx.widths[N]=parseInt(u.metadata.hmtx.widths[N]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+F+" 0 R/BaseFont/"+Lc(u.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(l)}]);var i=function(l){var d,u=l.text||"",f=l.x,g=l.y,w=l.options||{},v=l.mutex||{},C=v.pdfEscape,b=v.activeFontKey,U=v.fonts,F=b,L="",N=0,H="",_=U[F].encoding;if(U[F].encoding!=="Identity-H")return{text:u,x:f,y:g,options:w,mutex:v};for(H=u,F=b,Array.isArray(u)&&(H=u[0]),N=0;N<H.length;N+=1)U[F].metadata.hasOwnProperty("cmap")&&(d=U[F].metadata.cmap.unicode.codeMap[H[N].charCodeAt(0)]),d||H[N].charCodeAt(0)<256&&U[F].metadata.hasOwnProperty("Unicode")?L+=H[N]:L+="";var k="";return parseInt(F.slice(1))<14||_==="WinAnsiEncoding"?k=C(L,F).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(k=r(L,U[F])),v.isHex=!0,{text:k,x:f,y:g,options:w,mutex:v}};A.events.push(["postProcessText",function(l){var d=l.text||"",u=[],f={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var g=0;for(g=0;g<d.length;g+=1)Array.isArray(d[g])&&d[g].length===3?u.push([i(Object.assign({},f,{text:d[g][0]})).text,d[g][1],d[g][2]]):u.push(i(Object.assign({},f,{text:d[g]})).text);l.text=u}else l.text=i(Object.assign({},f,{text:d})).text}])})(ft),(function(t){var A=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return A.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,a){return A.call(this),this.internal.vFS[r]=a,this},t.getFileFromVFS=function(r){return A.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(ft.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(a){var i,l,d,u,f,g,w,v=A,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],U={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},F={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),H=!1,_=0;this.__bidiEngine__={};var k=function(Q){var j=Q.charCodeAt(),I=j>>8,K=F[I];return K!==void 0?v[256*K+(255&j)]:I===252||I===253?"AL":N.test(I)?"L":I===8?"R":"N"},V=function(Q){for(var j,I=0;I<Q.length;I++){if((j=k(Q.charAt(I)))==="L")return!1;if(j==="R")return!0}return!1},Ae=function(Q,j,I,K){var ce,R,Y,Z,ue=j[K];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":H=!1;break;case"N":case"AN":break;case"EN":H&&(ue="AN");break;case"AL":H=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":K<1||K+1>=j.length||(ce=I[K-1])!=="EN"&&ce!=="AN"||(R=j[K+1])!=="EN"&&R!=="AN"?ue="N":H&&(R="AN"),ue=R===ce?R:"N";break;case"ES":ue=(ce=K>0?I[K-1]:"B")==="EN"&&K+1<j.length&&j[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&I[K-1]==="EN"){ue="EN";break}if(H){ue="N";break}for(Y=K+1,Z=j.length;Y<Z&&j[Y]==="ET";)Y++;ue=Y<Z&&j[Y]==="EN"?"EN":"N";break;case"NSM":if(d&&!u){for(Z=j.length,Y=K+1;Y<Z&&j[Y]==="NSM";)Y++;if(Y<Z){var ge=Q[K],be=ge>=1425&&ge<=2303||ge===64286;if(ce=j[Y],be&&(ce==="R"||ce==="AL")){ue="R";break}}}ue=K<1||(ce=j[K-1])==="B"?"N":I[K-1];break;case"B":H=!1,i=!0,ue=_;break;case"S":l=!0,ue="N"}return ue},ne=function(Q,j,I){var K=Q.split("");return I&&J(K,I,{hiLevel:_}),K.reverse(),j&&j.reverse(),K.join("")},J=function(Q,j,I){var K,ce,R,Y,Z,ue=-1,ge=Q.length,be=0,T=[],q=_?b:C,$=[];for(H=!1,i=!1,l=!1,ce=0;ce<ge;ce++)$[ce]=k(Q[ce]);for(R=0;R<ge;R++){if(Z=be,T[R]=Ae(Q,$,T,R),K=240&(be=q[Z][U[T[R]]]),be&=15,j[R]=Y=q[be][5],K>0)if(K===16){for(ce=ue;ce<R;ce++)j[ce]=1;ue=-1}else ue=-1;if(q[be][6])ue===-1&&(ue=R);else if(ue>-1){for(ce=ue;ce<R;ce++)j[ce]=Y;ue=-1}$[R]==="B"&&(j[R]=0),I.hiLevel|=Y}l&&(function(le,oe,we){for(var Se=0;Se<we;Se++)if(le[Se]==="S"){oe[Se]=_;for(var Ne=Se-1;Ne>=0&&le[Ne]==="WS";Ne--)oe[Ne]=_}})($,j,ge)},D=function(Q,j,I,K,ce){if(!(ce.hiLevel<Q)){if(Q===1&&_===1&&!i)return j.reverse(),void(I&&I.reverse());for(var R,Y,Z,ue,ge=j.length,be=0;be<ge;){if(K[be]>=Q){for(Z=be+1;Z<ge&&K[Z]>=Q;)Z++;for(ue=be,Y=Z-1;ue<Y;ue++,Y--)R=j[ue],j[ue]=j[Y],j[Y]=R,I&&(R=I[ue],I[ue]=I[Y],I[Y]=R);be=Z}be++}}},ee=function(Q,j,I){var K=Q.split(""),ce={hiLevel:_};return I||(I=[]),J(K,I,ce),(function(R,Y,Z){if(Z.hiLevel!==0&&w)for(var ue,ge=0;ge<R.length;ge++)Y[ge]===1&&(ue=L.indexOf(R[ge]))>=0&&(R[ge]=L[ue+1])})(K,I,ce),D(2,K,j,I,ce),D(1,K,j,I,ce),K.join("")};return this.__bidiEngine__.doBidiReorder=function(Q,j,I){if((function(ce,R){if(R)for(var Y=0;Y<ce.length;Y++)R[Y]=Y;u===void 0&&(u=V(ce)),g===void 0&&(g=V(ce))})(Q,j),d||!f||g)if(d&&f&&u^g)_=u?1:0,Q=ne(Q,j,I);else if(!d&&f&&g)_=u?1:0,Q=ee(Q,j,I),Q=ne(Q,j);else if(!d||u||f||g){if(d&&!f&&u^g)Q=ne(Q,j),u?(_=0,Q=ee(Q,j,I)):(_=1,Q=ee(Q,j,I),Q=ne(Q,j));else if(d&&u&&!f&&g)_=1,Q=ee(Q,j,I),Q=ne(Q,j);else if(!d&&!f&&u^g){var K=w;u?(_=1,Q=ee(Q,j,I),_=0,w=!1,Q=ee(Q,j,I),w=K):(_=0,Q=ee(Q,j,I),Q=ne(Q,j),_=1,w=!1,Q=ee(Q,j,I),w=K,Q=ne(Q,j))}}else _=0,Q=ee(Q,j,I);else _=u?1:0,Q=ee(Q,j,I);return Q},this.__bidiEngine__.setOptions=function(Q){Q&&(d=Q.isInputVisual,f=Q.isOutputVisual,u=Q.isInputRtl,g=Q.isOutputRtl,w=Q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var A=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(a){var i=a.text;a.x,a.y;var l=a.options||{};a.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,r.setOptions(l),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(d=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?d.push([r.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):d.push([r.doBidiReorder(i[u])]);a.text=d}else a.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(ft),ft.API.TTFFont=(function(){function t(A){var r;if(this.rawData=A,r=this.contents=new jl(A),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new r3(this),this.registerTTF()}return t.open=function(A){return new t(A)},t.prototype.parse=function(){return this.directory=new KC(this.contents),this.head=new VC(this),this.name=new JC(this),this.cmap=new Ex(this),this.toUnicode={},this.hhea=new GC(this),this.maxp=new WC(this),this.hmtx=new ZC(this),this.post=new XC(this),this.os2=new qC(this),this.loca=new A3(this),this.glyf=new $C(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var A,r,a,i,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,u,f,g;for(g=[],d=0,u=(f=this.bbox).length;d<u;d++)A=f[d],g.push(Math.round(A*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(a=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(A){var r;return((r=this.cmap.unicode)!=null?r.codeMap[A]:void 0)||0},t.prototype.widthOfGlyph=function(A){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(A).advance*r},t.prototype.widthOfString=function(A,r,a){var i,l,d,u;for(d=0,l=0,u=(A=""+A).length;0<=u?l<u:l>u;l=0<=u?++l:--l)i=A.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(i))+a*(1e3/r)||0;return d*(r/1e3)},t.prototype.lineHeight=function(A,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*A},t})();var Us,jl=(function(){function t(A){this.data=A??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(A){return this.data[this.pos++]=A},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(A){return this.writeByte(A>>>24&255),this.writeByte(A>>16&255),this.writeByte(A>>8&255),this.writeByte(255&A)},t.prototype.readInt32=function(){var A;return(A=this.readUInt32())>=2147483648?A-4294967296:A},t.prototype.writeInt32=function(A){return A<0&&(A+=4294967296),this.writeUInt32(A)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(A){return this.writeByte(A>>8&255),this.writeByte(255&A)},t.prototype.readInt16=function(){var A;return(A=this.readUInt16())>=32768?A-65536:A},t.prototype.writeInt16=function(A){return A<0&&(A+=65536),this.writeUInt16(A)},t.prototype.readString=function(A){var r,a;for(a=[],r=0;0<=A?r<A:r>A;r=0<=A?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},t.prototype.writeString=function(A){var r,a,i;for(i=[],r=0,a=A.length;0<=a?r<a:r>a;r=0<=a?++r:--r)i.push(this.writeByte(A.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(A){return this.writeInt16(A)},t.prototype.readLongLong=function(){var A,r,a,i,l,d,u,f;return A=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),d=this.readByte(),u=this.readByte(),f=this.readByte(),128&A?-1*(72057594037927940*(255^A)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^i)+16777216*(255^l)+65536*(255^d)+256*(255^u)+(255^f)+1):72057594037927940*A+281474976710656*r+1099511627776*a+4294967296*i+16777216*l+65536*d+256*u+f},t.prototype.writeLongLong=function(A){var r,a;return r=Math.floor(A/4294967296),a=4294967295&A,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(A){return this.writeInt32(A)},t.prototype.read=function(A){var r,a;for(r=[],a=0;0<=A?a<A:a>A;a=0<=A?++a:--a)r.push(this.readByte());return r},t.prototype.write=function(A){var r,a,i,l;for(l=[],a=0,i=A.length;a<i;a++)r=A[a],l.push(this.writeByte(r));return l},t})(),KC=(function(){var t;function A(r){var a,i,l;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,l=this.tableCount;0<=l?i<l:i>l;i=0<=l?++i:--i)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return A.prototype.encode=function(r){var a,i,l,d,u,f,g,w,v,C,b,U,F;for(F in b=Object.keys(r).length,f=Math.log(2),v=16*Math.floor(Math.log(b)/f),d=Math.floor(v/f),w=16*b-v,(i=new jl).writeInt(this.scalarType),i.writeShort(b),i.writeShort(v),i.writeShort(d),i.writeShort(w),l=16*b,g=i.pos+l,u=null,U=[],r)for(C=r[F],i.writeString(F),i.writeInt(t(C)),i.writeInt(g),i.writeInt(C.length),U=U.concat(C),F==="head"&&(u=g),g+=C.length;g%4;)U.push(0),g++;return i.write(U),a=2981146554-t(i.data),i.pos=u+8,i.writeUInt32(a),i.data},t=function(r){var a,i,l,d;for(r=kx.call(r);r.length%4;)r.push(0);for(l=new jl(r),i=0,a=0,d=r.length;a<d;a=a+=4)i+=l.readUInt32();return 4294967295&i},A})(),zC={}.hasOwnProperty,Zs=function(t,A){for(var r in A)zC.call(A,r)&&(t[r]=A[r]);function a(){this.constructor=t}return a.prototype=A.prototype,t.prototype=new a,t.__super__=A.prototype,t};Us=(function(){function t(A){var r;this.file=A,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var VC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="head",t.prototype.parse=function(A){return A.pos=this.offset,this.version=A.readInt(),this.revision=A.readInt(),this.checkSumAdjustment=A.readInt(),this.magicNumber=A.readInt(),this.flags=A.readShort(),this.unitsPerEm=A.readShort(),this.created=A.readLongLong(),this.modified=A.readLongLong(),this.xMin=A.readShort(),this.yMin=A.readShort(),this.xMax=A.readShort(),this.yMax=A.readShort(),this.macStyle=A.readShort(),this.lowestRecPPEM=A.readShort(),this.fontDirectionHint=A.readShort(),this.indexToLocFormat=A.readShort(),this.glyphDataFormat=A.readShort()},t.prototype.encode=function(A){var r;return(r=new jl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(A),r.writeShort(this.glyphDataFormat),r.data},t})(),Bw=(function(){function t(A,r){var a,i,l,d,u,f,g,w,v,C,b,U,F,L,N,H,_;switch(this.platformID=A.readUInt16(),this.encodingID=A.readShort(),this.offset=r+A.readInt(),v=A.pos,A.pos=this.offset,this.format=A.readUInt16(),this.length=A.readUInt16(),this.language=A.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=A.readByte();break;case 4:for(b=A.readUInt16(),C=b/2,A.pos+=6,l=(function(){var k,V;for(V=[],f=k=0;0<=C?k<C:k>C;f=0<=C?++k:--k)V.push(A.readUInt16());return V})(),A.pos+=2,F=(function(){var k,V;for(V=[],f=k=0;0<=C?k<C:k>C;f=0<=C?++k:--k)V.push(A.readUInt16());return V})(),g=(function(){var k,V;for(V=[],f=k=0;0<=C?k<C:k>C;f=0<=C?++k:--k)V.push(A.readUInt16());return V})(),w=(function(){var k,V;for(V=[],f=k=0;0<=C?k<C:k>C;f=0<=C?++k:--k)V.push(A.readUInt16());return V})(),i=(this.length-A.pos+this.offset)/2,u=(function(){var k,V;for(V=[],f=k=0;0<=i?k<i:k>i;f=0<=i?++k:--k)V.push(A.readUInt16());return V})(),f=N=0,_=l.length;N<_;f=++N)for(L=l[f],a=H=U=F[f];U<=L?H<=L:H>=L;a=U<=L?++H:--H)w[f]===0?d=a+g[f]:(d=u[w[f]/2+(a-U)-(C-f)]||0)!==0&&(d+=g[f]),this.codeMap[a]=65535&d}A.pos=v}return t.encode=function(A,r){var a,i,l,d,u,f,g,w,v,C,b,U,F,L,N,H,_,k,V,Ae,ne,J,D,ee,Q,j,I,K,ce,R,Y,Z,ue,ge,be,T,q,$,le,oe,we,Se,Ne,Le,Te,Oe;switch(K=new jl,d=Object.keys(A).sort(function(ze,qe){return ze-qe}),r){case"macroman":for(F=0,L=(function(){var ze=[];for(U=0;U<256;++U)ze.push(0);return ze})(),H={0:0},l={},ce=0,ue=d.length;ce<ue;ce++)H[Ne=A[i=d[ce]]]==null&&(H[Ne]=++F),l[i]={old:A[i],new:H[A[i]]},L[i]=H[A[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(L),{charMap:l,subtable:K.data,maxGlyphID:F+1};case"unicode":for(j=[],v=[],_=0,H={},a={},N=g=null,R=0,ge=d.length;R<ge;R++)H[V=A[i=d[R]]]==null&&(H[V]=++_),a[i]={old:V,new:H[V]},u=H[V]-i,N!=null&&u===g||(N&&v.push(N),j.push(i),g=u),N=i;for(N&&v.push(N),v.push(65535),j.push(65535),ee=2*(D=j.length),J=2*Math.pow(Math.log(D)/Math.LN2,2),C=Math.log(J/2)/Math.LN2,ne=2*D-J,f=[],Ae=[],b=[],U=Y=0,be=j.length;Y<be;U=++Y){if(Q=j[U],w=v[U],Q===65535){f.push(0),Ae.push(0);break}if(Q-(I=a[Q].new)>=32768)for(f.push(0),Ae.push(2*(b.length+D-U)),i=Z=Q;Q<=w?Z<=w:Z>=w;i=Q<=w?++Z:--Z)b.push(a[i].new);else f.push(I-Q),Ae.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*D+2*b.length),K.writeUInt16(0),K.writeUInt16(ee),K.writeUInt16(J),K.writeUInt16(C),K.writeUInt16(ne),we=0,T=v.length;we<T;we++)i=v[we],K.writeUInt16(i);for(K.writeUInt16(0),Se=0,q=j.length;Se<q;Se++)i=j[Se],K.writeUInt16(i);for(Le=0,$=f.length;Le<$;Le++)u=f[Le],K.writeUInt16(u);for(Te=0,le=Ae.length;Te<le;Te++)k=Ae[Te],K.writeUInt16(k);for(Oe=0,oe=b.length;Oe<oe;Oe++)F=b[Oe],K.writeUInt16(F);return{charMap:a,subtable:K.data,maxGlyphID:_+1}}},t})(),Ex=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="cmap",t.prototype.parse=function(A){var r,a,i;for(A.pos=this.offset,this.version=A.readUInt16(),i=A.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new Bw(A,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(A,r){var a,i;return r==null&&(r="macroman"),a=Bw.encode(A,r),(i=new jl).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t})(),GC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="hhea",t.prototype.parse=function(A){return A.pos=this.offset,this.version=A.readInt(),this.ascender=A.readShort(),this.decender=A.readShort(),this.lineGap=A.readShort(),this.advanceWidthMax=A.readShort(),this.minLeftSideBearing=A.readShort(),this.minRightSideBearing=A.readShort(),this.xMaxExtent=A.readShort(),this.caretSlopeRise=A.readShort(),this.caretSlopeRun=A.readShort(),this.caretOffset=A.readShort(),A.pos+=8,this.metricDataFormat=A.readShort(),this.numberOfMetrics=A.readUInt16()},t})(),qC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="OS/2",t.prototype.parse=function(A){if(A.pos=this.offset,this.version=A.readUInt16(),this.averageCharWidth=A.readShort(),this.weightClass=A.readUInt16(),this.widthClass=A.readUInt16(),this.type=A.readShort(),this.ySubscriptXSize=A.readShort(),this.ySubscriptYSize=A.readShort(),this.ySubscriptXOffset=A.readShort(),this.ySubscriptYOffset=A.readShort(),this.ySuperscriptXSize=A.readShort(),this.ySuperscriptYSize=A.readShort(),this.ySuperscriptXOffset=A.readShort(),this.ySuperscriptYOffset=A.readShort(),this.yStrikeoutSize=A.readShort(),this.yStrikeoutPosition=A.readShort(),this.familyClass=A.readShort(),this.panose=(function(){var r,a;for(a=[],r=0;r<10;++r)a.push(A.readByte());return a})(),this.charRange=(function(){var r,a;for(a=[],r=0;r<4;++r)a.push(A.readInt());return a})(),this.vendorID=A.readString(4),this.selection=A.readShort(),this.firstCharIndex=A.readShort(),this.lastCharIndex=A.readShort(),this.version>0&&(this.ascent=A.readShort(),this.descent=A.readShort(),this.lineGap=A.readShort(),this.winAscent=A.readShort(),this.winDescent=A.readShort(),this.codePageRange=(function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(A.readInt());return a})(),this.version>1))return this.xHeight=A.readShort(),this.capHeight=A.readShort(),this.defaultChar=A.readShort(),this.breakChar=A.readShort(),this.maxContext=A.readShort()},t})(),XC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="post",t.prototype.parse=function(A){var r,a,i;switch(A.pos=this.offset,this.format=A.readInt(),this.italicAngle=A.readInt(),this.underlinePosition=A.readShort(),this.underlineThickness=A.readShort(),this.isFixedPitch=A.readInt(),this.minMemType42=A.readInt(),this.maxMemType42=A.readInt(),this.minMemType1=A.readInt(),this.maxMemType1=A.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(a=A.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(A.readUInt16());for(this.names=[],i=[];A.pos<this.offset+this.length;)r=A.readByte(),i.push(this.names.push(A.readString(r)));return i;case 151552:return a=A.readUInt16(),this.offsets=A.read(a);case 262144:return this.map=(function(){var d,u,f;for(f=[],l=d=0,u=this.file.maxp.numGlyphs;0<=u?d<u:d>u;l=0<=u?++d:--d)f.push(A.readUInt32());return f}).call(this)}},t})(),YC=function(t,A){this.raw=t,this.length=t.length,this.platformID=A.platformID,this.encodingID=A.encodingID,this.languageID=A.languageID},JC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="name",t.prototype.parse=function(A){var r,a,i,l,d,u,f,g,w,v,C;for(A.pos=this.offset,A.readShort(),r=A.readShort(),u=A.readShort(),a=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)a.push({platformID:A.readShort(),encodingID:A.readShort(),languageID:A.readShort(),nameID:A.readShort(),length:A.readShort(),offset:this.offset+u+A.readShort()});for(f={},l=w=0,v=a.length;w<v;l=++w)i=a[l],A.pos=i.offset,g=A.readString(i.length),d=new YC(g,i),f[C=i.nameID]==null&&(f[C]=[]),f[i.nameID].push(d);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),WC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="maxp",t.prototype.parse=function(A){return A.pos=this.offset,this.version=A.readInt(),this.numGlyphs=A.readUInt16(),this.maxPoints=A.readUInt16(),this.maxContours=A.readUInt16(),this.maxCompositePoints=A.readUInt16(),this.maxComponentContours=A.readUInt16(),this.maxZones=A.readUInt16(),this.maxTwilightPoints=A.readUInt16(),this.maxStorage=A.readUInt16(),this.maxFunctionDefs=A.readUInt16(),this.maxInstructionDefs=A.readUInt16(),this.maxStackElements=A.readUInt16(),this.maxSizeOfInstructions=A.readUInt16(),this.maxComponentElements=A.readUInt16(),this.maxComponentDepth=A.readUInt16()},t})(),ZC=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="hmtx",t.prototype.parse=function(A){var r,a,i,l,d,u,f;for(A.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:A.readUInt16(),lsb:A.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var g,w;for(w=[],r=g=0;0<=i?g<i:g>i;r=0<=i?++g:--g)w.push(A.readInt16());return w})(),this.widths=(function(){var g,w,v,C;for(C=[],g=0,w=(v=this.metrics).length;g<w;g++)l=v[g],C.push(l.advance);return C}).call(this),a=this.widths[this.widths.length-1],f=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(A){return A in this.metrics?this.metrics[A]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[A-this.metrics.length]}},t})(),kx=[].slice,$C=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(A){var r,a,i,l,d,u,f,g,w,v;return A in this.cache?this.cache[A]:(l=this.file.loca,r=this.file.contents,a=l.indexOf(A),(i=l.lengthOf(A))===0?this.cache[A]=null:(r.pos=this.offset+a,d=(u=new jl(r.read(i))).readShort(),g=u.readShort(),v=u.readShort(),f=u.readShort(),w=u.readShort(),this.cache[A]=d===-1?new t3(u,g,v,f,w):new e3(u,d,g,v,f,w),this.cache[A]))},t.prototype.encode=function(A,r,a){var i,l,d,u,f;for(d=[],l=[],u=0,f=r.length;u<f;u++)i=A[r[u]],l.push(d.length),i&&(d=d.concat(i.encode(a)));return l.push(d.length),{table:d,offsets:l}},t})(),e3=(function(){function t(A,r,a,i,l,d){this.raw=A,this.numberOfContours=r,this.xMin=a,this.yMin=i,this.xMax=l,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),t3=(function(){function t(A,r,a,i,l){var d,u;for(this.raw=A,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;u=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&u;)d.pos+=1&u?4:2,128&u?d.pos+=8:64&u?d.pos+=4:8&u&&(d.pos+=2)}return t.prototype.encode=function(){var A,r,a;for(r=new jl(kx.call(this.raw.data)),A=0,a=this.glyphIDs.length;A<a;++A)r.pos=this.glyphOffsets[A];return r.data},t})(),A3=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Zs(t,Us),t.prototype.tag="loca",t.prototype.parse=function(A){var r,a;return A.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=2)l.push(2*A.readUInt16());return l}).call(this):(function(){var i,l;for(l=[],a=0,i=this.length;a<i;a+=4)l.push(A.readUInt32());return l}).call(this)},t.prototype.indexOf=function(A){return this.offsets[A]},t.prototype.lengthOf=function(A){return this.offsets[A+1]-this.offsets[A]},t.prototype.encode=function(A,r){for(var a=new Uint32Array(this.offsets.length),i=0,l=0,d=0;d<a.length;++d)if(a[d]=i,l<r.length&&r[l]==d){++l,a[d]=i;var u=this.offsets[d],f=this.offsets[d+1]-u;f>0&&(i+=f)}for(var g=new Array(4*a.length),w=0;w<a.length;++w)g[4*w+3]=255&a[w],g[4*w+2]=(65280&a[w])>>8,g[4*w+1]=(16711680&a[w])>>16,g[4*w]=(4278190080&a[w])>>24;return g},t})(),r3=(function(){function t(A){this.font=A,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var A,r,a,i,l;for(r in i=this.font.cmap.tables[0].codeMap,A={},l=this.subset)a=l[r],A[r]=i[a];return A},t.prototype.glyphsFor=function(A){var r,a,i,l,d,u,f;for(i={},d=0,u=A.length;d<u;d++)i[l=A[d]]=this.font.glyf.glyphFor(l);for(l in r=[],i)(a=i[l])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(l in f=this.glyphsFor(r))a=f[l],i[l]=a;return i},t.prototype.encode=function(A,r){var a,i,l,d,u,f,g,w,v,C,b,U,F,L,N;for(i in a=Ex.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(A),b={0:0},N=a.charMap)b[(f=N[i]).old]=f.new;for(U in C=a.maxGlyphID,d)U in b||(b[U]=C++);return w=(function(H){var _,k;for(_ in k={},H)k[H[_]]=_;return k})(b),v=Object.keys(w).sort(function(H,_){return H-_}),F=(function(){var H,_,k;for(k=[],H=0,_=v.length;H<_;H++)u=v[H],k.push(w[u]);return k})(),l=this.font.glyf.encode(d,F,b),g=this.font.loca.encode(l.offsets,F),L={cmap:this.font.cmap.raw(),glyf:l.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t})();ft.API.PDFObject=(function(){var t;function A(){}return t=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},A.convert=function(r){var a,i,l,d;if(Array.isArray(r))return"["+(function(){var u,f,g;for(g=[],u=0,f=r.length;u<f;u++)a=r[u],g.push(A.convert(a));return g})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in l=["<<"],r)d=r[i],l.push("/"+i+" "+A.convert(d));return l.push(">>"),l.join(`
`)}return""+r},A})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qg=function(t,A){return qg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},qg(t,A)};function Qs(t,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");qg(t,A);function r(){this.constructor=t}t.prototype=A===null?Object.create(A):(r.prototype=A.prototype,new r)}var Xg=function(){return Xg=Object.assign||function(A){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(A[l]=r[l])}return A},Xg.apply(this,arguments)};function En(t,A,r,a){function i(l){return l instanceof r?l:new r(function(d){d(l)})}return new(r||(r=Promise))(function(l,d){function u(w){try{g(a.next(w))}catch(v){d(v)}}function f(w){try{g(a.throw(w))}catch(v){d(v)}}function g(w){w.done?l(w.value):i(w.value).then(u,f)}g((a=a.apply(t,[])).next())})}function pn(t,A){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,d;return d={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function u(g){return function(w){return f([g,w])}}function f(g){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,i&&(l=g[0]&2?i.return:g[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,g[1])).done)return l;switch(i=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){r.label=g[1];break}if(g[0]===6&&r.label<l[1]){r.label=l[1],l=g;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(g);break}l[2]&&r.ops.pop(),r.trys.pop();continue}g=A.call(t,r)}catch(w){g=[6,w],i=0}finally{a=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function uf(t,A,r){if(arguments.length===2)for(var a=0,i=A.length,l;a<i;a++)(l||!(a in A))&&(l||(l=Array.prototype.slice.call(A,0,a)),l[a]=A[a]);return t.concat(l||A)}var Ii=(function(){function t(A,r,a,i){this.left=A,this.top=r,this.width=a,this.height=i}return t.prototype.add=function(A,r,a,i){return new t(this.left+A,this.top+r,this.width+a,this.height+i)},t.fromClientRect=function(A,r){return new t(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(A,r){var a=Array.from(r).find(function(i){return i.width!==0});return a?new t(a.left+A.windowBounds.left,a.top+A.windowBounds.top,a.width,a.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),gh=function(t,A){return Ii.fromClientRect(t,A.getBoundingClientRect())},n3=function(t){var A=t.body,r=t.documentElement;if(!A||!r)throw new Error("Unable to get document size");var a=Math.max(Math.max(A.scrollWidth,r.scrollWidth),Math.max(A.offsetWidth,r.offsetWidth),Math.max(A.clientWidth,r.clientWidth)),i=Math.max(Math.max(A.scrollHeight,r.scrollHeight),Math.max(A.offsetHeight,r.offsetHeight),Math.max(A.clientHeight,r.clientHeight));return new Ii(0,0,a,i)},ph=function(t){for(var A=[],r=0,a=t.length;r<a;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<a){var l=t.charCodeAt(r++);(l&64512)===56320?A.push(((i&1023)<<10)+(l&1023)+65536):(A.push(i),r--)}else A.push(i)}return A},wr=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var a=[],i=-1,l="";++i<r;){var d=t[i];d<=65535?a.push(d):(d-=65536,a.push((d>>10)+55296,d%1024+56320)),(i+1===r||a.length>16384)&&(l+=String.fromCharCode.apply(String,a),a.length=0)}return l},Cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var df=0;df<Cw.length;df++)a3[Cw.charCodeAt(df)]=df;var Uw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Iu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ff=0;ff<Uw.length;ff++)Iu[Uw.charCodeAt(ff)]=ff;var s3=function(t){var A=t.length*.75,r=t.length,a,i=0,l,d,u,f;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var g=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),w=Array.isArray(g)?g:new Uint8Array(g);for(a=0;a<r;a+=4)l=Iu[t.charCodeAt(a)],d=Iu[t.charCodeAt(a+1)],u=Iu[t.charCodeAt(a+2)],f=Iu[t.charCodeAt(a+3)],w[i++]=l<<2|d>>4,w[i++]=(d&15)<<4|u>>2,w[i++]=(u&3)<<6|f&63;return g},i3=function(t){for(var A=t.length,r=[],a=0;a<A;a+=2)r.push(t[a+1]<<8|t[a]);return r},l3=function(t){for(var A=t.length,r=[],a=0;a<A;a+=4)r.push(t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a]);return r},xo=5,Ep=11,cg=2,o3=Ep-xo,Lx=65536>>xo,c3=1<<xo,ug=c3-1,u3=1024>>xo,d3=Lx+u3,f3=d3,h3=32,g3=f3+h3,p3=65536>>Ep,m3=1<<o3,w3=m3-1,Qw=function(t,A,r){return t.slice?t.slice(A,r):new Uint16Array(Array.prototype.slice.call(t,A,r))},b3=function(t,A,r){return t.slice?t.slice(A,r):new Uint32Array(Array.prototype.slice.call(t,A,r))},x3=function(t,A){var r=s3(t),a=Array.isArray(r)?l3(r):new Uint32Array(r),i=Array.isArray(r)?i3(r):new Uint16Array(r),l=24,d=Qw(i,l/2,a[4]/2),u=a[5]===2?Qw(i,(l+a[4])/2):b3(a,Math.ceil((l+a[4])/4));return new v3(a[0],a[1],a[2],a[3],d,u)},v3=(function(){function t(A,r,a,i,l,d){this.initialValue=A,this.errorValue=r,this.highStart=a,this.highValueIndex=i,this.index=l,this.data=d}return t.prototype.get=function(A){var r;if(A>=0){if(A<55296||A>56319&&A<=65535)return r=this.index[A>>xo],r=(r<<cg)+(A&ug),this.data[r];if(A<=65535)return r=this.index[Lx+(A-55296>>xo)],r=(r<<cg)+(A&ug),this.data[r];if(A<this.highStart)return r=g3-p3+(A>>Ep),r=this.index[r],r+=A>>xo&w3,r=this.index[r],r=(r<<cg)+(A&ug),this.data[r];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),Fw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y3=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hf=0;hf<Fw.length;hf++)y3[Fw.charCodeAt(hf)]=hf;var B3="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Nw=50,C3=1,jx=2,Hx=3,U3=4,Q3=5,Sw=7,_x=8,Ew=9,Fl=10,Yg=11,kw=12,Jg=13,F3=14,Du=15,Wg=16,gf=17,ju=18,N3=19,Lw=20,Zg=21,Hu=22,dg=23,Bc=24,ma=25,Mu=26,Ou=27,Cc=28,S3=29,mo=30,E3=31,pf=32,mf=33,$g=34,ep=35,tp=36,ed=37,Ap=38,Pf=39,Kf=40,fg=41,Tx=42,k3=43,L3=[9001,65288],Ix="!",Zt="",wf="",rp=x3(B3),Li=[mo,tp],np=[C3,jx,Hx,Q3],Dx=[Fl,_x],jw=[Ou,Mu],j3=np.concat(Dx),Hw=[Ap,Pf,Kf,$g,ep],H3=[Du,Jg],_3=function(t,A){A===void 0&&(A="strict");var r=[],a=[],i=[];return t.forEach(function(l,d){var u=rp.get(l);if(u>Nw?(i.push(!0),u-=Nw):i.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(l)!==-1)return a.push(d),r.push(Wg);if(u===U3||u===Yg){if(d===0)return a.push(d),r.push(mo);var f=r[d-1];return j3.indexOf(f)===-1?(a.push(a[d-1]),r.push(f)):(a.push(d),r.push(mo))}if(a.push(d),u===E3)return r.push(A==="strict"?Zg:ed);if(u===Tx||u===S3)return r.push(mo);if(u===k3)return l>=131072&&l<=196605||l>=196608&&l<=262141?r.push(ed):r.push(mo);r.push(u)}),[a,r,i]},hg=function(t,A,r,a){var i=a[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var l=r;l<=a.length;){l++;var d=a[l];if(d===A)return!0;if(d!==Fl)break}if(i===Fl)for(var l=r;l>0;){l--;var u=a[l];if(Array.isArray(t)?t.indexOf(u)!==-1:t===u)for(var f=r;f<=a.length;){f++;var d=a[f];if(d===A)return!0;if(d!==Fl)break}if(u!==Fl)break}return!1},_w=function(t,A){for(var r=t;r>=0;){var a=A[r];if(a===Fl)r--;else return a}return 0},T3=function(t,A,r,a,i){if(r[a]===0)return Zt;var l=a-1;if(Array.isArray(i)&&i[l]===!0)return Zt;var d=l-1,u=l+1,f=A[l],g=d>=0?A[d]:0,w=A[u];if(f===jx&&w===Hx)return Zt;if(np.indexOf(f)!==-1)return Ix;if(np.indexOf(w)!==-1||Dx.indexOf(w)!==-1)return Zt;if(_w(l,A)===_x)return wf;if(rp.get(t[l])===Yg||(f===pf||f===mf)&&rp.get(t[u])===Yg||f===Sw||w===Sw||f===Ew||[Fl,Jg,Du].indexOf(f)===-1&&w===Ew||[gf,ju,N3,Bc,Cc].indexOf(w)!==-1||_w(l,A)===Hu||hg(dg,Hu,l,A)||hg([gf,ju],Zg,l,A)||hg(kw,kw,l,A))return Zt;if(f===Fl)return wf;if(f===dg||w===dg)return Zt;if(w===Wg||f===Wg)return wf;if([Jg,Du,Zg].indexOf(w)!==-1||f===F3||g===tp&&H3.indexOf(f)!==-1||f===Cc&&w===tp||w===Lw||Li.indexOf(w)!==-1&&f===ma||Li.indexOf(f)!==-1&&w===ma||f===Ou&&[ed,pf,mf].indexOf(w)!==-1||[ed,pf,mf].indexOf(f)!==-1&&w===Mu||Li.indexOf(f)!==-1&&jw.indexOf(w)!==-1||jw.indexOf(f)!==-1&&Li.indexOf(w)!==-1||[Ou,Mu].indexOf(f)!==-1&&(w===ma||[Hu,Du].indexOf(w)!==-1&&A[u+1]===ma)||[Hu,Du].indexOf(f)!==-1&&w===ma||f===ma&&[ma,Cc,Bc].indexOf(w)!==-1)return Zt;if([ma,Cc,Bc,gf,ju].indexOf(w)!==-1)for(var v=l;v>=0;){var C=A[v];if(C===ma)return Zt;if([Cc,Bc].indexOf(C)!==-1)v--;else break}if([Ou,Mu].indexOf(w)!==-1)for(var v=[gf,ju].indexOf(f)!==-1?d:l;v>=0;){var C=A[v];if(C===ma)return Zt;if([Cc,Bc].indexOf(C)!==-1)v--;else break}if(Ap===f&&[Ap,Pf,$g,ep].indexOf(w)!==-1||[Pf,$g].indexOf(f)!==-1&&[Pf,Kf].indexOf(w)!==-1||[Kf,ep].indexOf(f)!==-1&&w===Kf||Hw.indexOf(f)!==-1&&[Lw,Mu].indexOf(w)!==-1||Hw.indexOf(w)!==-1&&f===Ou||Li.indexOf(f)!==-1&&Li.indexOf(w)!==-1||f===Bc&&Li.indexOf(w)!==-1||Li.concat(ma).indexOf(f)!==-1&&w===Hu&&L3.indexOf(t[u])===-1||Li.concat(ma).indexOf(w)!==-1&&f===ju)return Zt;if(f===fg&&w===fg){for(var b=r[l],U=1;b>0&&(b--,A[b]===fg);)U++;if(U%2!==0)return Zt}return f===pf&&w===mf?Zt:wf},I3=function(t,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var r=_3(t,A.lineBreak),a=r[0],i=r[1],l=r[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(i=i.map(function(u){return[ma,mo,Tx].indexOf(u)!==-1?ed:u}));var d=A.wordBreak==="keep-all"?l.map(function(u,f){return u&&t[f]>=19968&&t[f]<=40959}):void 0;return[a,i,d]},D3=(function(){function t(A,r,a,i){this.codePoints=A,this.required=r===Ix,this.start=a,this.end=i}return t.prototype.slice=function(){return wr.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),M3=function(t,A){var r=ph(t),a=I3(r,A),i=a[0],l=a[1],d=a[2],u=r.length,f=0,g=0;return{next:function(){if(g>=u)return{done:!0,value:null};for(var w=Zt;g<u&&(w=T3(r,l,i,++g,d))===Zt;);if(w!==Zt||g===u){var v=new D3(r,w,f,g);return f=g,{value:v,done:!1}}return{done:!0,value:null}}}},O3=1,R3=2,ad=4,Tw=8,Ah=10,Iw=47,Gu=92,P3=9,K3=32,bf=34,_u=61,z3=35,V3=36,G3=37,xf=39,vf=40,Tu=41,q3=95,Jn=45,X3=33,Y3=60,J3=62,W3=64,Z3=91,$3=93,eU=61,tU=123,yf=63,AU=125,Dw=124,rU=126,nU=128,Mw=65533,gg=42,wo=43,aU=44,sU=58,iU=59,td=46,lU=0,oU=8,cU=11,uU=14,dU=31,fU=127,Xs=-1,Mx=48,Ox=97,Rx=101,hU=102,gU=117,pU=122,Px=65,Kx=69,zx=70,mU=85,wU=90,mn=function(t){return t>=Mx&&t<=57},bU=function(t){return t>=55296&&t<=57343},Uc=function(t){return mn(t)||t>=Px&&t<=zx||t>=Ox&&t<=hU},xU=function(t){return t>=Ox&&t<=pU},vU=function(t){return t>=Px&&t<=wU},yU=function(t){return xU(t)||vU(t)},BU=function(t){return t>=nU},Bf=function(t){return t===Ah||t===P3||t===K3},rh=function(t){return yU(t)||BU(t)||t===q3},Ow=function(t){return rh(t)||mn(t)||t===Jn},CU=function(t){return t>=lU&&t<=oU||t===cU||t>=uU&&t<=dU||t===fU},Ul=function(t,A){return t!==Gu?!1:A!==Ah},Cf=function(t,A,r){return t===Jn?rh(A)||Ul(A,r):rh(t)?!0:!!(t===Gu&&Ul(t,A))},pg=function(t,A,r){return t===wo||t===Jn?mn(A)?!0:A===td&&mn(r):mn(t===td?A:t)},UU=function(t){var A=0,r=1;(t[A]===wo||t[A]===Jn)&&(t[A]===Jn&&(r=-1),A++);for(var a=[];mn(t[A]);)a.push(t[A++]);var i=a.length?parseInt(wr.apply(void 0,a),10):0;t[A]===td&&A++;for(var l=[];mn(t[A]);)l.push(t[A++]);var d=l.length,u=d?parseInt(wr.apply(void 0,l),10):0;(t[A]===Kx||t[A]===Rx)&&A++;var f=1;(t[A]===wo||t[A]===Jn)&&(t[A]===Jn&&(f=-1),A++);for(var g=[];mn(t[A]);)g.push(t[A++]);var w=g.length?parseInt(wr.apply(void 0,g),10):0;return r*(i+u*Math.pow(10,-d))*Math.pow(10,f*w)},QU={type:2},FU={type:3},NU={type:4},SU={type:13},EU={type:8},kU={type:21},LU={type:9},jU={type:10},HU={type:11},_U={type:12},TU={type:14},Uf={type:23},IU={type:1},DU={type:25},MU={type:24},OU={type:26},RU={type:27},PU={type:28},KU={type:29},zU={type:31},ap={type:32},Vx=(function(){function t(){this._value=[]}return t.prototype.write=function(A){this._value=this._value.concat(ph(A))},t.prototype.read=function(){for(var A=[],r=this.consumeToken();r!==ap;)A.push(r),r=this.consumeToken();return A},t.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case bf:return this.consumeStringToken(bf);case z3:var r=this.peekCodePoint(0),a=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Ow(r)||Ul(a,i)){var l=Cf(r,a,i)?R3:O3,d=this.consumeName();return{type:5,value:d,flags:l}}break;case V3:if(this.peekCodePoint(0)===_u)return this.consumeCodePoint(),SU;break;case xf:return this.consumeStringToken(xf);case vf:return QU;case Tu:return FU;case gg:if(this.peekCodePoint(0)===_u)return this.consumeCodePoint(),TU;break;case wo:if(pg(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case aU:return NU;case Jn:var u=A,f=this.peekCodePoint(0),g=this.peekCodePoint(1);if(pg(u,f,g))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Cf(u,f,g))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(f===Jn&&g===J3)return this.consumeCodePoint(),this.consumeCodePoint(),MU;break;case td:if(pg(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case Iw:if(this.peekCodePoint(0)===gg)for(this.consumeCodePoint();;){var w=this.consumeCodePoint();if(w===gg&&(w=this.consumeCodePoint(),w===Iw))return this.consumeToken();if(w===Xs)return this.consumeToken()}break;case sU:return OU;case iU:return RU;case Y3:if(this.peekCodePoint(0)===X3&&this.peekCodePoint(1)===Jn&&this.peekCodePoint(2)===Jn)return this.consumeCodePoint(),this.consumeCodePoint(),DU;break;case W3:var v=this.peekCodePoint(0),C=this.peekCodePoint(1),b=this.peekCodePoint(2);if(Cf(v,C,b)){var d=this.consumeName();return{type:7,value:d}}break;case Z3:return PU;case Gu:if(Ul(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case $3:return KU;case eU:if(this.peekCodePoint(0)===_u)return this.consumeCodePoint(),EU;break;case tU:return HU;case AU:return _U;case gU:case mU:var U=this.peekCodePoint(0),F=this.peekCodePoint(1);return U===wo&&(Uc(F)||F===yf)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Dw:if(this.peekCodePoint(0)===_u)return this.consumeCodePoint(),LU;if(this.peekCodePoint(0)===Dw)return this.consumeCodePoint(),kU;break;case rU:if(this.peekCodePoint(0)===_u)return this.consumeCodePoint(),jU;break;case Xs:return ap}return Bf(A)?(this.consumeWhiteSpace(),zU):mn(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):rh(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:wr(A)}},t.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},t.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},t.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},t.prototype.consumeUnicodeRangeToken=function(){for(var A=[],r=this.consumeCodePoint();Uc(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();for(var a=!1;r===yf&&A.length<6;)A.push(r),r=this.consumeCodePoint(),a=!0;if(a){var i=parseInt(wr.apply(void 0,A.map(function(f){return f===yf?Mx:f})),16),l=parseInt(wr.apply(void 0,A.map(function(f){return f===yf?zx:f})),16);return{type:30,start:i,end:l}}var d=parseInt(wr.apply(void 0,A),16);if(this.peekCodePoint(0)===Jn&&Uc(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var u=[];Uc(r)&&u.length<6;)u.push(r),r=this.consumeCodePoint();var l=parseInt(wr.apply(void 0,u),16);return{type:30,start:d,end:l}}else return{type:30,start:d,end:d}},t.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===vf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===vf?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},t.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xs)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===xf||r===bf){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xs||this.peekCodePoint(0)===Tu)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),Uf)}for(;;){var i=this.consumeCodePoint();if(i===Xs||i===Tu)return{type:22,value:wr.apply(void 0,A)};if(Bf(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Xs||this.peekCodePoint(0)===Tu?(this.consumeCodePoint(),{type:22,value:wr.apply(void 0,A)}):(this.consumeBadUrlRemnants(),Uf);if(i===bf||i===xf||i===vf||CU(i))return this.consumeBadUrlRemnants(),Uf;if(i===Gu)if(Ul(i,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Uf;else A.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Bf(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===Tu||A===Xs)return;Ul(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(A){for(var r=5e4,a="";A>0;){var i=Math.min(r,A);a+=wr.apply(void 0,this._value.splice(0,i)),A-=i}return this._value.shift(),a},t.prototype.consumeStringToken=function(A){var r="",a=0;do{var i=this._value[a];if(i===Xs||i===void 0||i===A)return r+=this.consumeStringSlice(a),{type:0,value:r};if(i===Ah)return this._value.splice(0,a),IU;if(i===Gu){var l=this._value[a+1];l!==Xs&&l!==void 0&&(l===Ah?(r+=this.consumeStringSlice(a),a=-1,this._value.shift()):Ul(i,l)&&(r+=this.consumeStringSlice(a),r+=wr(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},t.prototype.consumeNumber=function(){var A=[],r=ad,a=this.peekCodePoint(0);for((a===wo||a===Jn)&&A.push(this.consumeCodePoint());mn(this.peekCodePoint(0));)A.push(this.consumeCodePoint());a=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(a===td&&mn(i))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Tw;mn(this.peekCodePoint(0));)A.push(this.consumeCodePoint());a=this.peekCodePoint(0),i=this.peekCodePoint(1);var l=this.peekCodePoint(2);if((a===Kx||a===Rx)&&((i===wo||i===Jn)&&mn(l)||mn(i)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Tw;mn(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[UU(A),r]},t.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),r=A[0],a=A[1],i=this.peekCodePoint(0),l=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Cf(i,l,d)){var u=this.consumeName();return{type:15,number:r,flags:a,unit:u}}return i===G3?(this.consumeCodePoint(),{type:16,number:r,flags:a}):{type:17,number:r,flags:a}},t.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Uc(A)){for(var r=wr(A);Uc(this.peekCodePoint(0))&&r.length<6;)r+=wr(this.consumeCodePoint());Bf(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(r,16);return a===0||bU(a)||a>1114111?Mw:a}return A===Xs?Mw:A},t.prototype.consumeName=function(){for(var A="";;){var r=this.consumeCodePoint();if(Ow(r))A+=wr(r);else if(Ul(r,this.peekCodePoint(0)))A+=wr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),A}},t})(),Gx=(function(){function t(A){this._tokens=A}return t.create=function(A){var r=new Vx;return r.write(A),new t(r.read())},t.parseValue=function(A){return t.create(A).parseComponentValue()},t.parseValues=function(A){return t.create(A).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var r=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var A=[];;){var r=this.consumeComponentValue();if(r.type===32)return A;A.push(r),A.push()}},t.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},t.prototype.consumeSimpleBlock=function(A){for(var r={type:A,values:[]},a=this.consumeToken();;){if(a.type===32||GU(a,A))return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue()),a=this.consumeToken()}},t.prototype.consumeFunction=function(A){for(var r={name:A.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?ap:A},t.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},t})(),sd=function(t){return t.type===15},Vc=function(t){return t.type===17},SA=function(t){return t.type===20},VU=function(t){return t.type===0},sp=function(t,A){return SA(t)&&t.value===A},qx=function(t){return t.type!==31},Kc=function(t){return t.type!==31&&t.type!==4},$s=function(t){var A=[],r=[];return t.forEach(function(a){if(a.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(r),r=[];return}a.type!==31&&r.push(a)}),r.length&&A.push(r),A},GU=function(t,A){return A===11&&t.type===12||A===28&&t.type===29?!0:A===2&&t.type===3},Hl=function(t){return t.type===17||t.type===15},Nr=function(t){return t.type===16||Hl(t)},Xx=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ln={type:17,number:0,flags:ad},kp={type:16,number:50,flags:ad},Nl={type:16,number:100,flags:ad},Ru=function(t,A,r){var a=t[0],i=t[1];return[_A(a,A),_A(typeof i<"u"?i:a,r)]},_A=function(t,A){if(t.type===16)return t.number/100*A;if(sd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Yx="deg",Jx="grad",Wx="rad",Zx="turn",mh={name:"angle",parse:function(t,A){if(A.type===15)switch(A.unit){case Yx:return Math.PI*A.number/180;case Jx:return Math.PI/200*A.number;case Wx:return A.number;case Zx:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},$x=function(t){return t.type===15&&(t.unit===Yx||t.unit===Jx||t.unit===Wx||t.unit===Zx)},ev=function(t){var A=t.filter(SA).map(function(r){return r.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ln,ln];case"to top":case"bottom":return Oa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ln,Nl];case"to right":case"left":return Oa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Nl,Nl];case"to bottom":case"top":return Oa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Nl,ln];case"to left":case"right":return Oa(270)}return 0},Oa=function(t){return Math.PI*t/180},kl={name:"color",parse:function(t,A){if(A.type===18){var r=qU[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return r(t,A.values)}if(A.type===5){if(A.value.length===3){var a=A.value.substring(0,1),i=A.value.substring(1,2),l=A.value.substring(2,3);return Sl(parseInt(a+a,16),parseInt(i+i,16),parseInt(l+l,16),1)}if(A.value.length===4){var a=A.value.substring(0,1),i=A.value.substring(1,2),l=A.value.substring(2,3),d=A.value.substring(3,4);return Sl(parseInt(a+a,16),parseInt(i+i,16),parseInt(l+l,16),parseInt(d+d,16)/255)}if(A.value.length===6){var a=A.value.substring(0,2),i=A.value.substring(2,4),l=A.value.substring(4,6);return Sl(parseInt(a,16),parseInt(i,16),parseInt(l,16),1)}if(A.value.length===8){var a=A.value.substring(0,2),i=A.value.substring(2,4),l=A.value.substring(4,6),d=A.value.substring(6,8);return Sl(parseInt(a,16),parseInt(i,16),parseInt(l,16),parseInt(d,16)/255)}}if(A.type===20){var u=_i[A.value.toUpperCase()];if(typeof u<"u")return u}return _i.TRANSPARENT}},Ll=function(t){return(255&t)===0},Xr=function(t){var A=255&t,r=255&t>>8,a=255&t>>16,i=255&t>>24;return A<255?"rgba("+i+","+a+","+r+","+A/255+")":"rgb("+i+","+a+","+r+")"},Sl=function(t,A,r,a){return(t<<24|A<<16|r<<8|Math.round(a*255)<<0)>>>0},Rw=function(t,A){if(t.type===17)return t.number;if(t.type===16){var r=A===3?1:255;return A===3?t.number/100*r:Math.round(t.number/100*r)}return 0},Pw=function(t,A){var r=A.filter(Kc);if(r.length===3){var a=r.map(Rw),i=a[0],l=a[1],d=a[2];return Sl(i,l,d,1)}if(r.length===4){var u=r.map(Rw),i=u[0],l=u[1],d=u[2],f=u[3];return Sl(i,l,d,f)}return 0};function mg(t,A,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(A-t)*r*6+t:r<1/2?A:r<2/3?(A-t)*6*(2/3-r)+t:t}var Kw=function(t,A){var r=A.filter(Kc),a=r[0],i=r[1],l=r[2],d=r[3],u=(a.type===17?Oa(a.number):mh.parse(t,a))/(Math.PI*2),f=Nr(i)?i.number/100:0,g=Nr(l)?l.number/100:0,w=typeof d<"u"&&Nr(d)?_A(d,1):1;if(f===0)return Sl(g*255,g*255,g*255,1);var v=g<=.5?g*(f+1):g+f-g*f,C=g*2-v,b=mg(C,v,u+1/3),U=mg(C,v,u),F=mg(C,v,u-1/3);return Sl(b*255,U*255,F*255,w)},qU={hsl:Kw,hsla:Kw,rgb:Pw,rgba:Pw},qu=function(t,A){return kl.parse(t,Gx.create(A).parseComponentValue())},_i={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},XU={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(r){if(SA(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},YU={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wh=function(t,A){var r=kl.parse(t,A[0]),a=A[1];return a&&Nr(a)?{color:r,stop:a}:{color:r,stop:null}},zw=function(t,A){var r=t[0],a=t[t.length-1];r.stop===null&&(r.stop=ln),a.stop===null&&(a.stop=Nl);for(var i=[],l=0,d=0;d<t.length;d++){var u=t[d].stop;if(u!==null){var f=_A(u,A);f>l?i.push(f):i.push(l),l=f}else i.push(null)}for(var g=null,d=0;d<i.length;d++){var w=i[d];if(w===null)g===null&&(g=d);else if(g!==null){for(var v=d-g,C=i[g-1],b=(w-C)/(v+1),U=1;U<=v;U++)i[g+U-1]=b*U;g=null}}return t.map(function(F,L){var N=F.color;return{color:N,stop:Math.max(Math.min(1,i[L]/A),0)}})},JU=function(t,A,r){var a=A/2,i=r/2,l=_A(t[0],A)-a,d=i-_A(t[1],r);return(Math.atan2(d,l)+Math.PI*2)%(Math.PI*2)},WU=function(t,A,r){var a=typeof t=="number"?t:JU(t,A,r),i=Math.abs(A*Math.sin(a))+Math.abs(r*Math.cos(a)),l=A/2,d=r/2,u=i/2,f=Math.sin(a-Math.PI/2)*u,g=Math.cos(a-Math.PI/2)*u;return[i,l-g,l+g,d-f,d+f]},xs=function(t,A){return Math.sqrt(t*t+A*A)},Vw=function(t,A,r,a,i){var l=[[0,0],[0,A],[t,0],[t,A]];return l.reduce(function(d,u){var f=u[0],g=u[1],w=xs(r-f,a-g);return(i?w<d.optimumDistance:w>d.optimumDistance)?{optimumCorner:u,optimumDistance:w}:d},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},ZU=function(t,A,r,a,i){var l=0,d=0;switch(t.size){case 0:t.shape===0?l=d=Math.min(Math.abs(A),Math.abs(A-a),Math.abs(r),Math.abs(r-i)):t.shape===1&&(l=Math.min(Math.abs(A),Math.abs(A-a)),d=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)l=d=Math.min(xs(A,r),xs(A,r-i),xs(A-a,r),xs(A-a,r-i));else if(t.shape===1){var u=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(A),Math.abs(A-a)),f=Vw(a,i,A,r,!0),g=f[0],w=f[1];l=xs(g-A,(w-r)/u),d=u*l}break;case 1:t.shape===0?l=d=Math.max(Math.abs(A),Math.abs(A-a),Math.abs(r),Math.abs(r-i)):t.shape===1&&(l=Math.max(Math.abs(A),Math.abs(A-a)),d=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)l=d=Math.max(xs(A,r),xs(A,r-i),xs(A-a,r),xs(A-a,r-i));else if(t.shape===1){var u=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(A),Math.abs(A-a)),v=Vw(a,i,A,r,!1),g=v[0],w=v[1];l=xs(g-A,(w-r)/u),d=u*l}break}return Array.isArray(t.size)&&(l=_A(t.size[0],a),d=t.size.length===2?_A(t.size[1],i):l),[l,d]},$U=function(t,A){var r=Oa(180),a=[];return $s(A).forEach(function(i,l){if(l===0){var d=i[0];if(d.type===20&&d.value==="to"){r=ev(i);return}else if($x(d)){r=mh.parse(t,d);return}}var u=wh(t,i);a.push(u)}),{angle:r,stops:a,type:1}},Qf=function(t,A){var r=Oa(180),a=[];return $s(A).forEach(function(i,l){if(l===0){var d=i[0];if(d.type===20&&["top","left","right","bottom"].indexOf(d.value)!==-1){r=ev(i);return}else if($x(d)){r=(mh.parse(t,d)+Oa(270))%Oa(360);return}}var u=wh(t,i);a.push(u)}),{angle:r,stops:a,type:1}},e6=function(t,A){var r=Oa(180),a=[],i=1,l=0,d=3,u=[];return $s(A).forEach(function(f,g){var w=f[0];if(g===0){if(SA(w)&&w.value==="linear"){i=1;return}else if(SA(w)&&w.value==="radial"){i=2;return}}if(w.type===18){if(w.name==="from"){var v=kl.parse(t,w.values[0]);a.push({stop:ln,color:v})}else if(w.name==="to"){var v=kl.parse(t,w.values[0]);a.push({stop:Nl,color:v})}else if(w.name==="color-stop"){var C=w.values.filter(Kc);if(C.length===2){var v=kl.parse(t,C[1]),b=C[0];Vc(b)&&a.push({stop:{type:16,number:b.number*100,flags:b.flags},color:v})}}}}),i===1?{angle:(r+Oa(180))%Oa(360),stops:a,type:i}:{size:d,shape:l,stops:a,position:u,type:i}},tv="closest-side",Av="farthest-side",rv="closest-corner",nv="farthest-corner",av="circle",sv="ellipse",iv="cover",lv="contain",t6=function(t,A){var r=0,a=3,i=[],l=[];return $s(A).forEach(function(d,u){var f=!0;if(u===0){var g=!1;f=d.reduce(function(v,C){if(g)if(SA(C))switch(C.value){case"center":return l.push(kp),v;case"top":case"left":return l.push(ln),v;case"right":case"bottom":return l.push(Nl),v}else(Nr(C)||Hl(C))&&l.push(C);else if(SA(C))switch(C.value){case av:return r=0,!1;case sv:return r=1,!1;case"at":return g=!0,!1;case tv:return a=0,!1;case iv:case Av:return a=1,!1;case lv:case rv:return a=2,!1;case nv:return a=3,!1}else if(Hl(C)||Nr(C))return Array.isArray(a)||(a=[]),a.push(C),!1;return v},f)}if(f){var w=wh(t,d);i.push(w)}}),{size:a,shape:r,stops:i,position:l,type:2}},Ff=function(t,A){var r=0,a=3,i=[],l=[];return $s(A).forEach(function(d,u){var f=!0;if(u===0?f=d.reduce(function(w,v){if(SA(v))switch(v.value){case"center":return l.push(kp),!1;case"top":case"left":return l.push(ln),!1;case"right":case"bottom":return l.push(Nl),!1}else if(Nr(v)||Hl(v))return l.push(v),!1;return w},f):u===1&&(f=d.reduce(function(w,v){if(SA(v))switch(v.value){case av:return r=0,!1;case sv:return r=1,!1;case lv:case tv:return a=0,!1;case Av:return a=1,!1;case rv:return a=2,!1;case iv:case nv:return a=3,!1}else if(Hl(v)||Nr(v))return Array.isArray(a)||(a=[]),a.push(v),!1;return w},f)),f){var g=wh(t,d);i.push(g)}}),{size:a,shape:r,stops:i,position:l,type:2}},A6=function(t){return t.type===1},r6=function(t){return t.type===2},Lp={name:"image",parse:function(t,A){if(A.type===22){var r={url:A.value,type:0};return t.cache.addImage(A.value),r}if(A.type===18){var a=ov[A.name];if(typeof a>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return a(t,A.values)}throw new Error("Unsupported image type "+A.type)}};function n6(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!ov[t.name])}var ov={"linear-gradient":$U,"-moz-linear-gradient":Qf,"-ms-linear-gradient":Qf,"-o-linear-gradient":Qf,"-webkit-linear-gradient":Qf,"radial-gradient":t6,"-moz-radial-gradient":Ff,"-ms-radial-gradient":Ff,"-o-radial-gradient":Ff,"-webkit-radial-gradient":Ff,"-webkit-gradient":e6},a6={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var r=A[0];return r.type===20&&r.value==="none"?[]:A.filter(function(a){return Kc(a)&&n6(a)}).map(function(a){return Lp.parse(t,a)})}},s6={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,A){return A.map(function(r){if(SA(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},i6={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,A){return $s(A).map(function(r){return r.filter(Nr)}).map(Xx)}},l6={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,A){return $s(A).map(function(r){return r.filter(SA).map(function(a){return a.value}).join(" ")}).map(o6)}},o6=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Rc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Rc||(Rc={}));var c6={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,A){return $s(A).map(function(r){return r.filter(u6)})}},u6=function(t){return SA(t)||Nr(t)},bh=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},d6=bh("top"),f6=bh("right"),h6=bh("bottom"),g6=bh("left"),xh=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(A,r){return Xx(r.filter(Nr))}}},p6=xh("top-left"),m6=xh("top-right"),w6=xh("bottom-right"),b6=xh("bottom-left"),vh=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},x6=vh("top"),v6=vh("right"),y6=vh("bottom"),B6=vh("left"),yh=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,r){return sd(r)?r.number:0}}},C6=yh("top"),U6=yh("right"),Q6=yh("bottom"),F6=yh("left"),N6={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},S6={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},E6={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,A){return A.filter(SA).reduce(function(r,a){return r|k6(a.value)},0)}},k6=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},L6={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},j6={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},nh;(function(t){t.NORMAL="normal",t.STRICT="strict"})(nh||(nh={}));var H6={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"strict":return nh.STRICT;case"normal":default:return nh.NORMAL}}},_6={name:"line-height",initialValue:"normal",prefix:!1,type:4},Gw=function(t,A){return SA(t)&&t.value==="normal"?1.2*A:t.type===17?A*t.number:Nr(t)?_A(t,A):A},T6={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,A){return A.type===20&&A.value==="none"?null:Lp.parse(t,A)}},I6={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},ip={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Bh=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},D6=Bh("top"),M6=Bh("right"),O6=Bh("bottom"),R6=Bh("left"),P6={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,A){return A.filter(SA).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},K6={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ch=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},z6=Ch("top"),V6=Ch("right"),G6=Ch("bottom"),q6=Ch("left"),X6={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Y6={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},J6={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&sp(A[0],"none")?[]:$s(A).map(function(r){for(var a={color:_i.TRANSPARENT,offsetX:ln,offsetY:ln,blur:ln},i=0,l=0;l<r.length;l++){var d=r[l];Hl(d)?(i===0?a.offsetX=d:i===1?a.offsetY=d:a.blur=d,i++):a.color=kl.parse(t,d)}return a})}},W6={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Z6={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var r=tQ[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return r(A.values)}return null}},$6=function(t){var A=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return A.length===6?A:null},eQ=function(t){var A=t.filter(function(f){return f.type===17}).map(function(f){return f.number}),r=A[0],a=A[1];A[2],A[3];var i=A[4],l=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var d=A[12],u=A[13];return A[14],A[15],A.length===16?[r,a,i,l,d,u]:null},tQ={matrix:$6,matrix3d:eQ},qw={type:16,number:50,flags:ad},AQ=[qw,qw],rQ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,A){var r=A.filter(Nr);return r.length!==2?AQ:[r[0],r[1]]}},nQ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xu;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Xu||(Xu={}));var aQ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"break-all":return Xu.BREAK_ALL;case"keep-all":return Xu.KEEP_ALL;case"normal":default:return Xu.NORMAL}}},sQ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,A){if(A.type===20)return{auto:!0,order:0};if(Vc(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},cv={name:"time",parse:function(t,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},iQ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,A){return Vc(A)?A.number:1}},lQ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oQ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,A){return A.filter(SA).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},cQ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,A){var r=[],a=[];return A.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:a.push(r.join(" ")),r.length=0;break}}),r.length&&a.push(r.join(" ")),a.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},uQ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},dQ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,A){if(Vc(A))return A.number;if(SA(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},fQ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.filter(SA).map(function(r){return r.value})}},hQ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Dr=function(t,A){return(t&A)!==0},gQ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,A){if(A.length===0)return[];var r=A[0];return r.type===20&&r.value==="none"?[]:A}},pQ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,A){if(A.length===0)return null;var r=A[0];if(r.type===20&&r.value==="none")return null;for(var a=[],i=A.filter(qx),l=0;l<i.length;l++){var d=i[l],u=i[l+1];if(d.type===20){var f=u&&Vc(u)?u.number:1;a.push({counter:d.value,increment:f})}}return a}},mQ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,A){if(A.length===0)return[];for(var r=[],a=A.filter(qx),i=0;i<a.length;i++){var l=a[i],d=a[i+1];if(SA(l)&&l.value!=="none"){var u=d&&Vc(d)?d.number:0;r.push({counter:l.value,reset:u})}}return r}},wQ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,A){return A.filter(sd).map(function(r){return cv.parse(t,r)})}},bQ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,A){if(A.length===0)return null;var r=A[0];if(r.type===20&&r.value==="none")return null;var a=[],i=A.filter(VU);if(i.length%2!==0)return null;for(var l=0;l<i.length;l+=2){var d=i[l].value,u=i[l+1].value;a.push({open:d,close:u})}return a}},Xw=function(t,A,r){if(!t)return"";var a=t[Math.min(A,t.length-1)];return a?r?a.open:a.close:""},xQ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,A){return A.length===1&&sp(A[0],"none")?[]:$s(A).map(function(r){for(var a={color:255,offsetX:ln,offsetY:ln,blur:ln,spread:ln,inset:!1},i=0,l=0;l<r.length;l++){var d=r[l];sp(d,"inset")?a.inset=!0:Hl(d)?(i===0?a.offsetX=d:i===1?a.offsetY=d:i===2?a.blur=d:a.spread=d,i++):a.color=kl.parse(t,d)}return a})}},vQ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,A){var r=[0,1,2],a=[];return A.filter(SA).forEach(function(i){switch(i.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),r.forEach(function(i){a.indexOf(i)===-1&&a.push(i)}),a}},yQ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},BQ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,A){return sd(A)?A.number:0}},CQ=(function(){function t(A,r){var a,i;this.animationDuration=At(A,wQ,r.animationDuration),this.backgroundClip=At(A,XU,r.backgroundClip),this.backgroundColor=At(A,YU,r.backgroundColor),this.backgroundImage=At(A,a6,r.backgroundImage),this.backgroundOrigin=At(A,s6,r.backgroundOrigin),this.backgroundPosition=At(A,i6,r.backgroundPosition),this.backgroundRepeat=At(A,l6,r.backgroundRepeat),this.backgroundSize=At(A,c6,r.backgroundSize),this.borderTopColor=At(A,d6,r.borderTopColor),this.borderRightColor=At(A,f6,r.borderRightColor),this.borderBottomColor=At(A,h6,r.borderBottomColor),this.borderLeftColor=At(A,g6,r.borderLeftColor),this.borderTopLeftRadius=At(A,p6,r.borderTopLeftRadius),this.borderTopRightRadius=At(A,m6,r.borderTopRightRadius),this.borderBottomRightRadius=At(A,w6,r.borderBottomRightRadius),this.borderBottomLeftRadius=At(A,b6,r.borderBottomLeftRadius),this.borderTopStyle=At(A,x6,r.borderTopStyle),this.borderRightStyle=At(A,v6,r.borderRightStyle),this.borderBottomStyle=At(A,y6,r.borderBottomStyle),this.borderLeftStyle=At(A,B6,r.borderLeftStyle),this.borderTopWidth=At(A,C6,r.borderTopWidth),this.borderRightWidth=At(A,U6,r.borderRightWidth),this.borderBottomWidth=At(A,Q6,r.borderBottomWidth),this.borderLeftWidth=At(A,F6,r.borderLeftWidth),this.boxShadow=At(A,xQ,r.boxShadow),this.color=At(A,N6,r.color),this.direction=At(A,S6,r.direction),this.display=At(A,E6,r.display),this.float=At(A,L6,r.cssFloat),this.fontFamily=At(A,cQ,r.fontFamily),this.fontSize=At(A,uQ,r.fontSize),this.fontStyle=At(A,hQ,r.fontStyle),this.fontVariant=At(A,fQ,r.fontVariant),this.fontWeight=At(A,dQ,r.fontWeight),this.letterSpacing=At(A,j6,r.letterSpacing),this.lineBreak=At(A,H6,r.lineBreak),this.lineHeight=At(A,_6,r.lineHeight),this.listStyleImage=At(A,T6,r.listStyleImage),this.listStylePosition=At(A,I6,r.listStylePosition),this.listStyleType=At(A,ip,r.listStyleType),this.marginTop=At(A,D6,r.marginTop),this.marginRight=At(A,M6,r.marginRight),this.marginBottom=At(A,O6,r.marginBottom),this.marginLeft=At(A,R6,r.marginLeft),this.opacity=At(A,iQ,r.opacity);var l=At(A,P6,r.overflow);this.overflowX=l[0],this.overflowY=l[l.length>1?1:0],this.overflowWrap=At(A,K6,r.overflowWrap),this.paddingTop=At(A,z6,r.paddingTop),this.paddingRight=At(A,V6,r.paddingRight),this.paddingBottom=At(A,G6,r.paddingBottom),this.paddingLeft=At(A,q6,r.paddingLeft),this.paintOrder=At(A,vQ,r.paintOrder),this.position=At(A,Y6,r.position),this.textAlign=At(A,X6,r.textAlign),this.textDecorationColor=At(A,lQ,(a=r.textDecorationColor)!==null&&a!==void 0?a:r.color),this.textDecorationLine=At(A,oQ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=At(A,J6,r.textShadow),this.textTransform=At(A,W6,r.textTransform),this.transform=At(A,Z6,r.transform),this.transformOrigin=At(A,rQ,r.transformOrigin),this.visibility=At(A,nQ,r.visibility),this.webkitTextStrokeColor=At(A,yQ,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=At(A,BQ,r.webkitTextStrokeWidth),this.wordBreak=At(A,aQ,r.wordBreak),this.zIndex=At(A,sQ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ll(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Dr(this.display,4)||Dr(this.display,33554432)||Dr(this.display,268435456)||Dr(this.display,536870912)||Dr(this.display,67108864)||Dr(this.display,134217728)},t})(),UQ=(function(){function t(A,r){this.content=At(A,gQ,r.content),this.quotes=At(A,bQ,r.quotes)}return t})(),Yw=(function(){function t(A,r){this.counterIncrement=At(A,pQ,r.counterIncrement),this.counterReset=At(A,mQ,r.counterReset)}return t})(),At=function(t,A,r){var a=new Vx,i=r!==null&&typeof r<"u"?r.toString():A.initialValue;a.write(i);var l=new Gx(a.read());switch(A.type){case 2:var d=l.parseComponentValue();return A.parse(t,SA(d)?d.value:A.initialValue);case 0:return A.parse(t,l.parseComponentValue());case 1:return A.parse(t,l.parseComponentValues());case 4:return l.parseComponentValue();case 3:switch(A.format){case"angle":return mh.parse(t,l.parseComponentValue());case"color":return kl.parse(t,l.parseComponentValue());case"image":return Lp.parse(t,l.parseComponentValue());case"length":var u=l.parseComponentValue();return Hl(u)?u:ln;case"length-percentage":var f=l.parseComponentValue();return Nr(f)?f:ln;case"time":return cv.parse(t,l.parseComponentValue())}break}},QQ="data-html2canvas-debug",FQ=function(t){var A=t.getAttribute(QQ);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},lp=function(t,A){var r=FQ(t);return r===1||A===r},ei=(function(){function t(A,r){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,lp(r,3))debugger;this.styles=new CQ(A,window.getComputedStyle(r,null)),up(r)&&(this.styles.animationDuration.some(function(a){return a>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=gh(this.context,r),lp(r,4)&&(this.flags|=16)}return t})(),NQ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Jw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nf=0;Nf<Jw.length;Nf++)Pu[Jw.charCodeAt(Nf)]=Nf;var SQ=function(t){var A=t.length*.75,r=t.length,a,i=0,l,d,u,f;t[t.length-1]==="="&&(A--,t[t.length-2]==="="&&A--);var g=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),w=Array.isArray(g)?g:new Uint8Array(g);for(a=0;a<r;a+=4)l=Pu[t.charCodeAt(a)],d=Pu[t.charCodeAt(a+1)],u=Pu[t.charCodeAt(a+2)],f=Pu[t.charCodeAt(a+3)],w[i++]=l<<2|d>>4,w[i++]=(d&15)<<4|u>>2,w[i++]=(u&3)<<6|f&63;return g},EQ=function(t){for(var A=t.length,r=[],a=0;a<A;a+=2)r.push(t[a+1]<<8|t[a]);return r},kQ=function(t){for(var A=t.length,r=[],a=0;a<A;a+=4)r.push(t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a]);return r},vo=5,jp=11,wg=2,LQ=jp-vo,uv=65536>>vo,jQ=1<<vo,bg=jQ-1,HQ=1024>>vo,_Q=uv+HQ,TQ=_Q,IQ=32,DQ=TQ+IQ,MQ=65536>>jp,OQ=1<<LQ,RQ=OQ-1,Ww=function(t,A,r){return t.slice?t.slice(A,r):new Uint16Array(Array.prototype.slice.call(t,A,r))},PQ=function(t,A,r){return t.slice?t.slice(A,r):new Uint32Array(Array.prototype.slice.call(t,A,r))},KQ=function(t,A){var r=SQ(t),a=Array.isArray(r)?kQ(r):new Uint32Array(r),i=Array.isArray(r)?EQ(r):new Uint16Array(r),l=24,d=Ww(i,l/2,a[4]/2),u=a[5]===2?Ww(i,(l+a[4])/2):PQ(a,Math.ceil((l+a[4])/4));return new zQ(a[0],a[1],a[2],a[3],d,u)},zQ=(function(){function t(A,r,a,i,l,d){this.initialValue=A,this.errorValue=r,this.highStart=a,this.highValueIndex=i,this.index=l,this.data=d}return t.prototype.get=function(A){var r;if(A>=0){if(A<55296||A>56319&&A<=65535)return r=this.index[A>>vo],r=(r<<wg)+(A&bg),this.data[r];if(A<=65535)return r=this.index[uv+(A-55296>>vo)],r=(r<<wg)+(A&bg),this.data[r];if(A<this.highStart)return r=DQ-MQ+(A>>jp),r=this.index[r],r+=A>>vo&RQ,r=this.index[r],r=(r<<wg)+(A&bg),this.data[r];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),Zw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",VQ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sf=0;Sf<Zw.length;Sf++)VQ[Zw.charCodeAt(Sf)]=Sf;var GQ=1,xg=2,vg=3,$w=4,eb=5,qQ=7,tb=8,yg=9,Bg=10,Ab=11,rb=12,nb=13,ab=14,Cg=15,XQ=function(t){for(var A=[],r=0,a=t.length;r<a;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<a){var l=t.charCodeAt(r++);(l&64512)===56320?A.push(((i&1023)<<10)+(l&1023)+65536):(A.push(i),r--)}else A.push(i)}return A},YQ=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var a=[],i=-1,l="";++i<r;){var d=t[i];d<=65535?a.push(d):(d-=65536,a.push((d>>10)+55296,d%1024+56320)),(i+1===r||a.length>16384)&&(l+=String.fromCharCode.apply(String,a),a.length=0)}return l},JQ=KQ(NQ),Da="",Ug="",WQ=function(t){return JQ.get(t)},ZQ=function(t,A,r){var a=r-2,i=A[a],l=A[r-1],d=A[r];if(l===xg&&d===vg)return Da;if(l===xg||l===vg||l===$w||d===xg||d===vg||d===$w)return Ug;if(l===tb&&[tb,yg,Ab,rb].indexOf(d)!==-1||(l===Ab||l===yg)&&(d===yg||d===Bg)||(l===rb||l===Bg)&&d===Bg||d===nb||d===eb||d===qQ||l===GQ)return Da;if(l===nb&&d===ab){for(;i===eb;)i=A[--a];if(i===ab)return Da}if(l===Cg&&d===Cg){for(var u=0;i===Cg;)u++,i=A[--a];if(u%2===0)return Da}return Ug},$Q=function(t){var A=XQ(t),r=A.length,a=0,i=0,l=A.map(WQ);return{next:function(){if(a>=r)return{done:!0,value:null};for(var d=Da;a<r&&(d=ZQ(A,l,++a))===Da;);if(d!==Da||a===r){var u=YQ.apply(null,A.slice(i,a));return i=a,{value:u,done:!1}}return{done:!0,value:null}}}},eF=function(t){for(var A=$Q(t),r=[],a;!(a=A.next()).done;)a.value&&r.push(a.value.slice());return r},tF=function(t){var A=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var a=t.createElement("boundtest");a.style.height=A+"px",a.style.display="block",t.body.appendChild(a),r.selectNode(a);var i=r.getBoundingClientRect(),l=Math.round(i.height);if(t.body.removeChild(a),l===A)return!0}}return!1},AF=function(t){var A=t.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",t.body.appendChild(A);var r=t.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=A.firstChild,i=ph(a.data).map(function(f){return wr(f)}),l=0,d={},u=i.every(function(f,g){r.setStart(a,l),r.setEnd(a,l+f.length);var w=r.getBoundingClientRect();l+=f.length;var v=w.x>d.x||w.y>d.y;return d=w,g===0?!0:v});return t.body.removeChild(A),u},rF=function(){return typeof new Image().crossOrigin<"u"},nF=function(){return typeof new XMLHttpRequest().responseType=="string"},aF=function(t){var A=new Image,r=t.createElement("canvas"),a=r.getContext("2d");if(!a)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(A,0,0),r.toDataURL()}catch{return!1}return!0},sb=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},sF=function(t){var A=t.createElement("canvas"),r=100;A.width=r,A.height=r;var a=A.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,r,r);var i=new Image,l=A.toDataURL();i.src=l;var d=op(r,r,0,0,i);return a.fillStyle="red",a.fillRect(0,0,r,r),ib(d).then(function(u){a.drawImage(u,0,0);var f=a.getImageData(0,0,r,r).data;a.fillStyle="red",a.fillRect(0,0,r,r);var g=t.createElement("div");return g.style.backgroundImage="url("+l+")",g.style.height=r+"px",sb(f)?ib(op(r,r,0,0,g)):Promise.reject(!1)}).then(function(u){return a.drawImage(u,0,0),sb(a.getImageData(0,0,r,r).data)}).catch(function(){return!1})},op=function(t,A,r,a,i){var l="http://www.w3.org/2000/svg",d=document.createElementNS(l,"svg"),u=document.createElementNS(l,"foreignObject");return d.setAttributeNS(null,"width",t.toString()),d.setAttributeNS(null,"height",A.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",a.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),d.appendChild(u),u.appendChild(i),d},ib=function(t){return new Promise(function(A,r){var a=new Image;a.onload=function(){return A(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},an={get SUPPORT_RANGE_BOUNDS(){var t=tF(document);return Object.defineProperty(an,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=an.SUPPORT_RANGE_BOUNDS&&AF(document);return Object.defineProperty(an,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=aF(document);return Object.defineProperty(an,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?sF(document):Promise.resolve(!1);return Object.defineProperty(an,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=rF();return Object.defineProperty(an,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=nF();return Object.defineProperty(an,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(an,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(an,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Yu=(function(){function t(A,r){this.text=A,this.bounds=r}return t})(),iF=function(t,A,r,a){var i=cF(A,r),l=[],d=0;return i.forEach(function(u){if(r.textDecorationLine.length||u.trim().length>0)if(an.SUPPORT_RANGE_BOUNDS){var f=lb(a,d,u.length).getClientRects();if(f.length>1){var g=Hp(u),w=0;g.forEach(function(C){l.push(new Yu(C,Ii.fromDOMRectList(t,lb(a,w+d,C.length).getClientRects()))),w+=C.length})}else l.push(new Yu(u,Ii.fromDOMRectList(t,f)))}else{var v=a.splitText(u.length);l.push(new Yu(u,lF(t,a))),a=v}else an.SUPPORT_RANGE_BOUNDS||(a=a.splitText(u.length));d+=u.length}),l},lF=function(t,A){var r=A.ownerDocument;if(r){var a=r.createElement("html2canvaswrapper");a.appendChild(A.cloneNode(!0));var i=A.parentNode;if(i){i.replaceChild(a,A);var l=gh(t,a);return a.firstChild&&i.replaceChild(a.firstChild,a),l}}return Ii.EMPTY},lb=function(t,A,r){var a=t.ownerDocument;if(!a)throw new Error("Node has no owner document");var i=a.createRange();return i.setStart(t,A),i.setEnd(t,A+r),i},Hp=function(t){if(an.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(t)).map(function(r){return r.segment})}return eF(t)},oF=function(t,A){if(an.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(a){return a.segment})}return dF(t,A)},cF=function(t,A){return A.letterSpacing!==0?Hp(t):oF(t,A)},uF=[32,160,4961,65792,65793,4153,4241],dF=function(t,A){for(var r=M3(t,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),a=[],i,l=function(){if(i.value){var d=i.value.slice(),u=ph(d),f="";u.forEach(function(g){uF.indexOf(g)===-1?f+=wr(g):(f.length&&a.push(f),a.push(wr(g)),f="")}),f.length&&a.push(f)}};!(i=r.next()).done;)l();return a},fF=(function(){function t(A,r,a){this.text=hF(r.data,a.textTransform),this.textBounds=iF(A,this.text,a,r)}return t})(),hF=function(t,A){switch(A){case 1:return t.toLowerCase();case 3:return t.replace(gF,pF);case 2:return t.toUpperCase();default:return t}},gF=/(^|\s|:|-|\(|\))([a-z])/g,pF=function(t,A,r){return t.length>0?A+r.toUpperCase():t},dv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i.src=a.currentSrc||a.src,i.intrinsicWidth=a.naturalWidth,i.intrinsicHeight=a.naturalHeight,i.context.cache.addImage(i.src),i}return A})(ei),fv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i.canvas=a,i.intrinsicWidth=a.width,i.intrinsicHeight=a.height,i}return A})(ei),hv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this,l=new XMLSerializer,d=gh(r,a);return a.setAttribute("width",d.width+"px"),a.setAttribute("height",d.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(l.serializeToString(a)),i.intrinsicWidth=a.width.baseVal.value,i.intrinsicHeight=a.height.baseVal.value,i.context.cache.addImage(i.svg),i}return A})(ei),gv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i.value=a.value,i}return A})(ei),cp=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i.start=a.start,i.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,i}return A})(ei),mF=[{type:15,flags:0,unit:"px",number:3}],wF=[{type:16,flags:0,number:50}],bF=function(t){return t.width>t.height?new Ii(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Ii(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},xF=function(t){var A=t.type===vF?new Array(t.value.length+1).join(""):t.value;return A.length===0?t.placeholder||"":A},ah="checkbox",sh="radio",vF="password",ob=707406591,_p=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;switch(i.type=a.type.toLowerCase(),i.checked=a.checked,i.value=xF(a),(i.type===ah||i.type===sh)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=bF(i.bounds)),i.type){case ah:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mF;break;case sh:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=wF;break}return i}return A})(ei),pv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this,l=a.options[a.selectedIndex||0];return i.value=l&&l.text||"",i}return A})(ei),mv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i.value=a.value,i}return A})(ei),wv=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;i.src=a.src,i.width=parseInt(a.width,10)||0,i.height=parseInt(a.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){i.tree=xv(r,a.contentWindow.document.documentElement);var l=a.contentWindow.document.documentElement?qu(r,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):_i.TRANSPARENT,d=a.contentWindow.document.body?qu(r,getComputedStyle(a.contentWindow.document.body).backgroundColor):_i.TRANSPARENT;i.backgroundColor=Ll(l)?Ll(d)?i.styles.backgroundColor:d:l}}catch{}return i}return A})(ei),yF=["OL","UL","MENU"],zf=function(t,A,r,a){for(var i=A.firstChild,l=void 0;i;i=l)if(l=i.nextSibling,vv(i)&&i.data.trim().length>0)r.textNodes.push(new fF(t,i,r.styles));else if(Tc(i))if(Uv(i)&&i.assignedNodes)i.assignedNodes().forEach(function(u){return zf(t,u,r,a)});else{var d=bv(t,i);d.styles.isVisible()&&(BF(i,d,a)?d.flags|=4:CF(d.styles)&&(d.flags|=2),yF.indexOf(i.tagName)!==-1&&(d.flags|=8),r.elements.push(d),i.slot,i.shadowRoot?zf(t,i.shadowRoot,d,a):!ih(i)&&!yv(i)&&!lh(i)&&zf(t,i,d,a))}},bv=function(t,A){return dp(A)?new dv(t,A):Bv(A)?new fv(t,A):yv(A)?new hv(t,A):UF(A)?new gv(t,A):QF(A)?new cp(t,A):FF(A)?new _p(t,A):lh(A)?new pv(t,A):ih(A)?new mv(t,A):Cv(A)?new wv(t,A):new ei(t,A)},xv=function(t,A){var r=bv(t,A);return r.flags|=4,zf(t,A,r,r),r},BF=function(t,A,r){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Tp(t)&&r.styles.isTransparent()},CF=function(t){return t.isPositioned()||t.isFloating()},vv=function(t){return t.nodeType===Node.TEXT_NODE},Tc=function(t){return t.nodeType===Node.ELEMENT_NODE},up=function(t){return Tc(t)&&typeof t.style<"u"&&!Vf(t)},Vf=function(t){return typeof t.className=="object"},UF=function(t){return t.tagName==="LI"},QF=function(t){return t.tagName==="OL"},FF=function(t){return t.tagName==="INPUT"},NF=function(t){return t.tagName==="HTML"},yv=function(t){return t.tagName==="svg"},Tp=function(t){return t.tagName==="BODY"},Bv=function(t){return t.tagName==="CANVAS"},cb=function(t){return t.tagName==="VIDEO"},dp=function(t){return t.tagName==="IMG"},Cv=function(t){return t.tagName==="IFRAME"},ub=function(t){return t.tagName==="STYLE"},SF=function(t){return t.tagName==="SCRIPT"},ih=function(t){return t.tagName==="TEXTAREA"},lh=function(t){return t.tagName==="SELECT"},Uv=function(t){return t.tagName==="SLOT"},db=function(t){return t.tagName.indexOf("-")>0},EF=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(A){var r=this.counters[A];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(A){var r=this.counters[A];return r||[]},t.prototype.pop=function(A){var r=this;A.forEach(function(a){return r.counters[a].pop()})},t.prototype.parse=function(A){var r=this,a=A.counterIncrement,i=A.counterReset,l=!0;a!==null&&a.forEach(function(u){var f=r.counters[u.counter];f&&u.increment!==0&&(l=!1,f.length||f.push(1),f[Math.max(0,f.length-1)]+=u.increment)});var d=[];return l&&i.forEach(function(u){var f=r.counters[u.counter];d.push(u.counter),f||(f=r.counters[u.counter]=[]),f.push(u.reset)}),d},t})(),fb={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},hb={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},kF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},LF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Qc=function(t,A,r,a,i,l){return t<A||t>r?Ad(t,i,l.length>0):a.integers.reduce(function(d,u,f){for(;t>=u;)t-=u,d+=a.values[f];return d},"")+l},Qv=function(t,A,r,a){var i="";do r||t--,i=a(t)+i,t/=A;while(t*A>=A);return i},mr=function(t,A,r,a,i){var l=r-A+1;return(t<0?"-":"")+(Qv(Math.abs(t),l,a,function(d){return wr(Math.floor(d%l)+A)})+i)},ho=function(t,A,r){r===void 0&&(r=". ");var a=A.length;return Qv(Math.abs(t),a,!1,function(i){return A[Math.floor(i%a)]})+r},jc=1,Bl=2,Cl=4,Ku=8,ji=function(t,A,r,a,i,l){if(t<-9999||t>9999)return Ad(t,4,i.length>0);var d=Math.abs(t),u=i;if(d===0)return A[0]+u;for(var f=0;d>0&&f<=4;f++){var g=d%10;g===0&&Dr(l,jc)&&u!==""?u=A[g]+u:g>1||g===1&&f===0||g===1&&f===1&&Dr(l,Bl)||g===1&&f===1&&Dr(l,Cl)&&t>100||g===1&&f>1&&Dr(l,Ku)?u=A[g]+(f>0?r[f-1]:"")+u:g===1&&f>0&&(u=r[f-1]+u),d=Math.floor(d/10)}return(t<0?a:"")+u},gb="",pb="",mb="",Qg="",Ad=function(t,A,r){var a=r?". ":"",i=r?"":"",l=r?", ":"",d=r?" ":"";switch(A){case 0:return""+d;case 1:return""+d;case 2:return""+d;case 5:var u=mr(t,48,57,!0,a);return u.length<4?"0"+u:u;case 4:return ho(t,"",i);case 6:return Qc(t,1,3999,fb,3,a).toLowerCase();case 7:return Qc(t,1,3999,fb,3,a);case 8:return mr(t,945,969,!1,a);case 9:return mr(t,97,122,!1,a);case 10:return mr(t,65,90,!1,a);case 11:return mr(t,1632,1641,!0,a);case 12:case 49:return Qc(t,1,9999,hb,3,a);case 35:return Qc(t,1,9999,hb,3,a).toLowerCase();case 13:return mr(t,2534,2543,!0,a);case 14:case 30:return mr(t,6112,6121,!0,a);case 15:return ho(t,"",i);case 16:return ho(t,"",i);case 17:case 48:return ji(t,"",gb,"",i,Bl|Cl|Ku);case 47:return ji(t,"",pb,"",i,jc|Bl|Cl|Ku);case 42:return ji(t,"",gb,"",i,Bl|Cl|Ku);case 41:return ji(t,"",pb,"",i,jc|Bl|Cl|Ku);case 26:return ji(t,"","",mb,i,0);case 25:return ji(t,"","",mb,i,jc|Bl|Cl);case 31:return ji(t,"","",Qg,l,jc|Bl|Cl);case 33:return ji(t,"","",Qg,l,0);case 32:return ji(t,"","",Qg,l,jc|Bl|Cl);case 18:return mr(t,2406,2415,!0,a);case 20:return Qc(t,1,19999,LF,3,a);case 21:return mr(t,2790,2799,!0,a);case 22:return mr(t,2662,2671,!0,a);case 22:return Qc(t,1,10999,kF,3,a);case 23:return ho(t,"");case 24:return ho(t,"");case 27:return mr(t,3302,3311,!0,a);case 28:return ho(t,"",i);case 29:return ho(t,"",i);case 34:return mr(t,3792,3801,!0,a);case 37:return mr(t,6160,6169,!0,a);case 38:return mr(t,4160,4169,!0,a);case 39:return mr(t,2918,2927,!0,a);case 40:return mr(t,1776,1785,!0,a);case 43:return mr(t,3046,3055,!0,a);case 44:return mr(t,3174,3183,!0,a);case 45:return mr(t,3664,3673,!0,a);case 46:return mr(t,3872,3881,!0,a);case 3:default:return mr(t,48,57,!0,a)}},Fv="data-html2canvas-ignore",wb=(function(){function t(A,r,a){if(this.context=A,this.options=a,this.scrolledElements=[],this.referenceElement=r,this.counters=new EF,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(A,r){var a=this,i=jF(A,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var l=A.defaultView.pageXOffset,d=A.defaultView.pageYOffset,u=i.contentWindow,f=u.document,g=TF(i).then(function(){return En(a,void 0,void 0,function(){var w,v;return pn(this,function(C){switch(C.label){case 0:return this.scrolledElements.forEach(OF),u&&(u.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(u.scrollY!==r.top||u.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-r.left,u.scrollY-r.top,0,0))),w=this.options.onclone,v=this.clonedReferenceElement,typeof v>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:f.fonts&&f.fonts.ready?[4,f.fonts.ready]:[3,2];case 1:C.sent(),C.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_F(f)]:[3,4];case 3:C.sent(),C.label=4;case 4:return typeof w=="function"?[2,Promise.resolve().then(function(){return w(f,v)}).then(function(){return i})]:[2,i]}})})});return f.open(),f.write(DF(document.doctype)+"<html></html>"),MF(this.referenceElement.ownerDocument,l,d),f.replaceChild(f.adoptNode(this.documentElement),f.documentElement),f.close(),g},t.prototype.createElementClone=function(A){if(lp(A,2))debugger;if(Bv(A))return this.createCanvasClone(A);if(cb(A))return this.createVideoClone(A);if(ub(A))return this.createStyleClone(A);var r=A.cloneNode(!1);return dp(r)&&(dp(A)&&A.currentSrc&&A.currentSrc!==A.src&&(r.src=A.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),db(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(A){var r=document.createElement("html2canvascustomelement");return Fg(A.style,r),r},t.prototype.createStyleClone=function(A){try{var r=A.sheet;if(r&&r.cssRules){var a=[].slice.call(r.cssRules,0).reduce(function(l,d){return d&&typeof d.cssText=="string"?l+d.cssText:l},""),i=A.cloneNode(!1);return i.textContent=a,i}}catch(l){if(this.context.logger.error("Unable to access cssRules property",l),l.name!=="SecurityError")throw l}return A.cloneNode(!1)},t.prototype.createCanvasClone=function(A){var r;if(this.options.inlineImages&&A.ownerDocument){var a=A.ownerDocument.createElement("img");try{return a.src=A.toDataURL(),a}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var i=A.cloneNode(!1);try{i.width=A.width,i.height=A.height;var l=A.getContext("2d"),d=i.getContext("2d");if(d)if(!this.options.allowTaint&&l)d.putImageData(l.getImageData(0,0,A.width,A.height),0,0);else{var u=(r=A.getContext("webgl2"))!==null&&r!==void 0?r:A.getContext("webgl");if(u){var f=u.getContextAttributes();(f==null?void 0:f.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}d.drawImage(A,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return i},t.prototype.createVideoClone=function(A){var r=A.ownerDocument.createElement("canvas");r.width=A.offsetWidth,r.height=A.offsetHeight;var a=r.getContext("2d");try{return a&&(a.drawImage(A,0,0,r.width,r.height),this.options.allowTaint||a.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var i=A.ownerDocument.createElement("canvas");return i.width=A.offsetWidth,i.height=A.offsetHeight,i},t.prototype.appendChildNode=function(A,r,a){(!Tc(r)||!SF(r)&&!r.hasAttribute(Fv)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Tc(r)||!ub(r))&&A.appendChild(this.cloneNode(r,a))},t.prototype.cloneChildNodes=function(A,r,a){for(var i=this,l=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;l;l=l.nextSibling)if(Tc(l)&&Uv(l)&&typeof l.assignedNodes=="function"){var d=l.assignedNodes();d.length&&d.forEach(function(u){return i.appendChildNode(r,u,a)})}else this.appendChildNode(r,l,a)},t.prototype.cloneNode=function(A,r){if(vv(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var a=A.ownerDocument.defaultView;if(a&&Tc(A)&&(up(A)||Vf(A))){var i=this.createElementClone(A);i.style.transitionProperty="none";var l=a.getComputedStyle(A),d=a.getComputedStyle(A,":before"),u=a.getComputedStyle(A,":after");this.referenceElement===A&&up(i)&&(this.clonedReferenceElement=i),Tp(i)&&KF(i);var f=this.counters.parse(new Yw(this.context,l)),g=this.resolvePseudoContent(A,i,d,Ju.BEFORE);db(A)&&(r=!0),cb(A)||this.cloneChildNodes(A,i,r),g&&i.insertBefore(g,i.firstChild);var w=this.resolvePseudoContent(A,i,u,Ju.AFTER);return w&&i.appendChild(w),this.counters.pop(f),(l&&(this.options.copyStyles||Vf(A))&&!Cv(A)||r)&&Fg(l,i),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([i,A.scrollLeft,A.scrollTop]),(ih(A)||lh(A))&&(ih(i)||lh(i))&&(i.value=A.value),i}return A.cloneNode(!1)},t.prototype.resolvePseudoContent=function(A,r,a,i){var l=this;if(a){var d=a.content,u=r.ownerDocument;if(!(!u||!d||d==="none"||d==="-moz-alt-content"||a.display==="none")){this.counters.parse(new Yw(this.context,a));var f=new UQ(this.context,a),g=u.createElement("html2canvaspseudoelement");Fg(a,g),f.content.forEach(function(v){if(v.type===0)g.appendChild(u.createTextNode(v.value));else if(v.type===22){var C=u.createElement("img");C.src=v.value,C.style.opacity="1",g.appendChild(C)}else if(v.type===18){if(v.name==="attr"){var b=v.values.filter(SA);b.length&&g.appendChild(u.createTextNode(A.getAttribute(b[0].value)||""))}else if(v.name==="counter"){var U=v.values.filter(Kc),F=U[0],L=U[1];if(F&&SA(F)){var N=l.counters.getCounterValue(F.value),H=L&&SA(L)?ip.parse(l.context,L.value):3;g.appendChild(u.createTextNode(Ad(N,H,!1)))}}else if(v.name==="counters"){var _=v.values.filter(Kc),F=_[0],k=_[1],L=_[2];if(F&&SA(F)){var V=l.counters.getCounterValues(F.value),Ae=L&&SA(L)?ip.parse(l.context,L.value):3,ne=k&&k.type===0?k.value:"",J=V.map(function(Q){return Ad(Q,Ae,!1)}).join(ne);g.appendChild(u.createTextNode(J))}}}else if(v.type===20)switch(v.value){case"open-quote":g.appendChild(u.createTextNode(Xw(f.quotes,l.quoteDepth++,!0)));break;case"close-quote":g.appendChild(u.createTextNode(Xw(f.quotes,--l.quoteDepth,!1)));break;default:g.appendChild(u.createTextNode(v.value))}}),g.className=fp+" "+hp;var w=i===Ju.BEFORE?" "+fp:" "+hp;return Vf(r)?r.className.baseValue+=w:r.className+=w,g}}},t.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},t})(),Ju;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Ju||(Ju={}));var jF=function(t,A){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=A.width.toString(),r.height=A.height.toString(),r.scrolling="no",r.setAttribute(Fv,"true"),t.body.appendChild(r),r},HF=function(t){return new Promise(function(A){if(t.complete){A();return}if(!t.src){A();return}t.onload=A,t.onerror=A})},_F=function(t){return Promise.all([].slice.call(t.images,0).map(HF))},TF=function(t){return new Promise(function(A,r){var a=t.contentWindow;if(!a)return r("No window assigned for iframe");var i=a.document;a.onload=t.onload=function(){a.onload=t.onload=null;var l=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(l),A(t))},50)}})},IF=["all","d","content"],Fg=function(t,A){for(var r=t.length-1;r>=0;r--){var a=t.item(r);IF.indexOf(a)===-1&&A.style.setProperty(a,t.getPropertyValue(a))}return A},DF=function(t){var A="";return t&&(A+="<!DOCTYPE ",t.name&&(A+=t.name),t.internalSubset&&(A+=t.internalSubset),t.publicId&&(A+='"'+t.publicId+'"'),t.systemId&&(A+='"'+t.systemId+'"'),A+=">"),A},MF=function(t,A,r){t&&t.defaultView&&(A!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(A,r)},OF=function(t){var A=t[0],r=t[1],a=t[2];A.scrollLeft=r,A.scrollTop=a},RF=":before",PF=":after",fp="___html2canvas___pseudoelement_before",hp="___html2canvas___pseudoelement_after",bb=`{
    content: "" !important;
    display: none !important;
}`,KF=function(t){zF(t,"."+fp+RF+bb+`
         .`+hp+PF+bb)},zF=function(t,A){var r=t.ownerDocument;if(r){var a=r.createElement("style");a.textContent=A,t.appendChild(a)}},Nv=(function(){function t(){}return t.getOrigin=function(A){var r=t._link;return r?(r.href=A,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(A){return t.getOrigin(A)===t._origin},t.setContext=function(A){t._link=A.document.createElement("a"),t._origin=t.getOrigin(A.location.href)},t._origin="about:blank",t})(),VF=(function(){function t(A,r){this.context=A,this._options=r,this._cache={}}return t.prototype.addImage=function(A){var r=Promise.resolve();return this.has(A)||(Sg(A)||YF(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),r},t.prototype.match=function(A){return this._cache[A]},t.prototype.loadImage=function(A){return En(this,void 0,void 0,function(){var r,a,i,l,d=this;return pn(this,function(u){switch(u.label){case 0:return r=Nv.isSameOrigin(A),a=!Ng(A)&&this._options.useCORS===!0&&an.SUPPORT_CORS_IMAGES&&!r,i=!Ng(A)&&!r&&!Sg(A)&&typeof this._options.proxy=="string"&&an.SUPPORT_CORS_XHR&&!a,!r&&this._options.allowTaint===!1&&!Ng(A)&&!Sg(A)&&!i&&!a?[2]:(l=A,i?[4,this.proxy(l)]:[3,2]);case 1:l=u.sent(),u.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(f,g){var w=new Image;w.onload=function(){return f(w)},w.onerror=g,(JF(l)||a)&&(w.crossOrigin="anonymous"),w.src=l,w.complete===!0&&setTimeout(function(){return f(w)},500),d._options.imageTimeout>0&&setTimeout(function(){return g("Timed out ("+d._options.imageTimeout+"ms) loading image")},d._options.imageTimeout)})];case 3:return[2,u.sent()]}})})},t.prototype.has=function(A){return typeof this._cache[A]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(A){var r=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var i=A.substring(0,256);return new Promise(function(l,d){var u=an.SUPPORT_RESPONSE_TYPE?"blob":"text",f=new XMLHttpRequest;f.onload=function(){if(f.status===200)if(u==="text")l(f.response);else{var v=new FileReader;v.addEventListener("load",function(){return l(v.result)},!1),v.addEventListener("error",function(C){return d(C)},!1),v.readAsDataURL(f.response)}else d("Failed to proxy resource "+i+" with status code "+f.status)},f.onerror=d;var g=a.indexOf("?")>-1?"&":"?";if(f.open("GET",""+a+g+"url="+encodeURIComponent(A)+"&responseType="+u),u!=="text"&&f instanceof XMLHttpRequest&&(f.responseType=u),r._options.imageTimeout){var w=r._options.imageTimeout;f.timeout=w,f.ontimeout=function(){return d("Timed out ("+w+"ms) proxying "+i)}}f.send()})},t})(),GF=/^data:image\/svg\+xml/i,qF=/^data:image\/.*;base64,/i,XF=/^data:image\/.*/i,YF=function(t){return an.SUPPORT_SVG_DRAWING||!WF(t)},Ng=function(t){return XF.test(t)},JF=function(t){return qF.test(t)},Sg=function(t){return t.substr(0,4)==="blob"},WF=function(t){return t.substr(-3).toLowerCase()==="svg"||GF.test(t)},$e=(function(){function t(A,r){this.type=0,this.x=A,this.y=r}return t.prototype.add=function(A,r){return new t(this.x+A,this.y+r)},t})(),Fc=function(t,A,r){return new $e(t.x+(A.x-t.x)*r,t.y+(A.y-t.y)*r)},Ef=(function(){function t(A,r,a,i){this.type=1,this.start=A,this.startControl=r,this.endControl=a,this.end=i}return t.prototype.subdivide=function(A,r){var a=Fc(this.start,this.startControl,A),i=Fc(this.startControl,this.endControl,A),l=Fc(this.endControl,this.end,A),d=Fc(a,i,A),u=Fc(i,l,A),f=Fc(d,u,A);return r?new t(this.start,a,d,f):new t(f,u,l,this.end)},t.prototype.add=function(A,r){return new t(this.start.add(A,r),this.startControl.add(A,r),this.endControl.add(A,r),this.end.add(A,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Ma=function(t){return t.type===1},ZF=(function(){function t(A){var r=A.styles,a=A.bounds,i=Ru(r.borderTopLeftRadius,a.width,a.height),l=i[0],d=i[1],u=Ru(r.borderTopRightRadius,a.width,a.height),f=u[0],g=u[1],w=Ru(r.borderBottomRightRadius,a.width,a.height),v=w[0],C=w[1],b=Ru(r.borderBottomLeftRadius,a.width,a.height),U=b[0],F=b[1],L=[];L.push((l+f)/a.width),L.push((U+v)/a.width),L.push((d+F)/a.height),L.push((g+C)/a.height);var N=Math.max.apply(Math,L);N>1&&(l/=N,d/=N,f/=N,g/=N,v/=N,C/=N,U/=N,F/=N);var H=a.width-f,_=a.height-C,k=a.width-v,V=a.height-F,Ae=r.borderTopWidth,ne=r.borderRightWidth,J=r.borderBottomWidth,D=r.borderLeftWidth,ee=_A(r.paddingTop,A.bounds.width),Q=_A(r.paddingRight,A.bounds.width),j=_A(r.paddingBottom,A.bounds.width),I=_A(r.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=l>0||d>0?XA(a.left+D/3,a.top+Ae/3,l-D/3,d-Ae/3,hA.TOP_LEFT):new $e(a.left+D/3,a.top+Ae/3),this.topRightBorderDoubleOuterBox=l>0||d>0?XA(a.left+H,a.top+Ae/3,f-ne/3,g-Ae/3,hA.TOP_RIGHT):new $e(a.left+a.width-ne/3,a.top+Ae/3),this.bottomRightBorderDoubleOuterBox=v>0||C>0?XA(a.left+k,a.top+_,v-ne/3,C-J/3,hA.BOTTOM_RIGHT):new $e(a.left+a.width-ne/3,a.top+a.height-J/3),this.bottomLeftBorderDoubleOuterBox=U>0||F>0?XA(a.left+D/3,a.top+V,U-D/3,F-J/3,hA.BOTTOM_LEFT):new $e(a.left+D/3,a.top+a.height-J/3),this.topLeftBorderDoubleInnerBox=l>0||d>0?XA(a.left+D*2/3,a.top+Ae*2/3,l-D*2/3,d-Ae*2/3,hA.TOP_LEFT):new $e(a.left+D*2/3,a.top+Ae*2/3),this.topRightBorderDoubleInnerBox=l>0||d>0?XA(a.left+H,a.top+Ae*2/3,f-ne*2/3,g-Ae*2/3,hA.TOP_RIGHT):new $e(a.left+a.width-ne*2/3,a.top+Ae*2/3),this.bottomRightBorderDoubleInnerBox=v>0||C>0?XA(a.left+k,a.top+_,v-ne*2/3,C-J*2/3,hA.BOTTOM_RIGHT):new $e(a.left+a.width-ne*2/3,a.top+a.height-J*2/3),this.bottomLeftBorderDoubleInnerBox=U>0||F>0?XA(a.left+D*2/3,a.top+V,U-D*2/3,F-J*2/3,hA.BOTTOM_LEFT):new $e(a.left+D*2/3,a.top+a.height-J*2/3),this.topLeftBorderStroke=l>0||d>0?XA(a.left+D/2,a.top+Ae/2,l-D/2,d-Ae/2,hA.TOP_LEFT):new $e(a.left+D/2,a.top+Ae/2),this.topRightBorderStroke=l>0||d>0?XA(a.left+H,a.top+Ae/2,f-ne/2,g-Ae/2,hA.TOP_RIGHT):new $e(a.left+a.width-ne/2,a.top+Ae/2),this.bottomRightBorderStroke=v>0||C>0?XA(a.left+k,a.top+_,v-ne/2,C-J/2,hA.BOTTOM_RIGHT):new $e(a.left+a.width-ne/2,a.top+a.height-J/2),this.bottomLeftBorderStroke=U>0||F>0?XA(a.left+D/2,a.top+V,U-D/2,F-J/2,hA.BOTTOM_LEFT):new $e(a.left+D/2,a.top+a.height-J/2),this.topLeftBorderBox=l>0||d>0?XA(a.left,a.top,l,d,hA.TOP_LEFT):new $e(a.left,a.top),this.topRightBorderBox=f>0||g>0?XA(a.left+H,a.top,f,g,hA.TOP_RIGHT):new $e(a.left+a.width,a.top),this.bottomRightBorderBox=v>0||C>0?XA(a.left+k,a.top+_,v,C,hA.BOTTOM_RIGHT):new $e(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=U>0||F>0?XA(a.left,a.top+V,U,F,hA.BOTTOM_LEFT):new $e(a.left,a.top+a.height),this.topLeftPaddingBox=l>0||d>0?XA(a.left+D,a.top+Ae,Math.max(0,l-D),Math.max(0,d-Ae),hA.TOP_LEFT):new $e(a.left+D,a.top+Ae),this.topRightPaddingBox=f>0||g>0?XA(a.left+Math.min(H,a.width-ne),a.top+Ae,H>a.width+ne?0:Math.max(0,f-ne),Math.max(0,g-Ae),hA.TOP_RIGHT):new $e(a.left+a.width-ne,a.top+Ae),this.bottomRightPaddingBox=v>0||C>0?XA(a.left+Math.min(k,a.width-D),a.top+Math.min(_,a.height-J),Math.max(0,v-ne),Math.max(0,C-J),hA.BOTTOM_RIGHT):new $e(a.left+a.width-ne,a.top+a.height-J),this.bottomLeftPaddingBox=U>0||F>0?XA(a.left+D,a.top+Math.min(V,a.height-J),Math.max(0,U-D),Math.max(0,F-J),hA.BOTTOM_LEFT):new $e(a.left+D,a.top+a.height-J),this.topLeftContentBox=l>0||d>0?XA(a.left+D+I,a.top+Ae+ee,Math.max(0,l-(D+I)),Math.max(0,d-(Ae+ee)),hA.TOP_LEFT):new $e(a.left+D+I,a.top+Ae+ee),this.topRightContentBox=f>0||g>0?XA(a.left+Math.min(H,a.width+D+I),a.top+Ae+ee,H>a.width+D+I?0:f-D+I,g-(Ae+ee),hA.TOP_RIGHT):new $e(a.left+a.width-(ne+Q),a.top+Ae+ee),this.bottomRightContentBox=v>0||C>0?XA(a.left+Math.min(k,a.width-(D+I)),a.top+Math.min(_,a.height+Ae+ee),Math.max(0,v-(ne+Q)),C-(J+j),hA.BOTTOM_RIGHT):new $e(a.left+a.width-(ne+Q),a.top+a.height-(J+j)),this.bottomLeftContentBox=U>0||F>0?XA(a.left+D+I,a.top+V,Math.max(0,U-(D+I)),F-(J+j),hA.BOTTOM_LEFT):new $e(a.left+D+I,a.top+a.height-(J+j))}return t})(),hA;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(hA||(hA={}));var XA=function(t,A,r,a,i){var l=4*((Math.sqrt(2)-1)/3),d=r*l,u=a*l,f=t+r,g=A+a;switch(i){case hA.TOP_LEFT:return new Ef(new $e(t,g),new $e(t,g-u),new $e(f-d,A),new $e(f,A));case hA.TOP_RIGHT:return new Ef(new $e(t,A),new $e(t+d,A),new $e(f,g-u),new $e(f,g));case hA.BOTTOM_RIGHT:return new Ef(new $e(f,A),new $e(f,A+u),new $e(t+d,g),new $e(t,g));case hA.BOTTOM_LEFT:default:return new Ef(new $e(f,g),new $e(f-d,g),new $e(t,A+u),new $e(t,A))}},oh=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},$F=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},ch=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},eN=(function(){function t(A,r,a){this.offsetX=A,this.offsetY=r,this.matrix=a,this.type=0,this.target=6}return t})(),kf=(function(){function t(A,r){this.path=A,this.target=r,this.type=1}return t})(),tN=(function(){function t(A){this.opacity=A,this.type=2,this.target=6}return t})(),AN=function(t){return t.type===0},Sv=function(t){return t.type===1},rN=function(t){return t.type===2},xb=function(t,A){return t.length===A.length?t.some(function(r,a){return r===A[a]}):!1},nN=function(t,A,r,a,i){return t.map(function(l,d){switch(d){case 0:return l.add(A,r);case 1:return l.add(A+a,r);case 2:return l.add(A+a,r+i);case 3:return l.add(A,r+i)}return l})},Ev=(function(){function t(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),kv=(function(){function t(A,r){if(this.container=A,this.parent=r,this.effects=[],this.curves=new ZF(this.container),this.container.styles.opacity<1&&this.effects.push(new tN(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,l=this.container.styles.transform;this.effects.push(new eN(a,i,l))}if(this.container.styles.overflowX!==0){var d=oh(this.curves),u=ch(this.curves);xb(d,u)?this.effects.push(new kf(d,6)):(this.effects.push(new kf(d,2)),this.effects.push(new kf(u,4)))}}return t.prototype.getEffects=function(A){for(var r=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,i=this.effects.slice(0);a;){var l=a.effects.filter(function(f){return!Sv(f)});if(r||a.container.styles.position!==0||!a.parent){if(i.unshift.apply(i,l),r=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var d=oh(a.curves),u=ch(a.curves);xb(d,u)||i.unshift(new kf(u,6))}}else i.unshift.apply(i,l);a=a.parent}return i.filter(function(f){return Dr(f.target,A)})},t})(),gp=function(t,A,r,a){t.container.elements.forEach(function(i){var l=Dr(i.flags,4),d=Dr(i.flags,2),u=new kv(i,t);Dr(i.styles.display,2048)&&a.push(u);var f=Dr(i.flags,8)?[]:a;if(l||d){var g=l||i.styles.isPositioned()?r:A,w=new Ev(u);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var v=i.styles.zIndex.order;if(v<0){var C=0;g.negativeZIndex.some(function(U,F){return v>U.element.container.styles.zIndex.order?(C=F,!1):C>0}),g.negativeZIndex.splice(C,0,w)}else if(v>0){var b=0;g.positiveZIndex.some(function(U,F){return v>=U.element.container.styles.zIndex.order?(b=F+1,!1):b>0}),g.positiveZIndex.splice(b,0,w)}else g.zeroOrAutoZIndexOrTransformedOrOpacity.push(w)}else i.styles.isFloating()?g.nonPositionedFloats.push(w):g.nonPositionedInlineLevel.push(w);gp(u,w,l?w:r,f)}else i.styles.isInlineLevel()?A.inlineLevel.push(u):A.nonInlineLevel.push(u),gp(u,A,r,f);Dr(i.flags,8)&&Lv(i,f)})},Lv=function(t,A){for(var r=t instanceof cp?t.start:1,a=t instanceof cp?t.reversed:!1,i=0;i<A.length;i++){var l=A[i];l.container instanceof gv&&typeof l.container.value=="number"&&l.container.value!==0&&(r=l.container.value),l.listValue=Ad(r,l.container.styles.listStyleType,!0),r+=a?-1:1}},aN=function(t){var A=new kv(t,null),r=new Ev(A),a=[];return gp(A,r,r,a),Lv(A.container,a),r},vb=function(t,A){switch(A){case 0:return Ra(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ra(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ra(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ra(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},sN=function(t,A){switch(A){case 0:return Ra(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ra(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ra(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ra(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},iN=function(t,A){switch(A){case 0:return Ra(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ra(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ra(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ra(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},lN=function(t,A){switch(A){case 0:return Lf(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Lf(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Lf(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Lf(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Lf=function(t,A){var r=[];return Ma(t)?r.push(t.subdivide(.5,!1)):r.push(t),Ma(A)?r.push(A.subdivide(.5,!0)):r.push(A),r},Ra=function(t,A,r,a){var i=[];return Ma(t)?i.push(t.subdivide(.5,!1)):i.push(t),Ma(r)?i.push(r.subdivide(.5,!0)):i.push(r),Ma(a)?i.push(a.subdivide(.5,!0).reverse()):i.push(a),Ma(A)?i.push(A.subdivide(.5,!1).reverse()):i.push(A),i},jv=function(t){var A=t.bounds,r=t.styles;return A.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},uh=function(t){var A=t.styles,r=t.bounds,a=_A(A.paddingLeft,r.width),i=_A(A.paddingRight,r.width),l=_A(A.paddingTop,r.width),d=_A(A.paddingBottom,r.width);return r.add(a+A.borderLeftWidth,l+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+a+i),-(A.borderTopWidth+A.borderBottomWidth+l+d))},oN=function(t,A){return t===0?A.bounds:t===2?uh(A):jv(A)},cN=function(t,A){return t===0?A.bounds:t===2?uh(A):jv(A)},Eg=function(t,A,r){var a=oN(Hc(t.styles.backgroundOrigin,A),t),i=cN(Hc(t.styles.backgroundClip,A),t),l=uN(Hc(t.styles.backgroundSize,A),r,a),d=l[0],u=l[1],f=Ru(Hc(t.styles.backgroundPosition,A),a.width-d,a.height-u),g=dN(Hc(t.styles.backgroundRepeat,A),f,l,a,i),w=Math.round(a.left+f[0]),v=Math.round(a.top+f[1]);return[g,w,v,d,u]},Nc=function(t){return SA(t)&&t.value===Rc.AUTO},jf=function(t){return typeof t=="number"},uN=function(t,A,r){var a=A[0],i=A[1],l=A[2],d=t[0],u=t[1];if(!d)return[0,0];if(Nr(d)&&u&&Nr(u))return[_A(d,r.width),_A(u,r.height)];var f=jf(l);if(SA(d)&&(d.value===Rc.CONTAIN||d.value===Rc.COVER)){if(jf(l)){var g=r.width/r.height;return g<l!=(d.value===Rc.COVER)?[r.width,r.width/l]:[r.height*l,r.height]}return[r.width,r.height]}var w=jf(a),v=jf(i),C=w||v;if(Nc(d)&&(!u||Nc(u))){if(w&&v)return[a,i];if(!f&&!C)return[r.width,r.height];if(C&&f){var b=w?a:i*l,U=v?i:a/l;return[b,U]}var F=w?a:r.width,L=v?i:r.height;return[F,L]}if(f){var N=0,H=0;return Nr(d)?N=_A(d,r.width):Nr(u)&&(H=_A(u,r.height)),Nc(d)?N=H*l:(!u||Nc(u))&&(H=N/l),[N,H]}var _=null,k=null;if(Nr(d)?_=_A(d,r.width):u&&Nr(u)&&(k=_A(u,r.height)),_!==null&&(!u||Nc(u))&&(k=w&&v?_/a*i:r.height),k!==null&&Nc(d)&&(_=w&&v?k/i*a:r.width),_!==null&&k!==null)return[_,k];throw new Error("Unable to calculate background-size for element")},Hc=function(t,A){var r=t[A];return typeof r>"u"?t[0]:r},dN=function(t,A,r,a,i){var l=A[0],d=A[1],u=r[0],f=r[1];switch(t){case 2:return[new $e(Math.round(a.left),Math.round(a.top+d)),new $e(Math.round(a.left+a.width),Math.round(a.top+d)),new $e(Math.round(a.left+a.width),Math.round(f+a.top+d)),new $e(Math.round(a.left),Math.round(f+a.top+d))];case 3:return[new $e(Math.round(a.left+l),Math.round(a.top)),new $e(Math.round(a.left+l+u),Math.round(a.top)),new $e(Math.round(a.left+l+u),Math.round(a.height+a.top)),new $e(Math.round(a.left+l),Math.round(a.height+a.top))];case 1:return[new $e(Math.round(a.left+l),Math.round(a.top+d)),new $e(Math.round(a.left+l+u),Math.round(a.top+d)),new $e(Math.round(a.left+l+u),Math.round(a.top+d+f)),new $e(Math.round(a.left+l),Math.round(a.top+d+f))];default:return[new $e(Math.round(i.left),Math.round(i.top)),new $e(Math.round(i.left+i.width),Math.round(i.top)),new $e(Math.round(i.left+i.width),Math.round(i.height+i.top)),new $e(Math.round(i.left),Math.round(i.height+i.top))]}},fN="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",yb="Hidden Text",hN=(function(){function t(A){this._data={},this._document=A}return t.prototype.parseMetrics=function(A,r){var a=this._document.createElement("div"),i=this._document.createElement("img"),l=this._document.createElement("span"),d=this._document.body;a.style.visibility="hidden",a.style.fontFamily=A,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",d.appendChild(a),i.src=fN,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",l.style.fontFamily=A,l.style.fontSize=r,l.style.margin="0",l.style.padding="0",l.appendChild(this._document.createTextNode(yb)),a.appendChild(l),a.appendChild(i);var u=i.offsetTop-l.offsetTop+2;a.removeChild(l),a.appendChild(this._document.createTextNode(yb)),a.style.lineHeight="normal",i.style.verticalAlign="super";var f=i.offsetTop-a.offsetTop+2;return d.removeChild(a),{baseline:u,middle:f}},t.prototype.getMetrics=function(A,r){var a=A+" "+r;return typeof this._data[a]>"u"&&(this._data[a]=this.parseMetrics(A,r)),this._data[a]},t})(),Hv=(function(){function t(A,r){this.context=A,this.options=r}return t})(),gN=1e4,pN=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i._activeEffects=[],i.canvas=a.canvas?a.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),a.canvas||(i.canvas.width=Math.floor(a.width*a.scale),i.canvas.height=Math.floor(a.height*a.scale),i.canvas.style.width=a.width+"px",i.canvas.style.height=a.height+"px"),i.fontMetrics=new hN(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-a.x,-a.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),i}return A.prototype.applyEffects=function(r){for(var a=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return a.applyEffect(i)})},A.prototype.applyEffect=function(r){this.ctx.save(),rN(r)&&(this.ctx.globalAlpha=r.opacity),AN(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Sv(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(r){return En(this,void 0,void 0,function(){var a;return pn(this,function(i){switch(i.label){case 0:return a=r.element.container.styles,a.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(r){return En(this,void 0,void 0,function(){return pn(this,function(a){switch(a.label){case 0:if(Dr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(r,a,i){var l=this;if(a===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var d=Hp(r.text);d.reduce(function(u,f){return l.ctx.fillText(f,u,r.bounds.top+i),u+l.ctx.measureText(f).width},r.bounds.left)}},A.prototype.createFontStyle=function(r){var a=r.fontVariant.filter(function(d){return d==="normal"||d==="small-caps"}).join(""),i=vN(r.fontFamily).join(", "),l=sd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,a,r.fontWeight,l,i].join(" "),i,l]},A.prototype.renderTextNode=function(r,a){return En(this,void 0,void 0,function(){var i,l,d,u,f,g,w,v,C=this;return pn(this,function(b){return i=this.createFontStyle(a),l=i[0],d=i[1],u=i[2],this.ctx.font=l,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",f=this.fontMetrics.getMetrics(d,u),g=f.baseline,w=f.middle,v=a.paintOrder,r.textBounds.forEach(function(U){v.forEach(function(F){switch(F){case 0:C.ctx.fillStyle=Xr(a.color),C.renderTextWithLetterSpacing(U,a.letterSpacing,g);var L=a.textShadow;L.length&&U.text.trim().length&&(L.slice(0).reverse().forEach(function(N){C.ctx.shadowColor=Xr(N.color),C.ctx.shadowOffsetX=N.offsetX.number*C.options.scale,C.ctx.shadowOffsetY=N.offsetY.number*C.options.scale,C.ctx.shadowBlur=N.blur.number,C.renderTextWithLetterSpacing(U,a.letterSpacing,g)}),C.ctx.shadowColor="",C.ctx.shadowOffsetX=0,C.ctx.shadowOffsetY=0,C.ctx.shadowBlur=0),a.textDecorationLine.length&&(C.ctx.fillStyle=Xr(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(N){switch(N){case 1:C.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top+g),U.bounds.width,1);break;case 2:C.ctx.fillRect(U.bounds.left,Math.round(U.bounds.top),U.bounds.width,1);break;case 3:C.ctx.fillRect(U.bounds.left,Math.ceil(U.bounds.top+w),U.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&U.text.trim().length&&(C.ctx.strokeStyle=Xr(a.webkitTextStrokeColor),C.ctx.lineWidth=a.webkitTextStrokeWidth,C.ctx.lineJoin=window.chrome?"miter":"round",C.ctx.strokeText(U.text,U.bounds.left,U.bounds.top+g)),C.ctx.strokeStyle="",C.ctx.lineWidth=0,C.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(r,a,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var l=uh(r),d=ch(a);this.path(d),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,l.left,l.top,l.width,l.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(r){return En(this,void 0,void 0,function(){var a,i,l,d,u,f,H,H,g,w,v,C,k,b,U,V,F,L,N,H,_,k,V;return pn(this,function(Ae){switch(Ae.label){case 0:this.applyEffects(r.getEffects(4)),a=r.container,i=r.curves,l=a.styles,d=0,u=a.textNodes,Ae.label=1;case 1:return d<u.length?(f=u[d],[4,this.renderTextNode(f,l)]):[3,4];case 2:Ae.sent(),Ae.label=3;case 3:return d++,[3,1];case 4:if(!(a instanceof dv))return[3,8];Ae.label=5;case 5:return Ae.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return H=Ae.sent(),this.renderReplacedElement(a,i,H),[3,8];case 7:return Ae.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof fv&&this.renderReplacedElement(a,i,a.canvas),!(a instanceof hv))return[3,12];Ae.label=9;case 9:return Ae.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return H=Ae.sent(),this.renderReplacedElement(a,i,H),[3,12];case 11:return Ae.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof wv&&a.tree?(g=new A(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,g.render(a.tree)]):[3,14];case 13:w=Ae.sent(),a.width&&a.height&&this.ctx.drawImage(w,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),Ae.label=14;case 14:if(a instanceof _p&&(v=Math.min(a.bounds.width,a.bounds.height),a.type===ah?a.checked&&(this.ctx.save(),this.path([new $e(a.bounds.left+v*.39363,a.bounds.top+v*.79),new $e(a.bounds.left+v*.16,a.bounds.top+v*.5549),new $e(a.bounds.left+v*.27347,a.bounds.top+v*.44071),new $e(a.bounds.left+v*.39694,a.bounds.top+v*.5649),new $e(a.bounds.left+v*.72983,a.bounds.top+v*.23),new $e(a.bounds.left+v*.84,a.bounds.top+v*.34085),new $e(a.bounds.left+v*.39363,a.bounds.top+v*.79)]),this.ctx.fillStyle=Xr(ob),this.ctx.fill(),this.ctx.restore()):a.type===sh&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+v/2,a.bounds.top+v/2,v/4,0,Math.PI*2,!0),this.ctx.fillStyle=Xr(ob),this.ctx.fill(),this.ctx.restore())),mN(a)&&a.value.length){switch(C=this.createFontStyle(l),k=C[0],b=C[1],U=this.fontMetrics.getMetrics(k,b).baseline,this.ctx.font=k,this.ctx.fillStyle=Xr(l.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=bN(a.styles.textAlign),V=uh(a),F=0,a.styles.textAlign){case 1:F+=V.width/2;break;case 2:F+=V.width;break}L=V.add(F,0,0,-V.height/2+1),this.ctx.save(),this.path([new $e(V.left,V.top),new $e(V.left+V.width,V.top),new $e(V.left+V.width,V.top+V.height),new $e(V.left,V.top+V.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yu(a.value,L),l.letterSpacing,U),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Dr(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(N=a.styles.listStyleImage,N.type!==0)return[3,18];H=void 0,_=N.url,Ae.label=15;case 15:return Ae.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return H=Ae.sent(),this.ctx.drawImage(H,a.bounds.left-(H.width+10),a.bounds.top),[3,18];case 17:return Ae.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:r.listValue&&a.styles.listStyleType!==-1&&(k=this.createFontStyle(l)[0],this.ctx.font=k,this.ctx.fillStyle=Xr(l.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",V=new Ii(a.bounds.left,a.bounds.top+_A(a.styles.paddingTop,a.bounds.width),a.bounds.width,Gw(l.lineHeight,l.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yu(r.listValue,V),l.letterSpacing,Gw(l.lineHeight,l.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Ae.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(r){return En(this,void 0,void 0,function(){var a,i,N,l,d,N,u,f,N,g,w,N,v,C,N,b,U,N,F,L,N;return pn(this,function(H){switch(H.label){case 0:if(Dr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:H.sent(),a=0,i=r.negativeZIndex,H.label=2;case 2:return a<i.length?(N=i[a],[4,this.renderStack(N)]):[3,5];case 3:H.sent(),H.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:H.sent(),l=0,d=r.nonInlineLevel,H.label=7;case 7:return l<d.length?(N=d[l],[4,this.renderNode(N)]):[3,10];case 8:H.sent(),H.label=9;case 9:return l++,[3,7];case 10:u=0,f=r.nonPositionedFloats,H.label=11;case 11:return u<f.length?(N=f[u],[4,this.renderStack(N)]):[3,14];case 12:H.sent(),H.label=13;case 13:return u++,[3,11];case 14:g=0,w=r.nonPositionedInlineLevel,H.label=15;case 15:return g<w.length?(N=w[g],[4,this.renderStack(N)]):[3,18];case 16:H.sent(),H.label=17;case 17:return g++,[3,15];case 18:v=0,C=r.inlineLevel,H.label=19;case 19:return v<C.length?(N=C[v],[4,this.renderNode(N)]):[3,22];case 20:H.sent(),H.label=21;case 21:return v++,[3,19];case 22:b=0,U=r.zeroOrAutoZIndexOrTransformedOrOpacity,H.label=23;case 23:return b<U.length?(N=U[b],[4,this.renderStack(N)]):[3,26];case 24:H.sent(),H.label=25;case 25:return b++,[3,23];case 26:F=0,L=r.positiveZIndex,H.label=27;case 27:return F<L.length?(N=L[F],[4,this.renderStack(N)]):[3,30];case 28:H.sent(),H.label=29;case 29:return F++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},A.prototype.formatPath=function(r){var a=this;r.forEach(function(i,l){var d=Ma(i)?i.start:i;l===0?a.ctx.moveTo(d.x,d.y):a.ctx.lineTo(d.x,d.y),Ma(i)&&a.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},A.prototype.renderRepeat=function(r,a,i,l){this.path(r),this.ctx.fillStyle=a,this.ctx.translate(i,l),this.ctx.fill(),this.ctx.translate(-i,-l)},A.prototype.resizeImage=function(r,a,i){var l;if(r.width===a&&r.height===i)return r;var d=(l=this.canvas.ownerDocument)!==null&&l!==void 0?l:document,u=d.createElement("canvas");u.width=Math.max(1,a),u.height=Math.max(1,i);var f=u.getContext("2d");return f.drawImage(r,0,0,r.width,r.height,0,0,a,i),u},A.prototype.renderBackgroundImage=function(r){return En(this,void 0,void 0,function(){var a,i,l,d,u,f;return pn(this,function(g){switch(g.label){case 0:a=r.styles.backgroundImage.length-1,i=function(w){var v,C,b,ee,R,Y,I,K,J,U,ee,R,Y,I,K,F,L,N,H,_,k,V,Ae,ne,J,D,ee,Q,j,I,K,ce,R,Y,Z,ue,ge,be,T,q,$,le;return pn(this,function(oe){switch(oe.label){case 0:if(w.type!==0)return[3,5];v=void 0,C=w.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,l.context.cache.match(C)];case 2:return v=oe.sent(),[3,4];case 3:return oe.sent(),l.context.logger.error("Error loading background-image "+C),[3,4];case 4:return v&&(b=Eg(r,a,[v.width,v.height,v.width/v.height]),ee=b[0],R=b[1],Y=b[2],I=b[3],K=b[4],J=l.ctx.createPattern(l.resizeImage(v,I,K),"repeat"),l.renderRepeat(ee,J,R,Y)),[3,6];case 5:A6(w)?(U=Eg(r,a,[null,null,null]),ee=U[0],R=U[1],Y=U[2],I=U[3],K=U[4],F=WU(w.angle,I,K),L=F[0],N=F[1],H=F[2],_=F[3],k=F[4],V=document.createElement("canvas"),V.width=I,V.height=K,Ae=V.getContext("2d"),ne=Ae.createLinearGradient(N,_,H,k),zw(w.stops,L).forEach(function(we){return ne.addColorStop(we.stop,Xr(we.color))}),Ae.fillStyle=ne,Ae.fillRect(0,0,I,K),I>0&&K>0&&(J=l.ctx.createPattern(V,"repeat"),l.renderRepeat(ee,J,R,Y))):r6(w)&&(D=Eg(r,a,[null,null,null]),ee=D[0],Q=D[1],j=D[2],I=D[3],K=D[4],ce=w.position.length===0?[kp]:w.position,R=_A(ce[0],I),Y=_A(ce[ce.length-1],K),Z=ZU(w,R,Y,I,K),ue=Z[0],ge=Z[1],ue>0&&ge>0&&(be=l.ctx.createRadialGradient(Q+R,j+Y,0,Q+R,j+Y,ue),zw(w.stops,ue*2).forEach(function(we){return be.addColorStop(we.stop,Xr(we.color))}),l.path(ee),l.ctx.fillStyle=be,ue!==ge?(T=r.bounds.left+.5*r.bounds.width,q=r.bounds.top+.5*r.bounds.height,$=ge/ue,le=1/$,l.ctx.save(),l.ctx.translate(T,q),l.ctx.transform(1,0,0,$,0,0),l.ctx.translate(-T,-q),l.ctx.fillRect(Q,le*(j-q)+q,I,K*le),l.ctx.restore()):l.ctx.fill())),oe.label=6;case 6:return a--,[2]}})},l=this,d=0,u=r.styles.backgroundImage.slice(0).reverse(),g.label=1;case 1:return d<u.length?(f=u[d],[5,i(f)]):[3,4];case 2:g.sent(),g.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(r,a,i){return En(this,void 0,void 0,function(){return pn(this,function(l){return this.path(vb(i,a)),this.ctx.fillStyle=Xr(r),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(r,a,i,l){return En(this,void 0,void 0,function(){var d,u;return pn(this,function(f){switch(f.label){case 0:return a<3?[4,this.renderSolidBorder(r,i,l)]:[3,2];case 1:return f.sent(),[2];case 2:return d=sN(l,i),this.path(d),this.ctx.fillStyle=Xr(r),this.ctx.fill(),u=iN(l,i),this.path(u),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(r){return En(this,void 0,void 0,function(){var a,i,l,d,u,f,g,w,v=this;return pn(this,function(C){switch(C.label){case 0:return this.applyEffects(r.getEffects(2)),a=r.container.styles,i=!Ll(a.backgroundColor)||a.backgroundImage.length,l=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],d=wN(Hc(a.backgroundClip,0),r.curves),i||a.boxShadow.length?(this.ctx.save(),this.path(d),this.ctx.clip(),Ll(a.backgroundColor)||(this.ctx.fillStyle=Xr(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:C.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(b){v.ctx.save();var U=oh(r.curves),F=b.inset?0:gN,L=nN(U,-F+(b.inset?1:-1)*b.spread.number,(b.inset?1:-1)*b.spread.number,b.spread.number*(b.inset?-2:2),b.spread.number*(b.inset?-2:2));b.inset?(v.path(U),v.ctx.clip(),v.mask(L)):(v.mask(U),v.ctx.clip(),v.path(L)),v.ctx.shadowOffsetX=b.offsetX.number+F,v.ctx.shadowOffsetY=b.offsetY.number,v.ctx.shadowColor=Xr(b.color),v.ctx.shadowBlur=b.blur.number,v.ctx.fillStyle=b.inset?Xr(b.color):"rgba(0,0,0,1)",v.ctx.fill(),v.ctx.restore()}),C.label=2;case 2:u=0,f=0,g=l,C.label=3;case 3:return f<g.length?(w=g[f],w.style!==0&&!Ll(w.color)&&w.width>0?w.style!==2?[3,5]:[4,this.renderDashedDottedBorder(w.color,w.width,u,r.curves,2)]:[3,11]):[3,13];case 4:return C.sent(),[3,11];case 5:return w.style!==3?[3,7]:[4,this.renderDashedDottedBorder(w.color,w.width,u,r.curves,3)];case 6:return C.sent(),[3,11];case 7:return w.style!==4?[3,9]:[4,this.renderDoubleBorder(w.color,w.width,u,r.curves)];case 8:return C.sent(),[3,11];case 9:return[4,this.renderSolidBorder(w.color,u,r.curves)];case 10:C.sent(),C.label=11;case 11:u++,C.label=12;case 12:return f++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(r,a,i,l,d){return En(this,void 0,void 0,function(){var u,f,g,w,v,C,b,U,F,L,N,H,_,k,V,Ae,V,Ae;return pn(this,function(ne){return this.ctx.save(),u=lN(l,i),f=vb(l,i),d===2&&(this.path(f),this.ctx.clip()),Ma(f[0])?(g=f[0].start.x,w=f[0].start.y):(g=f[0].x,w=f[0].y),Ma(f[1])?(v=f[1].end.x,C=f[1].end.y):(v=f[1].x,C=f[1].y),i===0||i===2?b=Math.abs(g-v):b=Math.abs(w-C),this.ctx.beginPath(),d===3?this.formatPath(u):this.formatPath(f.slice(0,2)),U=a<3?a*3:a*2,F=a<3?a*2:a,d===3&&(U=a,F=a),L=!0,b<=U*2?L=!1:b<=U*2+F?(N=b/(2*U+F),U*=N,F*=N):(H=Math.floor((b+F)/(U+F)),_=(b-H*U)/(H-1),k=(b-(H+1)*U)/H,F=k<=0||Math.abs(F-_)<Math.abs(F-k)?_:k),L&&(d===3?this.ctx.setLineDash([0,U+F]):this.ctx.setLineDash([U,F])),d===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=Xr(r),this.ctx.stroke(),this.ctx.setLineDash([]),d===2&&(Ma(f[0])&&(V=f[3],Ae=f[0],this.ctx.beginPath(),this.formatPath([new $e(V.end.x,V.end.y),new $e(Ae.start.x,Ae.start.y)]),this.ctx.stroke()),Ma(f[1])&&(V=f[1],Ae=f[2],this.ctx.beginPath(),this.formatPath([new $e(V.end.x,V.end.y),new $e(Ae.start.x,Ae.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(r){return En(this,void 0,void 0,function(){var a;return pn(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Xr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=aN(r),[4,this.renderStack(a)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},A})(Hv),mN=function(t){return t instanceof mv||t instanceof pv?!0:t instanceof _p&&t.type!==sh&&t.type!==ah},wN=function(t,A){switch(t){case 0:return oh(A);case 2:return $F(A);case 1:default:return ch(A)}},bN=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},xN=["-apple-system","system-ui"],vN=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(A){return xN.indexOf(A)===-1}):t},yN=(function(t){Qs(A,t);function A(r,a){var i=t.call(this,r,a)||this;return i.canvas=a.canvas?a.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=a,i.canvas.width=Math.floor(a.width*a.scale),i.canvas.height=Math.floor(a.height*a.scale),i.canvas.style.width=a.width+"px",i.canvas.style.height=a.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-a.x,-a.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),i}return A.prototype.render=function(r){return En(this,void 0,void 0,function(){var a,i;return pn(this,function(l){switch(l.label){case 0:return a=op(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,BN(a)];case 1:return i=l.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Xr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A})(Hv),BN=function(t){return new Promise(function(A,r){var a=new Image;a.onload=function(){A(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},CN=(function(){function t(A){var r=A.id,a=A.enabled;this.id=r,this.enabled=a,this.start=Date.now()}return t.prototype.debug=function(){for(var A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,uf([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,uf([this.id,this.getTime()+"ms"],A))},t.prototype.warn=function(){for(var A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,uf([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},t.prototype.error=function(){for(var A=[],r=0;r<arguments.length;r++)A[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,uf([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},t.instances={},t})(),UN=(function(){function t(A,r){var a;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new CN({id:this.instanceName,enabled:A.logging}),this.cache=(a=A.cache)!==null&&a!==void 0?a:new VF(this,A)}return t.instanceCount=1,t})(),Uh=function(t,A){return A===void 0&&(A={}),QN(t,A)};typeof window<"u"&&Nv.setContext(window);var QN=function(t,A){return En(void 0,void 0,void 0,function(){var r,a,i,l,d,u,f,g,w,v,C,b,U,F,L,N,H,_,k,V,ne,Ae,ne,J,D,ee,Q,j,I,K,ce,R,Y,Z,ue,ge,be,T,q,$;return pn(this,function(le){switch(le.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(a=r.defaultView,!a)throw new Error("Document is not attached to a Window");return i={allowTaint:(J=A.allowTaint)!==null&&J!==void 0?J:!1,imageTimeout:(D=A.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:A.proxy,useCORS:(ee=A.useCORS)!==null&&ee!==void 0?ee:!1},l=Xg({logging:(Q=A.logging)!==null&&Q!==void 0?Q:!0,cache:A.cache},i),d={windowWidth:(j=A.windowWidth)!==null&&j!==void 0?j:a.innerWidth,windowHeight:(I=A.windowHeight)!==null&&I!==void 0?I:a.innerHeight,scrollX:(K=A.scrollX)!==null&&K!==void 0?K:a.pageXOffset,scrollY:(ce=A.scrollY)!==null&&ce!==void 0?ce:a.pageYOffset},u=new Ii(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),f=new UN(l,u),g=(R=A.foreignObjectRendering)!==null&&R!==void 0?R:!1,w={allowTaint:(Y=A.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:g,copyStyles:g},f.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),v=new wb(f,t,w),C=v.clonedReferenceElement,C?[4,v.toIFrame(r,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=le.sent(),U=Tp(C)||NF(C)?n3(C.ownerDocument):gh(f,C),F=U.width,L=U.height,N=U.left,H=U.top,_=FN(f,C,A.backgroundColor),k={canvas:A.canvas,backgroundColor:_,scale:(ue=(Z=A.scale)!==null&&Z!==void 0?Z:a.devicePixelRatio)!==null&&ue!==void 0?ue:1,x:((ge=A.x)!==null&&ge!==void 0?ge:0)+N,y:((be=A.y)!==null&&be!==void 0?be:0)+H,width:(T=A.width)!==null&&T!==void 0?T:Math.ceil(F),height:(q=A.height)!==null&&q!==void 0?q:Math.ceil(L)},g?(f.logger.debug("Document cloned, using foreign object rendering"),ne=new yN(f,k),[4,ne.render(C)]):[3,3];case 2:return V=le.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+N+","+H+" with size "+F+"x"+L+" using computed rendering"),f.logger.debug("Starting DOM parsing"),Ae=xv(f,C),_===Ae.styles.backgroundColor&&(Ae.styles.backgroundColor=_i.TRANSPARENT),f.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),ne=new pN(f,k),[4,ne.render(Ae)];case 4:V=le.sent(),le.label=5;case 5:return(!(($=A.removeContainer)!==null&&$!==void 0)||$)&&(wb.destroy(b)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,V]}})})},FN=function(t,A,r){var a=A.ownerDocument,i=a.documentElement?qu(t,getComputedStyle(a.documentElement).backgroundColor):_i.TRANSPARENT,l=a.body?qu(t,getComputedStyle(a.body).backgroundColor):_i.TRANSPARENT,d=typeof r=="string"?qu(t,r):r===null?_i.TRANSPARENT:4294967295;return A===a.documentElement?Ll(i)?Ll(l)?d:l:i:d};const NN=Object.freeze(Object.defineProperty({__proto__:null,default:Uh},Symbol.toStringTag,{value:"Module"})),SN=({isOpen:t,onClose:A,onExport:r,isLoading:a})=>{const[i,l]=P.useState("");if(!t)return null;const d=u=>{u.preventDefault(),r(i)};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-6 transform transition-all scale-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Export Notes to PDF"}),o.jsx("button",{onClick:A,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx(Pa,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6 font-medium",children:"Enter your email address to receive the PDF copy of these notes."}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),o.jsx("input",{type:"email",value:i,onChange:u=>l(u.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),o.jsx("div",{className:"pt-2",children:o.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:from-green-700 hover:to-teal-700 transition-all font-bold shadow-md flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:a?o.jsx("span",{children:"Generating PDF..."}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Export & Send Mail"}),o.jsx(Mi,{className:"w-5 h-5"})]})})})]})]})})},EN=({item:t,onEdit:A,onDelete:r,isAdmin:a,onTogglePublish:i})=>{const{session:l}=Di(),d={fontSize:`${l.fontSize}px`};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 sm:px-8 relative group",children:[o.jsx("div",{className:"tau-body prose prose-sm dark:prose-invert max-w-none text-black dark:text-white break-words font-tau-paalai",style:{fontSize:`${d.fontSize}`},dangerouslySetInnerHTML:{__html:sn(t.body)}}),a&&o.jsxs("div",{className:"absolute top-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity sm:opacity-0 md:group-hover:opacity-100",children:[i&&o.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full shadow-sm",children:o.jsx(PublishToggle,{isPublished:!!t.isPublished,onToggle:()=>i(t)})}),o.jsx("button",{onClick:()=>A(t),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-sm",title:"Edit Note",children:o.jsx(dh,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),o.jsx("button",{onClick:()=>r(t._id),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm shadow-sm",title:"Delete Note",children:o.jsx(vs,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]})]})},kN=t=>/^H[1-6]$/i.test(t.tagName),LN=t=>{var v;const A=[],r=document.createElement("div");r.innerHTML=t;let a=[];Array.from(r.children).forEach(C=>{var U;const b=Array.from(C.children);if(b.length===0&&((U=C.textContent)!=null&&U.trim())){const F=document.createElement("p");F.innerHTML=C.innerHTML,a.push(F)}else b.forEach(F=>{F instanceof HTMLElement&&a.push(F)})}),a.length===0&&r.children.length>0&&(a=Array.from(r.children));const l=a,d=document.createElement("div");d.style.cssText=`
        position: absolute;
        visibility: hidden;
        left: -9999px;
        top: -9999px;
        width: 700px;
        font-family: 'TAU-Paalai', 'Nirmala UI', Arial, sans-serif;
        font-size: 14pt;
        line-height: 1.6;
        padding: 0;
        margin: 0;
        word-wrap: break-word;
        `,document.body.appendChild(d);const u=900,f=150;let g="",w=0;for(let C=0;C<l.length;C++){const b=l[C],U=b.cloneNode(!0);d.innerHTML="",d.appendChild(U);let F=d.offsetHeight;if(kN(U)&&u-w<f&&g!==""&&(A.push(g),g="",w=0),F>u&&(b.tagName==="P"||b.tagName==="DIV")){const L=((v=b.textContent)==null?void 0:v.split(/\s+/))||[];let N=[],H="";d.innerHTML=`<${b.tagName.toLowerCase()} style="${U.style.cssText}"></${b.tagName.toLowerCase()}>`;const _=d.firstChild;for(let k of L){const V=H+" "+k;_.textContent=V,d.offsetHeight>u?(N.push(H.trim()),H=k):H=V}H&&N.push(H.trim());for(let k of N){const V=document.createElement(b.tagName.toLowerCase());V.style.cssText=U.style.cssText,V.textContent=k,d.innerHTML="",d.appendChild(V),F=d.offsetHeight,w+F>u&&g!==""&&(A.push(g),g="",w=0),g+=V.outerHTML,w+=F}}else if(b.tagName==="UL"||b.tagName==="OL"){const L=Array.from(U.children);let N=b.tagName.toLowerCase(),H=`<${N}>`,_=0;for(let k of L){d.innerHTML="",d.appendChild(k.cloneNode(!0));const V=d.offsetHeight;w+_+V>u&&g!==""&&(H!==`<${N}>`&&(g+=H+`</${N}>`),A.push(g),g="",w=0,H=`<${N}>`,_=0),H+=k.outerHTML,_+=V}H!==`<${N}>`&&(g+=H+`</${N}>`,w+=_)}else if(b.tagName==="TABLE"){const L=Array.from(U.querySelectorAll("tr"));let N="<table>",H=0;for(let _ of L){d.innerHTML="",d.appendChild(_.cloneNode(!0));const k=d.offsetHeight;w+H+k>u&&g!==""&&(N!=="<table>"&&(g+=N+"</table>"),A.push(g),g="",w=0,N="<table>",H=0),N+=_.outerHTML,H+=k}N!=="<table>"&&(g+=N+"</table>",w+=H)}else w+F>u&&g!==""&&(A.push(g),g="",w=0),g+=U.outerHTML,w+=F;C<l.length-1&&(w+8>u&&g!==""&&(A.push(g),g="",w=0),g+='<div style="height: 8px;"></div>',w+=8)}return g!==""&&A.push(g),document.body.removeChild(d),A.length===0&&A.push('<div style="text-align: center; padding: 100px; color: #666; font-style: italic;">No notes available for this chapter.</div>'),A},jN=({lessonId:t,user:A})=>{var ce;const[r,a]=P.useState(0),{data:i,isLoading:l}=Ar(()=>za(t,["notes"],A.role!=="admin"&&!A.canEdit),[t,r,A]),[d,u]=P.useState(null),[f,g]=P.useState({isOpen:!1,onConfirm:null}),[w,v]=P.useState(!1),[C,b]=P.useState(!1),[U,F]=P.useState(null),{showToast:L}=Mr(),[N,H]=P.useState({show:!1,type:"loading",title:"",message:""}),_=P.useRef(null),k=((ce=i==null?void 0:i[0])==null?void 0:ce.docs)||[],V="notes",Ae=A.role==="admin"||!!A.canEdit;P.useEffect(()=>{window.MathJax&&!l&&k.length>0&&d===null&&window.MathJax.typesetPromise()},[k,l,d]),P.useEffect(()=>{(async()=>{try{const Y=await wn(t);F({downloads:Y.notesDownloadCount||0})}catch(Y){console.error("Failed to fetch stats",Y)}})()},[t]);const ne=async R=>{try{if(typeof d=="object"&&d!==null)await(void 0)(d._id,{body:R});else{const Y=document.createElement("div");Y.innerHTML=R,await(void 0)({title:(Y.textContent||Y.innerText||"").trim().substring(0,50)||`Note - ${new Date().toLocaleDateString()}`,body:R,lessonId:t,type:V})}a(Y=>Y+1),L("Note saved successfully.","success")}catch{L("Failed to save note.","error")}u(null)},J=R=>{const Y=async()=>{try{await(void 0)(R),a(Z=>Z+1),L("Note deleted.","error")}catch{L("Failed to delete note.","error")}g({isOpen:!1,onConfirm:null})};g({isOpen:!0,onConfirm:Y}),g({isOpen:!0,onConfirm:Y})},D=async R=>{try{const Y=!R.isPublished;await(void 0)(R._id,{isPublished:Y}),a(Z=>Z+1),L(`Note ${Y?"published":"unpublished"} successfully`,"success")}catch(Y){console.error("Failed to toggle publish status:",Y),L("Failed to update publish status","error")}},ee=()=>{u(null)},Q=async R=>{try{const Y=await fetch(R);if(!Y.ok)throw new Error(`Failed to load ${R}`);const Z=await Y.blob();return new Promise(ue=>{const ge=new FileReader;ge.onloadend=()=>ue(ge.result),ge.readAsDataURL(Z)})}catch(Y){return console.error("Error loading image:",R,Y),""}},j=R=>{const Y=R.match(/<h[1-6][^>]*>/i);if(Y&&Y.index)return R.substring(Y.index);const Z=R.match(/<div class="note-section" /i);return Z&&Z.index?R.substring(Z.index):R},I=async R=>{b(!0);const Y=A.role==="admin"||A.canEdit;H({show:!0,type:"loading",title:"PDF  | Generating PDF",message:`PDF ...  

Generating PDF... Please wait`});try{const Z=await wn(t),ue=(Z==null?void 0:Z.lessonName)||"Notes",ge=await Q("/top_logo.png");let be="";if(k.forEach(Te=>{be+=`<div class="note-section" style="margin-bottom: 15px;">${sn(Te.body)}</div>`}),k.length===0)throw new Error("    | No notes available for this chapter");be=j(be);const T=be.match(/<[^>]+>/);T&&T.index&&T.index>0&&(be=be.substring(T.index));const q=LN(be);if(console.log(`Split content into ${q.length} pages`),!_.current)throw new Error("Export container not found");const $=_.current;$.innerHTML="";const le=document.createElement("style");le.textContent=`
                                                    .pdf-page {
                                                        width: 794px;
                                                    min-height: 1123px;
                                                    background: white;
                                                    position: relative;
                                                    font-family: 'TAU-Paalai', 'Nirmala UI', Arial, sans-serif;
                                                    page-break-after: always;
                }

                                                    .pdf-header {
                                                        position: absolute;
                                                    top: 20px;
                                                    left: 40px;
                                                    right: 40px;
                                                    display: flex;
                                                    justify-content: space-between;
                                                    align-items: center;
                                                    border-bottom: 1px solid #ddd;
                                                    padding-bottom: 10px;
                }

                                                    .logo-container img {
                                                        width: 170px;
                                                    height: 22px;
                                                    object-fit: contain;
                }

                                                    .header-info {
                                                        text - align: right;
                                                    font-size: 11px;
                                                    color: #555;
                                                    line-height: 1.3;
                }

                                                    .header-info .class-info {
                                                        font - weight: bold;
                                                    color: #333;
                }

                                                    .header-info .lesson-name {
                                                        font - size: 12px;
                                                    font-weight: bold;
                                                    margin-top: 3px;
                                                    color: #222;
                }

                                                    .pdf-content {
                                                        position: absolute;
                                                    top: 100px;
                                                    left: 40px;
                                                    right: 54px;
                                                    bottom: 100px;
                                                    font-size: 14pt;
                                                    line-height: 1.6;
                                                    color: #000;
                                                    text-align: justify;
                                                    overflow: visible;
                                                    z-index: 10;
                }

                                                    .pdf-footer {
                                                        position: absolute;
                                                    bottom: 30px;
                                                    left: 40px;
                                                    right: 40px;
                                                    border-top: 1px solid #ddd;
                                                    padding-top: 10px;
                                                    display: flex;
                                                    justify-content: space-between;
                                                    align-items: center;
                                                    font-size: 10px;
                                                    color: #666;
                }

                                                    .footer-quote {
                                                        font - style: normal;
                }

                                                    .page-number {
                                                        font - weight: bold;
                }

                                                    .note-section {
                                                        margin - bottom: 15px;
                }

                                                    .note-section:last-child {
                                                        margin - bottom: 0;
                }

                                                    .math-tex {
                                                        display: inline-block;
                                                    vertical-align: middle;
                }

                                                    p {
                                                        margin - bottom: 12px;
                                                    line-height: 1.6;
                }

                                                    h1, h2, h3, h4, h5, h6 {
                                                        margin - top: 20px;
                                                    margin-bottom: 8px;
                                                    line-height: 1.3;
                                                    font-weight: bold;
                }

                                                    h1 {font - size: 24pt; }
                                                    h2 {font - size: 18pt; }
                                                    h3 {font - size: 16pt; }

                                                    ul, ol {
                                                        margin: 10px 0 10px 20px;
                                                    padding-left: 20px;
                }

                                                    ul {list - style - type: disc; }
                                                    ol {list - style - type: decimal; }

                                                    li {
                                                        margin - bottom: 5px;
                }

                                                    strong {font - weight: bold; }
                                                    em, i {font - style: italic; }

                                                    table {
                                                        width: 100%;
                                                    border-collapse: collapse;
                                                    margin: 10px 0;
                }

                                                    th, td {
                                                        border: 1px solid #ddd;
                                                    padding: 8px;
                                                    text-align: left;
                }

                                                    th {
                                                        background - color: #f2f2f2;
                                                    font-weight: bold;
                }
                                                    `,$.appendChild(le),q.forEach((Te,Oe)=>{const ze=document.createElement("div");ze.className="pdf-page";const qe=document.createElement("div");qe.className="pdf-header";const re=document.createElement("div");if(re.className="logo-container",ge){const Ye=document.createElement("img");Ye.src=ge,Ye.alt="TAU Logo",re.appendChild(Ye)}qe.appendChild(re);const Ge=document.createElement("div");Ge.className="header-info",Ge.innerHTML=`
                                                    <div class="class-info">${(Z==null?void 0:Z.className)||""} - ${(Z==null?void 0:Z.subjectName)||""}</div>
                                                    <div>${(Z==null?void 0:Z.unitName)||""}${Z!=null&&Z.subUnitName?" - "+Z.subUnitName:""}</div>
                                                    <div class="lesson-name">${ue}</div>
                                                    `,qe.appendChild(Ge),ze.appendChild(qe);const We=document.createElement("div");We.className="pdf-content",We.innerHTML=Te,ze.appendChild(We);const Xe=document.createElement("div");Xe.className="pdf-footer";const ke=document.createElement("div");ke.className="footer-quote",ke.textContent="  ;   ",Xe.appendChild(ke);const Ze=document.createElement("div");Ze.className="page-number",Ze.textContent=` ${Oe+1} / ${q.length}`,Xe.appendChild(Ze),ze.appendChild(Xe),$.appendChild(ze)});const oe=new ft("p","mm","a4"),we=oe.internal.pageSize.getWidth(),Se=oe.internal.pageSize.getHeight(),Ne=$.querySelectorAll(".pdf-page");for(let Te=0;Te<Ne.length;Te++){Te>0&&oe.addPage();const Oe=Ne[Te],qe=(await Uh(Oe,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0,width:794,height:1123,windowWidth:794,onclone:(re,Ge)=>{Ge.style.opacity="1",Ge.style.visibility="visible",Ge.style.display="block",Ge.querySelectorAll("*").forEach(Xe=>{Xe instanceof HTMLElement&&(Xe.style.fontFamily="'TAU-Paalai', 'Nirmala UI', Arial, sans-serif")})}})).toDataURL("image/png");oe.addImage(qe,"PNG",0,0,we,Se,void 0,"FAST"),Te<Ne.length-1&&await new Promise(re=>setTimeout(re,100))}const Le=oe.output("blob");if(Y){const Te=URL.createObjectURL(Le),Oe=document.createElement("a");Oe.href=Te,Oe.download=`${ue.replace(/[^a-zA-Z0-9\u0B80-\u0BFF]/g,"_")}_Notes_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(Te);try{const ze=`downloaded_${t}_notes`;sessionStorage.getItem(ze)||(await(void 0)(t,"notes"),sessionStorage.setItem(ze,"true"))}catch(ze){console.error("Failed to update download count:",ze)}H({show:!0,type:"success",title:"! | Success!",message:`  !

Download started successfully!`})}else{H({show:!0,type:"loading",title:"  | Sending Email",message:`PDF  ...

Sending PDF to email...`});const Te=new FormData;Te.append("file",Le,`${ue}_Notes.pdf`),Te.append("email",R),Te.append("title",`Notes: ${ue}`),Te.append("lessonId",t),Te.append("type","notes"),Te.append("userName",A.name||"User");const Oe=await fetch("/api/export/send-pdf",{method:"POST",body:Te}),ze=await Oe.json();if(Oe.ok&&ze.success){const qe=`downloaded_${t}_notes`;sessionStorage.getItem(qe)||(await(void 0)(t,"notes").catch(()=>{}),sessionStorage.setItem(qe,"true")),H({show:!0,type:"success",title:"! | Success!",message:`PDF   !
 ${R}

    .

PDF sent to your email successfully!`})}else throw new Error(ze.message||"  ")}v(!1)}catch(Z){console.error("Export Error:",Z);const ue="7904838296";H({show:!0,type:"error",title:A.role==="admin"||A.canEdit?" | Error":"  | Email Failed",message:A.role==="admin"||A.canEdit?`Export : ${Z.message}

: ${ue}`:`PDF   .
(${Z.message})

    :
 ${ue}`,phone:ue})}finally{b(!1),_.current&&(_.current.innerHTML="")}},K=()=>{Ae?I(A.email||""):A.email?I(A.email):v(!0)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hg,{className:"w-8 h-8 text-amber-500"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-amber-500 dark:from-white dark:to-amber-400",children:"Notes"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[!d&&k.length>0&&o.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",title:"Export to PDF",children:[o.jsx(Mi,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"PDF"}),o.jsx("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-xs font-semibold ml-1",children:yo((U==null?void 0:U.downloads)||0)})]}),o.jsx(Cp,{}),Ae&&!d&&o.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Add New Note",children:[o.jsx(Ti,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Add New"})]})]})]}),d?o.jsx("div",{className:"tau-body flex-1 overflow-y-auto min-h-0 pb-3 no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.jsx(f5,{initialValue:typeof d=="object"&&d!==null?d.body:"",onSave:ne,onCancel:ee})}):o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 pb-6 no-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[l&&o.jsx("div",{className:"text-center py-10",children:"Loading notes..."}),!l&&k.length>0&&o.jsx("div",{className:"space-y-[30px] px-2",children:k.map(R=>o.jsx(EN,{item:R,onEdit:u,onDelete:J,isAdmin:Ae,onTogglePublish:D},R._id))}),!l&&k.length===0&&o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(Hg,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"No notes available for this chapter."})]})]}),o.jsx(Ws,{isOpen:f.isOpen,onClose:()=>g({isOpen:!1,onConfirm:null}),onConfirm:f.onConfirm,title:"Delete Note",message:"Are you sure you want to delete this note?"}),o.jsx(SN,{isOpen:w,onClose:()=>v(!1),onExport:I,isLoading:C}),N.show&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all scale-100 flex flex-col items-center text-center",children:[N.type==="loading"&&o.jsx("div",{className:"w-16 h-16 mb-4",children:o.jsxs("svg",{className:"animate-spin h-16 w-16 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),N.type==="success"&&o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),N.type==="error"&&o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:N.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 whitespace-pre-line",children:N.message}),N.type!=="loading"&&o.jsx("button",{onClick:()=>H(R=>({...R,show:!1})),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:" (OK)"}),N.phone&&N.type==="error"&&o.jsxs("a",{href:`tel:${N.phone}`,className:"mt-3 w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})," | Call Admin"]})]})}),o.jsx("div",{ref:_,style:{position:"fixed",top:"-10000px",left:"-10000px",width:"790px",visibility:"visible",pointerEvents:"none",zIndex:-9999}})]})},_v={CP1:{label:"Conceptual Clarity",color:"bg-blue-100 text-blue-800 border-blue-200"},CP2:{label:"Application Skill",color:"bg-green-100 text-green-800 border-green-200"},CP3:{label:"Computational Thinking",color:"bg-purple-100 text-purple-800 border-purple-200"},CP4:{label:"Analytical Thinking",color:"bg-yellow-100 text-yellow-800 border-yellow-200"},CP5:{label:"Critical Thinking",color:"bg-red-100 text-red-800 border-red-200"},CP6:{label:"Creative Thinking",color:"bg-indigo-100 text-indigo-800 border-indigo-200"},CP7:{label:"Values/Attitudes",color:"bg-pink-100 text-pink-800 border-pink-200"}},HN=t=>{switch(t){case 2:return"bg-teal-100 text-teal-800 border-teal-200";case 3:return"bg-sky-100 text-sky-800 border-sky-200";case 5:return"bg-orange-100 text-orange-800 border-orange-200";case 6:return"bg-rose-100 text-rose-800 border-rose-200";default:return"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}},_N=t=>{switch(t){case"Basic":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"Average":return"bg-amber-100 text-amber-800 border-amber-200";case"Profound":return"bg-violet-100 text-violet-800 border-violet-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},TN=t=>/^H[1-6]$/i.test(t.tagName),IN=t=>{const A=[],r=document.createElement("div");r.innerHTML=t;const a=Array.from(r.children),i=document.createElement("div");i.style.cssText=`
        position: absolute;
        visibility: hidden;
        left: -9999px;
        top: -9999px;
        width: 700px;
        font-family: 'TAU-Paalai', 'Nirmala UI', Arial, sans-serif;
        font-size: 14pt;
        line-height: 1.6;
        padding: 0;
        margin: 0;
        word-wrap: break-word;
    `,document.body.appendChild(i);const l=900,d=150;let u="",f=0;for(let g=0;g<a.length;g++){const v=a[g].cloneNode(!0);i.innerHTML="",i.appendChild(v);let C=i.offsetHeight;TN(v)&&l-f<d&&u!==""&&(A.push(u),u="",f=0),f+C>l&&u!==""&&(A.push(u),u="",f=0),u+=v.outerHTML,f+=C,g<a.length-1&&(f+8>l&&u!==""&&(A.push(u),u="",f=0),u+='<div style="height: 8px;"></div>',f+=8)}return u!==""&&A.push(u),document.body.removeChild(i),A.length===0&&A.push('<div style="text-align: center; padding: 100px; color: #666; font-style: italic;">No Q&A available for this chapter.</div>'),A},DN=({isOpen:t,onClose:A,onSave:r,contentToEdit:a})=>{const[i,l]=P.useState("question"),[d,u]=P.useState(""),[f,g]=P.useState(""),[w,v]=P.useState(2),[C,b]=P.useState("Basic"),[U,F]=P.useState("CP1"),[L,N]=P.useState(!1),[H,_]=P.useState(!1),k=P.useRef(null),V=P.useRef(null);P.useEffect(()=>{if(!t)return;const ee=setTimeout(()=>{_(!1),l("question");const Q=a?a.title:"",j=a?a.body:"";u(Q),g(j);const I=a==null?void 0:a.metadata;if(v((I==null?void 0:I.marks)||2),b((I==null?void 0:I.questionType)||"Basic"),F((I==null?void 0:I.cognitiveProcess)||"CP1"),k.current&&!V.current){const K=new Quill(k.current,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["image","video","formula"],["clean"]],keyboard:{bindings:{linebreak:{key:13,shiftKey:!0,handler:function(R){this.quill.clipboard.dangerouslyPasteHTML(R.index,"<br>")}}}}},placeholder:"Enter content..."}),ce=i==="question"?Q:j;K.root.innerHTML=ce,V.current=K,_(!0)}},100);return()=>clearTimeout(ee)},[t,a]),P.useEffect(()=>()=>{t||(V.current=null,_(!1))},[t]),P.useEffect(()=>{if(V.current&&H&&t){const D=i==="question"?d:f;V.current.root.innerHTML!==D&&(V.current.root.innerHTML=D)}},[i,H,d,f,t]);const Ae=D=>{if(D===i||!V.current||!H)return;const ee=V.current.root.innerHTML;i==="question"?u(ee):g(ee),l(D)},ne=async()=>{if(L)return;let D=d,ee=f;if(V.current&&H){const Q=V.current.root.innerHTML;i==="question"?D=Q:ee=Q}if(!D.trim()||!ee.trim()){alert("Both Question and Answer must have content.");return}N(!0);try{await r({title:D,body:ee,metadata:{marks:w,questionType:C,cognitiveProcess:U}}),J()}catch(Q){console.error("Error saving Q&A:",Q),alert("Error saving Q&A. Please try again.")}finally{N(!1)}},J=()=>{u(""),g(""),v(2),b("Basic"),F("CP1"),l("question"),_(!1),V.current&&(V.current.root.innerHTML=""),V.current=null,A()};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl flex flex-col max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a?"Edit Q&A":"Add New Q&A"}),o.jsx("button",{onClick:J,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 grid grid-cols-1 sm:grid-cols-3 gap-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Marks"}),o.jsxs("select",{value:w,onChange:D=>v(Number(D.target.value)),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[o.jsx("option",{value:2,children:"2 Marks"}),o.jsx("option",{value:3,children:"3 Marks"}),o.jsx("option",{value:5,children:"5 Marks"}),o.jsx("option",{value:6,children:"6 Marks"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Question Type"}),o.jsxs("select",{value:C,onChange:D=>b(D.target.value),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Average",children:"Average"}),o.jsx("option",{value:"Profound",children:"Profound"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Cognitive Process"}),o.jsx("select",{value:U,onChange:D=>F(D.target.value),className:"w-full p-2 text-sm border rounded bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:Object.entries(_v).map(([D,ee])=>o.jsxs("option",{value:D,children:[D," - ",ee.label]},D))})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center transition-colors ${i==="question"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-t-2 border-blue-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>Ae("question"),children:"Question"}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center transition-colors ${i==="answer"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-t-2 border-blue-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>Ae("answer"),children:"Answer"})]}),o.jsx("div",{className:"flex-1 flex flex-col p-4 overflow-hidden bg-white dark:bg-gray-800",children:o.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 flex-1 flex flex-col overflow-hidden text-gray-900 dark:text-gray-100",children:o.jsx("div",{ref:k,className:"flex-1 overflow-y-auto tamil-text",style:{minHeight:"200px",fontFamily:"'Noto Sans Tamil', 'Kailasa', 'Latha', sans-serif"}})})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-end gap-3",children:[o.jsx("button",{onClick:J,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",disabled:L,children:"Cancel"}),o.jsx("button",{onClick:ne,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-blue-400",disabled:L,children:L?"Saving...":"Save Q&A"})]})]})}):null},MN=({isOpen:t,onClose:A,onExport:r,isLoading:a})=>{const[i,l]=P.useState("");if(!t)return null;const d=u=>{u.preventDefault(),r(i)};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-6 transform transition-all scale-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Export Q&A to PDF"}),o.jsx("button",{onClick:A,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx(Pa,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6 font-medium",children:"Enter your email address to receive the PDF copy of these Q&A."}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),o.jsx("input",{type:"email",value:i,onChange:u=>l(u.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),o.jsx("div",{className:"pt-2",children:o.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:from-green-700 hover:to-teal-700 transition-all font-bold shadow-md flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:a?o.jsx("span",{children:"Generating PDF..."}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Export & Send Mail"}),o.jsx(Mi,{className:"w-5 h-5"})]})})})]})]})})},ON=({item:t,isOpen:A,onToggle:r,onEdit:a,onDelete:i,isAdmin:l,onTogglePublish:d})=>{const{session:u}=Di(),f=t.metadata,g=f!=null&&f.cognitiveProcess?_v[f.cognitiveProcess]:null,w={fontSize:`${u.fontSize}px`};return o.jsxs("div",{className:`
            group bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 
            border-l-4 ${t.isPublished?"border-l-green-500":"border-l-gray-300"}
            border-y border-r border-gray-100 dark:border-gray-700 overflow-hidden mb-5 transform hover:-translate-y-1
            ${A?"ring-2 ring-blue-100 dark:ring-blue-900 shadow-md":""}
        `,children:[o.jsxs("div",{onClick:r,className:"relative w-full text-left p-5 sm:p-6 cursor-pointer bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-800/50",children:[o.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 transition-colors duration-300 ${(f==null?void 0:f.questionType)==="Profound"?"bg-violet-500":(f==null?void 0:f.questionType)==="Average"?"bg-amber-500":(f==null?void 0:f.questionType)==="Basic"?"bg-emerald-500":"bg-blue-500"}`}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 pl-2",children:[(f==null?void 0:f.marks)&&o.jsxs("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-extrabold uppercase tracking-widest shadow-sm ${HN(f.marks)}`,children:[f.marks," Marks"]}),(f==null?void 0:f.questionType)&&o.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-widest shadow-sm border ${_N(f.questionType)}`,children:f.questionType}),g&&o.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-widest shadow-sm border ${g.color}`,children:g.label})]}),o.jsxs("div",{className:"flex justify-between items-start w-full pl-2",children:[o.jsx("div",{className:"flex-1 pr-6",children:o.jsx("div",{className:"prose dark:prose-invert max-w-none text-lg font-semibold text-gray-800 dark:text-gray-100 qa-content tamil-text font-tau-paalai leading-relaxed",style:w,dangerouslySetInnerHTML:{__html:sn(t.title)}})}),o.jsxs("div",{className:"flex items-center shrink-0 gap-3",children:[l&&o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",onClick:v=>v.stopPropagation(),children:[d&&o.jsx(PublishToggle,{isPublished:!!t.isPublished,onToggle:()=>d(t)}),o.jsx("button",{onClick:v=>{v.stopPropagation(),a(t)},className:"p-2 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30 text-gray-400 hover:text-blue-600 transition-colors shadow-sm border border-transparent hover:border-blue-100 dark:hover:border-blue-800",title:"Edit Q&A",children:o.jsx(dh,{className:"w-4 h-4"})}),o.jsx("button",{onClick:v=>{v.stopPropagation(),i(t._id)},className:"p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-600 transition-colors shadow-sm border border-transparent hover:border-red-100 dark:hover:border-red-800",title:"Delete Q&A",children:o.jsx(vs,{className:"w-4 h-4"})})]}),o.jsx("div",{className:`p-2 rounded-full bg-white dark:bg-gray-700 shadow-sm border border-gray-100 dark:border-gray-600 transition-all duration-300 ${A?"rotate-90 bg-blue-50 dark:bg-blue-900/30 text-blue-600":"text-gray-400"}`,children:o.jsx(Wu,{className:"w-5 h-5"})})]})]})]}),o.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${A?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:o.jsx("div",{className:"overflow-hidden",children:o.jsx("div",{className:"p-6 pt-2 bg-gradient-to-b from-white to-gray-50/50 dark:from-gray-800 dark:to-gray-900/50 border-t border-dashed border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"shrink-0 pt-1",children:o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400 font-bold text-sm shadow-sm",children:"A"})}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 qa-content tamil-text font-tau-paalai leading-relaxed text-base",style:w,dangerouslySetInnerHTML:{__html:sn(t.body)}})})]})})})})]})},RN=({lessonId:t,user:A})=>{var R;const[r,a]=P.useState(0),{data:i,isLoading:l}=Ar(()=>za(t,["qa"],A.role!=="admin"&&!A.canEdit),[t,r,A]),[d,u]=P.useState({isOpen:!1,content:null}),[f,g]=P.useState({isOpen:!1,onConfirm:null}),[w,v]=P.useState(null),[C,b]=P.useState(null),[U,F]=P.useState(!1),[L,N]=P.useState(!1),{showToast:H}=Mr(),_=P.useRef(null),[k,V]=P.useState({show:!1,type:"loading",title:"",message:""});P.useEffect(()=>{(async()=>{try{const Z=await wn(t);b({downloads:Z.qaDownloadCount||0})}catch(Z){console.error("Failed to fetch stats",Z)}})()},[t]);const Ae=((R=i==null?void 0:i[0])==null?void 0:R.docs)||[],ne="qa",J=A.role==="admin"||!!A.canEdit,D=async Y=>{d.content?await(void 0)(d.content._id,Y):await(void 0)({...Y,lessonId:t,type:ne}),a(Z=>Z+1),u({isOpen:!1,content:null})},ee=Y=>{g({isOpen:!0,onConfirm:async()=>{await(void 0)(Y),a(ue=>ue+1),g({isOpen:!1,onConfirm:null})}})},Q=async Y=>{try{const Z=!Y.isPublished;await(void 0)(Y._id,{isPublished:Z}),a(ue=>ue+1),H(`Q&A ${Z?"published":"unpublished"} successfully`,"success")}catch(Z){console.error("Failed to toggle publish status:",Z),H("Failed to update publish status","error")}},j=Y=>{v(Z=>Z===Y?null:Y)},I=async Y=>{try{const Z=await fetch(Y);if(!Z.ok)throw new Error(`Failed to load ${Y}`);const ue=await Z.blob();return new Promise(ge=>{const be=new FileReader;be.onloadend=()=>ge(be.result),be.readAsDataURL(ue)})}catch(Z){return console.error("Error loading image:",Y,Z),""}},K=async Y=>{N(!0);const Z=A.role==="admin"||A.canEdit;V({show:!0,type:"loading",title:"PDF  | Generating PDF",message:`PDF ...  

Generating PDF... Please wait`});try{const ue=await wn(t),ge=(ue==null?void 0:ue.lessonName)||"QA",be=await I("/top_logo.png");let T="";const q=Oe=>Oe.replace(/^(\s*(?:<[^>]+>\s*)*)\d+[\.\)\-\s]\s*/,"$1");if(Ae.forEach((Oe,ze)=>{T+=`
                    <div class="qa-pair-container" style="border: 1px solid #eee; border-radius: 8px; padding: 8px 12px; margin-bottom: 12px; background-color: #fcfcfc;">
                        <div class="question-part" style="font-weight: bold; font-size: 15pt; margin-bottom: 4px; color: #000; line-height: 1.4;">
                            <span style="color: #2563eb; margin-right: 5px;">Q${ze+1}.</span>
                            ${sn(q(Oe.title))}
                        </div>
                        <div class="answer-part" style="font-size: 14pt; margin-left: 0px; color: #333; line-height: 1.5;">
                            <span style="font-weight: bold; color: #16a34a; margin-right: 5px;">Ans:</span>
                            ${sn(Oe.body)}
                        </div>
                    </div>
                `}),Ae.length===0)throw new Error("  -  | No Q&A available for this chapter");const $=IN(T);if(console.log(`Split content into ${$.length} pages`),!_.current)throw new Error("Export container not found");const le=_.current;le.innerHTML="";const oe=document.createElement("style");oe.textContent=`
                .pdf-page {
                    width: 794px;
                    min-height: 1123px;
                    background: white;
                    position: relative;
                    font-family: 'TAU-Paalai', 'Nirmala UI', Arial, sans-serif;
                    page-break-after: always;
                }
               
                .pdf-header {
                    position: absolute;
                    top: 20px;
                    left: 40px;
                    right: 40px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid #ddd;
                    padding-bottom: 10px;
                }
               
                .logo-container img {
                    width: 170px;
                    height: 22px;
                    object-fit: contain;
                }
               
                .header-info {
                    text-align: right;
                    font-size: 11px;
                    color: #555;
                    line-height: 1.3;
                }
               
                .header-info .class-info {
                    font-weight: bold;
                    color: #333;
                }
               
                .header-info .lesson-name {
                    font-size: 12px;
                    font-weight: bold;
                    margin-top: 3px;
                    color: #222;
                }
               
                .pdf-content {
                    position: absolute;
                    top: 100px;
                    left: 40px;
                    right: 54px;
                    bottom: 100px;
                    font-size: 14pt;
                    line-height: 1.6;
                    color: #000;
                    text-align: justify;
                    overflow: visible;
                    z-index: 10;
                }
               
                .pdf-footer {
                    position: absolute;
                    bottom: 30px;
                    left: 40px;
                    right: 40px;
                    border-top: 1px solid #ddd;
                    padding-top: 10px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    font-size: 10px;
                    color: #666;
                }
               
                .footer-quote {
                    font-style: normal;
                }
               
                .page-number {
                    font-weight: bold;
                }
               
                .qa-pair-container {
                    border: 1px solid #eee;
                    border-radius: 8px;
                    padding: 15px;
                    margin-bottom: 20px;
                    background-color: #fcfcfc;
                }

                .qa-pair-container:last-child {
                    margin-bottom: 0;
                }

                p {
                    margin-bottom: 12px;
                    line-height: 1.6;
                }
               
                h1, h2, h3, h4, h5, h6 {
                    margin-top: 20px;
                    margin-bottom: 8px;
                    line-height: 1.3;
                    font-weight: bold;
                }

                ul, ol {
                    margin: 10px 0 10px 20px;
                    padding-left: 20px;
                }

                ul { list-style-type: disc; }
                ol { list-style-type: decimal; }
               
                li {
                    margin-bottom: 5px;
                }

                strong { font-weight: bold; }
                em, i { font-style: italic; }

                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin: 10px 0;
                }

                th, td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }

                th {
                    background-color: #f2f2f2;
                    font-weight: bold;
                }
            `,le.appendChild(oe),$.forEach((Oe,ze)=>{const qe=document.createElement("div");qe.className="pdf-page";const re=document.createElement("div");re.className="pdf-header";const Ge=document.createElement("div");if(Ge.className="logo-container",be){const rt=document.createElement("img");rt.src=be,rt.alt="TAU Logo",Ge.appendChild(rt)}re.appendChild(Ge);const We=document.createElement("div");We.className="header-info",We.innerHTML=`
                    <div class="class-info">${(ue==null?void 0:ue.className)||""} - ${(ue==null?void 0:ue.subjectName)||""}</div>
                    <div>${(ue==null?void 0:ue.unitName)||""}${ue!=null&&ue.subUnitName?" - "+ue.subUnitName:""}</div>
                    <div class="lesson-name">${ge}</div>
                `,re.appendChild(We),qe.appendChild(re);const Xe=document.createElement("div");Xe.className="pdf-content",Xe.innerHTML=Oe,qe.appendChild(Xe);const ke=document.createElement("div");ke.className="pdf-footer";const Ze=document.createElement("div");Ze.className="footer-quote",Ze.textContent="  ;   ",ke.appendChild(Ze);const Ye=document.createElement("div");Ye.className="page-number",Ye.textContent=` ${ze+1} / ${$.length}`,ke.appendChild(Ye),qe.appendChild(ke),le.appendChild(qe)});const we=new ft("p","mm","a4"),Se=we.internal.pageSize.getWidth(),Ne=we.internal.pageSize.getHeight(),Le=le.querySelectorAll(".pdf-page");for(let Oe=0;Oe<Le.length;Oe++){Oe>0&&we.addPage();const ze=Le[Oe],re=(await Uh(ze,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0,width:794,height:1123,windowWidth:794,onclone:(Ge,We)=>{We.style.opacity="1",We.style.visibility="visible",We.style.display="block",We.querySelectorAll("*").forEach(ke=>{ke instanceof HTMLElement&&(ke.style.fontFamily="'TAU-Paalai', 'Nirmala UI', Arial, sans-serif")})}})).toDataURL("image/png");we.addImage(re,"PNG",0,0,Se,Ne,void 0,"FAST"),Oe<Le.length-1&&await new Promise(Ge=>setTimeout(Ge,100))}const Te=we.output("blob");if(Z){const Oe=URL.createObjectURL(Te),ze=document.createElement("a");ze.href=Oe,ze.download=`${ge.replace(/[^a-zA-Z0-9\u0B80-\u0BFF]/g,"_")}_QA_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(ze),ze.click(),document.body.removeChild(ze),URL.revokeObjectURL(Oe),await(void 0)(t,"qa"),V({show:!0,type:"success",title:"! | Success!",message:`  !

Download started successfully!`})}else{V({show:!0,type:"loading",title:"  | Sending Email",message:`PDF  ...

Sending PDF to email...`});const Oe=new FormData;Oe.append("file",Te,`${ge}_QA.pdf`),Oe.append("email",Y),Oe.append("title",`Q&A: ${ge}`),Oe.append("lessonId",t),Oe.append("type","qa"),Oe.append("userName",A.name||"User");const ze=await fetch("/api/export/send-pdf",{method:"POST",body:Oe}),qe=await ze.json();if(ze.ok&&qe.success)await(void 0)(t,"qa").catch(()=>{}),V({show:!0,type:"success",title:"! | Success!",message:`PDF   !
 ${Y}

    .

PDF sent to your email successfully!`});else throw new Error(qe.message||"  ")}F(!1)}catch(ue){console.error("Export Error:",ue);const ge="7904838296";V({show:!0,type:"error",title:A.role==="admin"||A.canEdit?" | Error":"  | Email Failed",message:A.role==="admin"||A.canEdit?`Export : ${ue.message}

: ${ge}`:`PDF   .
(${ue.message})

    :
 ${ge}`,phone:ge})}finally{N(!1),_.current&&(_.current.innerHTML="")}},ce=()=>{J?K(A.email||"admin@example.com"):A.email?K(A.email):F(!0)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto w-full flex flex-col h-full overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx(_g,{className:"w-8 h-8 text-emerald-600"}),o.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-emerald-600 dark:from-white dark:to-emerald-400",children:"Q-A & More"})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 pl-1",children:"Questions, answers, and additional exercises."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!l&&Ae.length>0&&o.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",title:"Export to PDF",children:[o.jsx(Mi,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"PDF"}),o.jsx("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-xs font-semibold ml-1",children:yo((C==null?void 0:C.downloads)||0)})]}),o.jsx(Cp,{}),J&&o.jsxs("button",{onClick:()=>u({isOpen:!0,content:null}),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Add New Q&A",children:[o.jsx(Ti,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Add New"})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 pb-8 no-scrollbar",children:[l&&o.jsx("div",{className:"text-center py-12",children:"Loading Q&A..."}),!l&&Ae.length>0&&o.jsx("div",{className:"space-y-6",children:Ae.map(Y=>o.jsx(ON,{item:Y,isOpen:w===Y._id,onToggle:()=>j(Y._id),onEdit:Z=>u({isOpen:!0,content:Z}),onDelete:ee,isAdmin:J,onTogglePublish:Q},Y._id))}),!l&&Ae.length===0&&o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(_g,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"No Q&A available for this chapter."})]})]}),o.jsx(DN,{isOpen:d.isOpen,onClose:()=>u({isOpen:!1,content:null}),onSave:D,contentToEdit:d.content}),o.jsx(Ws,{isOpen:f.isOpen,onClose:()=>g({isOpen:!1,onConfirm:null}),onConfirm:f.onConfirm,title:"Delete Q&A",message:"Are you sure you want to delete this Q&A?"}),o.jsx(MN,{isOpen:U,onClose:()=>F(!1),onExport:K,isLoading:L}),o.jsx("div",{ref:_,style:{position:"fixed",top:"-10000px",left:"-10000px",width:"794px",visibility:"visible",pointerEvents:"none",zIndex:-9999}}),k.show&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all scale-100 flex flex-col items-center text-center",children:[k.type==="loading"&&o.jsx("div",{className:"w-16 h-16 mb-4",children:o.jsxs("svg",{className:"animate-spin h-16 w-16 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),k.type==="success"&&o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),k.type==="error"&&o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:k.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 whitespace-pre-line",children:k.message}),k.type!=="loading"&&o.jsx("button",{onClick:()=>V(Y=>({...Y,show:!1})),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:" (OK)"}),k.phone&&k.type==="error"&&o.jsxs("a",{href:`tel:${k.phone}`,className:"mt-3 w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})," | Call Admin"]})]})})]})},Bb=({isOpen:t,onClose:A,onImport:r})=>{const[a,i]=P.useState(""),[l,d]=P.useState(!1),[u,f]=P.useState(null),[g,w]=P.useState("json"),v=El.useRef(null);if(P.useEffect(()=>{t&&(i(""),f(null))},[t]),!t)return null;const C=H=>{const _=H.split(`
`).filter(V=>V.trim()),k=[];for(let V=0;V<_.length;V++){const Ae=_[V].trim();if(!Ae)continue;const ne=b(Ae);ne.length>=2&&k.push({title:ne[0].trim(),body:ne[1].trim()})}return k},b=H=>{const _=[];let k="",V=!1;for(let Ae=0;Ae<H.length;Ae++){const ne=H[Ae],J=H[Ae+1];ne==='"'&&J==='"'?(k+='"',Ae++):ne==='"'?V=!V:ne===","&&!V?(_.push(k),k=""):k+=ne}return _.push(k),_},U=H=>{var k;const _=(k=H.target.files)==null?void 0:k[0];if(_)if(_.type==="text/csv"||_.name.endsWith(".csv")){const V=new FileReader;V.onload=Ae=>{var J;const ne=(J=Ae.target)==null?void 0:J.result;i(ne),w("csv"),f(null)},V.readAsText(_)}else f("Please select a CSV file.")},F=()=>a.includes("&quot;")||a.includes("&#39;")||a.includes("&amp;")||a.includes("&lt;")||a.includes("&gt;"),L=()=>{f(null),console.log("[Format] Original text:",a.substring(0,200)+"...");const H=a.trim().replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#34;/g,'"').replace(/&#38;/g,"&").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/[\u201C\u201D]/g,'"').replace(/[\u2018\u2019]/g,"'");console.log("[Format] Cleaned text:",H.substring(0,200)+"...");try{const _=JSON.parse(H);if(Array.isArray(_)){const k=JSON.stringify(_,null,2);console.log("[Format] Successfully formatted JSON"),i(k),f(null);return}else f("JSON must be an array of objects.")}catch(_){console.log("[Format] Parse error:",_.message),f(`Invalid JSON syntax after fixing entities: ${_.message}`)}},N=async()=>{if(l||!a.trim())return;d(!0),f(null);let H=[];if(g==="csv")H=C(a);else try{const _=JSON.parse(a.trim());Array.isArray(_)&&(H=_.filter(k=>k&&(k.f||k.front||k.title)&&(k.b||k.back||k.body)).map(k=>({title:(k.f||k.front||k.title||"").trim(),body:(k.b||k.back||k.body||"").trim()})))}catch{let k=a.trim();k=k.replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/[\u201C\u201D]/g,'"').replace(/[\u2018\u2019]/g,"'");try{const V=JSON.parse(k);Array.isArray(V)&&(H=V.filter(Ae=>Ae&&(Ae.f||Ae.front||Ae.title)&&(Ae.b||Ae.back||Ae.body)).map(Ae=>({title:(Ae.f||Ae.front||Ae.title||"").trim(),body:(Ae.b||Ae.back||Ae.body||"").trim()})))}catch{H=k.split(`
`).map(ne=>ne.split(";")).filter(ne=>ne.length>=2&&ne[0].trim()&&ne[1].trim()).map(ne=>({title:ne[0].trim(),body:ne.slice(1).join(";").trim()}))}}H.length>0?(await r(H),A()):f(g==="csv"?"Could not parse any cards from CSV. Please ensure the format is: Question,Answer":'Could not parse any cards. Please ensure JSON is an array of objects (e.g., [{"f":"Question", "b":"Answer"}]) or use "Question;Answer" format per line.'),d(!1)};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-3xl flex flex-col max-h-[90vh]",onClick:H=>H.stopPropagation(),children:[o.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Import Flashcards"}),o.jsxs("div",{className:"mb-4 flex gap-2",children:[o.jsx("button",{onClick:()=>w("json"),className:`px-3 py-1 text-sm rounded-md ${g==="json"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:"JSON/Text"}),o.jsx("button",{onClick:()=>w("csv"),className:`px-3 py-1 text-sm rounded-md ${g==="csv"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"}`,children:"CSV File"})]}),o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 space-y-2",children:g==="json"?o.jsx(o.Fragment,{children:o.jsx("ul",{className:"list-disc list-inside text-xs space-y-1",children:o.jsxs("li",{children:[o.jsx("b",{children:"JSON Array:"})," ",o.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 p-1 rounded-sm select-all",children:'[{"f":"Question HTML","b":"Answer HTML"}]'})," (Use 'Format' button to clean quotes)."]})})}):o.jsx(o.Fragment,{children:o.jsx("ul",{className:"list-disc list-inside text-xs space-y-1",children:o.jsxs("li",{children:[o.jsx("b",{children:"First column:"})," Front - ",o.jsx("b",{children:"Second column:"})," Back"]})})})}),g==="csv"&&o.jsxs("div",{className:"mb-4",children:[o.jsx("input",{ref:v,type:"file",accept:".csv",onChange:U,className:"hidden"}),o.jsx("button",{onClick:()=>{var H;return(H=v.current)==null?void 0:H.click()},className:"px-4 py-2 bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 rounded-md hover:bg-green-200 dark:hover:bg-green-800 text-sm font-medium",children:"Choose CSV File"})]}),o.jsx("textarea",{value:a,rows:15,onChange:H=>{i(H.target.value),f(null)},placeholder:g==="json"?`[
  {
    "f": "What is <b>HTML</b>?",
    "b": "HyperText Markup Language"
  }
]`:`Question 1,Answer 1
Question 2,Answer 2
Question 3,Answer 3`,className:"flex-1 w-full p-3 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-mono text-xs resize-none",autoFocus:!0}),u&&o.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 mt-2",children:u}),F()&&o.jsx("div",{className:"mt-2 p-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md"}),o.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[g==="json"&&o.jsx("button",{onClick:L,className:"px-4 py-2 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 rounded-md hover:bg-yellow-200 dark:hover:bg-yellow-800 font-medium text-sm",children:F()?"Fix HTML Entities":"Format & Preview"}),o.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 rounded-md text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-sm",disabled:l,children:"Cancel"}),o.jsx("button",{onClick:N,className:"px-4 py-2 rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-wait text-sm font-medium",disabled:l||!a.trim(),children:l?"Importing...":`Import ${g==="csv"?"from CSV":"Cards"}`})]})]})})},Tv=()=>{const t=P.useRef(null);return P.useEffect(()=>{const A=t.current;if(!A)return;const r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"],a=[];for(let l=0;l<30;l++){const d=document.createElement("div");d.style.position="absolute",d.style.width="5px",d.style.height="5px",d.style.borderRadius="50%",d.style.backgroundColor=r[Math.floor(Math.random()*r.length)],d.style.left=`${40+Math.random()*20}%`,d.style.top=`${40+Math.random()*20}%`,A.appendChild(d),a.push(d);const u=Math.random()*Math.PI*2,f=50+Math.random()*150,g=1+Math.random()*1;d.animate([{transform:"translate(0, 0) scale(1)",opacity:1},{transform:`translate(${Math.cos(u)*f}px, ${Math.sin(u)*f}px) scale(0)`,opacity:0}],{duration:g*1e3,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",delay:Math.random()*500})}const i=setTimeout(()=>{a.forEach(l=>l.remove())},2500);return()=>{clearTimeout(i),a.forEach(l=>{l.parentElement&&l.remove()})}},[]),o.jsx("div",{ref:t,className:"absolute inset-0 pointer-events-none"})},Cb=()=>({bg:"linear-gradient(135deg, #000000, #333333)",textClass:"text-white",borderClass:"border-gray-400"}),Ub=()=>({bg:"linear-gradient(135deg, #ffffff, #f5f5f5)",textClass:"text-gray-900",borderClass:"border-gray-800 dark:border-gray-700"}),Qb=({isOpen:t,onClose:A,onSave:r,cardToEdit:a})=>{const[i,l]=P.useState("front"),[d,u]=P.useState(""),[f,g]=P.useState(""),[w,v]=P.useState(!1),[C,b]=P.useState(!1),U=P.useRef(null),F=P.useRef(null);P.useEffect(()=>{if(t&&U.current&&!F.current){const _=new Quill(U.current,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["clean"]]},placeholder:"Enter content..."});_.on("text-change",()=>{const k=_.root.innerHTML;i==="front"?u(k):g(k)}),F.current=_,b(!0)}return()=>{t||(F.current=null,b(!1))}},[t]),P.useEffect(()=>{if(t){const _=a?a.title:"",k=a?a.body:"";console.log("[FlashcardEditor] Loading content for edit:",a),console.log("[FlashcardEditor] Front content:",_.substring(0,100)+"..."),console.log("[FlashcardEditor] Back content:",k.substring(0,100)+"..."),u(_),g(k),l("front"),F.current&&(F.current.root.innerHTML=_)}else u(""),g(""),l("front")},[t,a]),P.useEffect(()=>{if(F.current&&t){const _=i==="front"?d:f;F.current.root.innerHTML!==_&&(F.current.root.innerHTML=_)}},[i,t,d,f]);const L=_=>{if(_===i||!F.current)return;const k=F.current.root.innerHTML;i==="front"?u(k):g(k),l(_)},N=async()=>{if(w)return;let _=d,k=f;if(F.current){const V=F.current.root.innerHTML;i==="front"?_=V:k=V}if(console.log("[FlashcardEditor] Save attempt:",{front:_.substring(0,100)+"...",back:k.substring(0,100)+"...",frontLength:_.length,backLength:k.length,isEditing:!!a}),!_.trim()||!k.trim()){alert("Both Front and Back sides must have content.");return}v(!0);try{await r({title:_,body:k}),console.log("[FlashcardEditor] Save successful")}catch(V){console.error("[FlashcardEditor] Save error:",V),alert("Failed to save flashcard: "+V.message)}finally{v(!1),H()}},H=()=>{u(""),g(""),l("front"),F.current&&(F.current.root.innerHTML=""),A()};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a?"Edit Flashcard":"Add New Flashcard"}),o.jsx("button",{onClick:H,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center transition-colors ${i==="front"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-t-2 border-blue-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>L("front"),children:"Front (Question)"}),o.jsx("button",{className:`flex-1 py-3 text-lg font-medium text-center transition-colors ${i==="back"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-t-2 border-blue-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>L("back"),children:"Back (Answer)"})]}),o.jsx("div",{className:"flex-1 flex flex-col p-4 overflow-hidden bg-white dark:bg-gray-800",children:o.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 flex-1 flex flex-col overflow-hidden text-gray-900 dark:text-gray-100",children:o.jsx("div",{ref:U,className:"flex-1 overflow-y-auto",style:{minHeight:"200px"}})})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-end gap-3",children:[o.jsx("button",{onClick:H,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",disabled:w,children:"Cancel"}),o.jsx("button",{onClick:N,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-blue-400",disabled:w,children:w?"Saving...":"Save Card"})]})]})}):null},PN=({card:t,frontTheme:A,backTheme:r,isCurrent:a,onEdit:i,onDelete:l,isAdmin:d,onTogglePublish:u})=>{const[f,g]=P.useState(!1);P.useEffect(()=>{g(!1)},[t]);const w="w-full max-h-full overflow-y-auto prose prose-2xl max-w-none text-center px-4 scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent font-tau-marutham";return o.jsx("div",{className:"w-full h-full [perspective:1500px]",onClick:()=>g(!f),children:o.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 [transform-style:preserve-3d] ${f?"[transform:rotateY(180deg)]":""} ease-in-out`,children:[o.jsxs("div",{className:`absolute w-full h-full rounded-2xl shadow-2xl flex flex-col items-center justify-center p-8 [backface-visibility:hidden] ${A.textClass} ${A.borderClass} border-2 cursor-pointer`,style:{background:A.bg},children:[o.jsx("div",{className:"text-5xl mb-6 opacity-80 shrink-0",children:""}),o.jsx("div",{className:w,style:{color:"inherit"},dangerouslySetInnerHTML:{__html:sn(t.title)}}),o.jsx("p",{className:"absolute bottom-6 text-xs uppercase tracking-widest opacity-60 animate-pulse shrink-0",children:"Tap to Flip"}),d&&a&&o.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",onClick:v=>v.stopPropagation(),children:[u&&o.jsx(PublishToggle,{isPublished:!!t.isPublished,onToggle:u}),o.jsx("button",{onClick:v=>{v.stopPropagation(),i()},className:"p-2 rounded-full bg-white/30 hover:bg-white/50 backdrop-blur-md shadow-sm transition-all",title:"Edit Card",children:o.jsx(dh,{className:"w-5 h-5 text-current"})}),o.jsx("button",{onClick:v=>{v.stopPropagation(),l()},className:"p-2 rounded-full bg-white/30 hover:bg-white/50 backdrop-blur-md shadow-sm transition-all",title:"Delete Card",children:o.jsx(vs,{className:"w-5 h-5 text-current"})})]})]}),o.jsxs("div",{className:`absolute w-full h-full rounded-2xl shadow-2xl flex flex-col items-center justify-center p-8 [transform:rotateY(180deg)] [backface-visibility:hidden] ${r.textClass} ${r.borderClass} border-2 cursor-pointer`,style:{background:r.bg},children:[o.jsx("div",{className:"text-5xl mb-6 opacity-80 shrink-0",children:""}),o.jsx("div",{className:w,style:{color:"inherit"},dangerouslySetInnerHTML:{__html:sn(t.body)}})]})]})})},KN=({onRetry:t})=>o.jsxs("div",{className:"absolute inset-0 bg-gray-900/80 backdrop-blur-sm z-20 flex flex-col items-center justify-center p-4 text-center",children:[o.jsx(Tv,{}),o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Great Job!"}),o.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"You've reviewed all the flashcards."}),o.jsx("button",{onClick:t,className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-full hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-lg",children:"Start Over"})]}),zN=({lessonId:t,user:A})=>{const[r,a]=P.useState(0);P.useEffect(()=>{console.log("[FlashcardView] LessonId changed:",t)},[t]);const{data:i,isLoading:l}=Ar(()=>za(t,["flashcard"],A.role!=="admin"&&!A.canEdit),[t,r,A]);P.useEffect(()=>{console.log("[FlashcardView] Grouped content response:",i),console.log("[FlashcardView] Response structure:",{hasResponse:!!i,length:i==null?void 0:i.length,firstGroup:i==null?void 0:i[0]})},[i]);const[d,u]=P.useState(null);P.useEffect(()=>{(async()=>{try{const be=await wn(t);u({count:0})}catch(be){console.error("Failed to fetch stats",be)}})()},[t]);const[f,g]=P.useState(0);P.useEffect(()=>{},[f,i]);const[w,v]=P.useState(!1),[C,b]=P.useState(Cb),[U,F]=P.useState(Ub),[L,N]=P.useState({isOpen:!1,content:null}),[H,_]=P.useState({isOpen:!1,onConfirm:null}),[k,V]=P.useState(!1),{showToast:Ae}=Mr(),ne=P.useMemo(()=>{var ge;return((ge=i==null?void 0:i[0])==null?void 0:ge.docs)||[]},[i]),J="flashcard",D=A.role==="admin"||!!A.canEdit;P.useEffect(()=>{console.log("[FlashcardView] Flashcards array:",ne),console.log("[FlashcardView] Flashcards count:",ne.length)},[ne]),P.useEffect(()=>{g(0),v(!1),b(Cb()),F(Ub())},[t]);const ee=P.useCallback(()=>{f<ne.length-1?g(ge=>ge+1):v(!0)},[f,ne.length]),Q=P.useCallback(()=>{v(!1),f>0&&g(ge=>ge-1)},[f]),j=ge=>{g(ge),v(!1)},I=()=>{g(0),v(!1)};P.useEffect(()=>{const ge=be=>{be.key==="ArrowRight"&&ee(),be.key==="ArrowLeft"&&Q()};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[ee,Q]);const K=async ge=>{try{if(console.log("[FlashcardView] Saving flashcard content with lessonId:",t),console.log("[FlashcardView] Content data received:",{title:ge.title.substring(0,100)+"...",body:ge.body.substring(0,100)+"...",titleLength:ge.title.length,bodyLength:ge.body.length,isEditing:!!L.content}),!t)throw new Error("No lesson selected");if(!ge.title.trim()||!ge.body.trim())throw new Error("Both front and back content are required");if(L.content)console.log("[FlashcardView] Updating existing flashcard:",L.content._id),await(void 0)(L.content._id,ge),Ae("Card updated successfully!","success");else{const be={...ge,lessonId:t,type:J};console.log("[FlashcardView] Creating new flashcard:",{...be,title:be.title.substring(0,100)+"...",body:be.body.substring(0,100)+"..."}),await(void 0)(be),Ae("Card created successfully!","success")}a(be=>be+1),N({isOpen:!1,content:null})}catch(be){throw console.error("[FlashcardView] Save error:",be),Ae(`Failed to save card: ${be.message}`,"error"),be}},ce=ge=>{_({isOpen:!0,onConfirm:async()=>{try{await(void 0)(ge),a(T=>T+1),Ae("Card deleted.","error")}catch{Ae("Failed to delete card.","error")}_({isOpen:!1,onConfirm:null})}})},R=async()=>{if(Z)try{const ge=!Z.isPublished;await(void 0)(Z._id,{isPublished:ge}),a(be=>be+1),Ae(`Card ${ge?"published":"unpublished"} successfully`,"success")}catch(ge){console.error("Failed to toggle publish status:",ge),Ae("Failed to update publish status","error")}},Y=async ge=>{try{await(void 0)(ge.map(T=>({...T,lessonId:t,type:J}))),a(T=>T+1),Ae(`${ge.length} cards imported successfully!`,"success")}catch{Ae("Failed to import cards.","error")}V(!1)},Z=ne[f],ue=ne.length>0?(f+1)/ne.length*100:0;return l?o.jsx("div",{className:"text-center py-10",children:"Loading flashcards..."}):ne.length===0?o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_f,{className:"w-8 h-8 text-violet-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-violet-600 dark:from-white dark:to-violet-400",children:"Flashcards"})]})}),D&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>N({isOpen:!0,content:null}),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm transition-colors",title:"Add Card",children:[o.jsx(Ti,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Add New"})]}),o.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 shadow-sm transition-colors",title:"Import Cards",children:[o.jsx(a2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Import"})]})]})]}),o.jsxs("div",{className:"flex-1 text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg flex flex-col justify-center items-center shadow-inner",children:[o.jsx(_f,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"No flashcards available for this chapter."})]}),o.jsx(Qb,{isOpen:L.isOpen,onClose:()=>N({isOpen:!1,content:null}),onSave:K,cardToEdit:L.content}),o.jsx(Bb,{isOpen:k,onClose:()=>V(!1),onImport:Y})]}):o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 flex flex-col h-full overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8 shrink-0",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_f,{className:"w-8 h-8 text-violet-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-violet-600 dark:from-white dark:to-violet-400",children:"Flashcards"})]})}),D&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>N({isOpen:!0,content:null}),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow-sm transition-colors",title:"Add Card",children:[o.jsx(Ti,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Add New"})]}),o.jsxs("button",{onClick:()=>V(!0),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 shadow-sm transition-colors",title:"Import",children:[o.jsx(a2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Import"})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 w-full pb-4",children:[o.jsx("div",{className:"w-full max-w-3xl flex-1 mb-6 relative z-10",children:o.jsx("div",{className:"absolute w-full h-full transition-all duration-500 ease-in-out",children:o.jsx(PN,{card:Z,frontTheme:C,backTheme:U,isCurrent:!0,onEdit:()=>N({isOpen:!0,content:Z}),onDelete:()=>ce(Z._id),isAdmin:D,onTogglePublish:R})})}),o.jsxs("div",{className:"w-full max-w-3xl flex flex-col items-center z-10",children:[o.jsxs("div",{className:"flex items-center justify-between w-full mb-3 px-2",children:[o.jsxs("button",{onClick:Q,disabled:f===0,className:"px-4 py-2 sm:px-6 rounded-full bg-white dark:bg-gray-800 shadow-md text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[o.jsx(wB,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),o.jsxs("span",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400",children:[f+1," / ",ne.length]}),o.jsxs("button",{onClick:ee,className:"px-4 py-2 sm:px-6 rounded-full bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[o.jsx("span",{className:"hidden sm:inline",children:f===ne.length-1?"Finish":"Next"}),o.jsx(Wu,{className:"w-5 h-5"})]})]}),o.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full cursor-pointer overflow-hidden",onClick:ge=>{const be=ge.currentTarget.getBoundingClientRect(),T=ge.clientX-be.left,q=Math.floor(T/be.width*ne.length);j(q)},children:o.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${ue}%`}})})]}),w&&o.jsx(KN,{onRetry:I})]}),o.jsx(Qb,{isOpen:L.isOpen,onClose:()=>N({isOpen:!1,content:null}),onSave:K,cardToEdit:L.content}),o.jsx(Ws,{isOpen:H.isOpen,onClose:()=>_({isOpen:!1,onConfirm:null}),onConfirm:H.onConfirm,title:"Delete Flashcard",message:"Are you sure you want to delete this flashcard?"}),o.jsx(Bb,{isOpen:k,onClose:()=>V(!1),onImport:Y})]})},Ip=class Ip{constructor(){this.files=new Map,this.fileIdCounter=0}generateFileId(){return`file_${Date.now()}_${++this.fileIdCounter}`}async uploadFile(A,r,a,i,l){const d=this.generateFileId(),u=new FormData;u.append("file",A),u.append("lessonId",r),u.append("type",a),u.append("title",i),l&&u.append("metadata",JSON.stringify(l));try{const f=await fetch("/api/upload",{method:"POST",body:u});if(!f.ok){let v=f.statusText;try{const C=await f.json();C.message&&(v=C.message)}catch{}throw new Error(`Upload failed: ${v}`)}const g=await f.json(),w={id:d,name:A.name,type:A.type,size:A.size,path:g.fileInfo.path,uploadDate:new Date,apiResponse:g};return this.files.set(d,w),w}catch(f){throw console.error("File upload error:",f),f}}getFile(A){return this.files.get(A)}getFileUrl(A){var i,l;const r=this.files.get(A);if(!r)return null;const a=(l=(i=r.apiResponse)==null?void 0:i.fileInfo)==null?void 0:l.filename;return a?`/api/files/${a}`:null}getDownloadUrl(A){return this.getFileUrl(A)}async deleteFile(A){if(this.files.get(A))try{return(await fetch(`/api/content/${A}`,{method:"DELETE"})).ok?(this.files.delete(A),!0):(console.error("Failed to delete file via API"),!1)}catch(a){return console.error("File deletion error:",a),!1}return!1}getAllFiles(){return Array.from(this.files.values())}getFilesByPath(A){return Array.from(this.files.values()).filter(r=>r.path.includes(A))}static fastClean(A){if(!A)return"";let r="";for(let a=0;a<A.length;a++){const i=A[a];(i>="a"&&i<="z"||i>="A"&&i<="Z"||i>="0"&&i<="9"||i===" "||i==="/"||i==="."||i==="-")&&(r+=i)}return r}static generateFilePath(A,r,a){const i=this.folderMap[A]||"Files",l=this.fastClean(r),d=this.fastClean(a);return`${l}/${i}/${d}`}getStorageStats(){const A=Array.from(this.files.values()),r=A.reduce((i,l)=>i+l.size,0),a={};return A.forEach(i=>{const l=i.type;a[l]||(a[l]={count:0,size:0}),a[l].count++,a[l].size+=i.size}),{totalFiles:A.length,totalSize:r,byType:a}}};Ip.folderMap={worksheet:"Worksheets",book:"Books",video:"Videos",audio:"Audios",questionPaper:"QuestionPapers",notes:"Notes",flashcard:"Flashcards",qa:"QAPapers",activity:"Activities",quiz:"Quizzes"};let pp=Ip;const Sc=new pp,mp={async uploadFile(t,A,r,a,i,l){var C,b;const d=new FormData;if(d.append("file",t),d.append("lessonId",A),d.append("type",r),d.append("title",a),l)d.append("folder",l);else if(i!=null&&i.subCategory&&typeof i.subCategory=="string"&&i.subCategory.includes("/")){let U=i.subCategory.replace(/^(\.\.\/)?uploads\//,"");if(U.includes(".")){const F=U.split("/");U=F.slice(0,F.length-1).join("/")}d.append("folder",U)}i&&d.append("metadata",JSON.stringify(i));const u=await fetch("/api/upload",{method:"POST",body:d});if(!u.ok){let U=u.statusText;try{const F=await u.json();F.message&&(U=F.message)}catch{}throw new Error(`Upload failed: ${U}`)}const f=await u.json(),g=((C=f.content)==null?void 0:C._id)||f._id;if(!g){if(f.fileInfo)return{fileId:`upload_${Date.now()}`,path:f.fileInfo.url||f.secure_url,apiResponse:f};throw new Error("Upload response missing content ID")}const w=`content_${g}`,v={id:w,name:t.name,type:t.type,size:t.size,path:((b=f.file)==null?void 0:b.url)||f.secure_url||"",uploadDate:new Date,apiResponse:f};return Sc.files.set(w,v),{fileId:w,path:v.path,apiResponse:f}},async createContentFromUrl(t,A,r,a,i){var w;const l=await fetch("/api/content/url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t,lessonId:A,type:r,title:a,metadata:i})});if(!l.ok){let v=l.statusText;try{const C=await l.json();C.message&&(v=C.message)}catch{}throw new Error(`Failed to save URL content: ${v}`)}const d=await l.json(),u=(w=d.content)==null?void 0:w._id;if(!u)throw new Error("Response missing content ID");const f=`content_${u}`,g={id:f,name:a,type:"url",size:0,path:t,uploadDate:new Date,apiResponse:d};return Sc.files.set(f,g),{fileId:f,path:t,apiResponse:d}},getFileUrl(t){var A,r;try{if(console.log(" Getting file URL for:",t),t.startsWith("content_")){const d=`/api/content/${t.replace("content_","")}/file`;return console.log(" Content ID format URL:",d),d}if(t.match(/^[0-9a-fA-F]{24}$/)){const l=`/api/content/${t}/file`;return console.log(" MongoDB ObjectId format URL:",l),l}const a=Sc.getFile(t);if(!a)return console.warn(" File not found in storage:",t),null;const i=(r=(A=a.apiResponse)==null?void 0:A.fileInfo)==null?void 0:r.filename;if(i){const l=`/api/files/${i}`;return console.log(" Legacy format URL:",l),l}return console.warn(" No filename found for file:",t),null}catch(a){return console.error(" Error getting file URL:",a),null}},getDownloadUrl(t){return this.getFileUrl(t)},async deleteFile(t){try{if(t.startsWith("content_")){const A=t.replace("content_","");return(await fetch(`/api/content/${A}`,{method:"DELETE"})).ok}return t.match(/^[0-9a-fA-F]{24}$/)?(await fetch(`/api/content/${t}`,{method:"DELETE"})).ok:await Sc.deleteFile(t)}catch(A){return console.error("File deletion error:",A),!1}},fileExists(t){return t.startsWith("content_")?!0:Sc.getFile(t)!==void 0},getFileInfoByContentId(t){const A=`content_${t}`;return Sc.getFile(A)}},VN=t=>/^H[1-6]$/i.test(t.tagName),GN=t=>{const A=[],r=document.createElement("div");r.innerHTML=t;const a=Array.from(r.children),i=document.createElement("div");i.style.cssText=`
        position: absolute;
        visibility: hidden;
        left: -9999px;
        top: -9999px;
        width: 700px;
        font-family: 'TAU-Paalai', 'Nirmala UI', Arial, sans-serif;
        font-size: 14pt;
        line-height: 1.6;
        padding: 0;
        margin: 0;
        word-wrap: break-word;
    `,document.body.appendChild(i);const l=900,d=150;let u="",f=0;for(let g=0;g<a.length;g++){const v=a[g].cloneNode(!0);i.innerHTML="",i.appendChild(v);let C=i.offsetHeight;VN(v)&&l-f<d&&u!==""&&(A.push(u),u="",f=0),f+C>l&&u!==""&&(A.push(u),u="",f=0),u+=v.outerHTML,f+=C,g<a.length-1&&(f+8>l&&u!==""&&(A.push(u),u="",f=0),u+='<div style="height: 8px;"></div>',f+=8)}return u!==""&&A.push(u),document.body.removeChild(i),A.length===0&&A.push('<div style="text-align: center; padding: 100px; color: #666; font-style: italic;">No content available for this chapter.</div>'),A},qN=({isOpen:t,onClose:A,onSave:r,contentToEdit:a,resourceLabel:i,resourceType:l})=>{const[d,u]=P.useState("title"),[f,g]=P.useState(""),[w,v]=P.useState(""),[C,b]=P.useState(!1),[U,F]=P.useState(!1),L=P.useRef(null),N=P.useRef(null),H=l==="activity",_=H?"Question":"Title",k=H?"Answer":"Content";P.useEffect(()=>{var j;if(!t)return;console.log("[GenericEditor] Initializing for edit:",a?"existing content":"new content"),console.log("[GenericEditor] Full contentToEdit object:",a),console.log("[GenericEditor] Title content:",a!=null&&a.title?a.title.substring(0,100)+"...":"(empty/null)"),console.log("[GenericEditor] Body content:",a!=null&&a.body?a.body.substring(0,100)+"...":"(empty/null)"),console.log("[GenericEditor] Body content length:",((j=a==null?void 0:a.body)==null?void 0:j.length)||0),console.log("[GenericEditor] Body content type:",typeof(a==null?void 0:a.body)),console.log("[GenericEditor] Body content exists:",!!(a!=null&&a.body)),F(!1),u("title");const J=a?a.title:"",D=a?a.body:"";let ee="",Q="";if(H?(ee=J,Q=D,J&&D&&J.length>0&&D.length>0&&J.trim()===D.trim()&&console.warn("[GenericEditor] WARNING: Question and Answer content are identical!")):(ee=J,Q=D),console.log("[GenericEditor] Content mapping for activity:",H),console.log("[GenericEditor] Raw titleContent:",J?J.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] Raw bodyContent:",D?D.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] Mapped Question content:",ee?ee.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] Mapped Answer content:",Q?Q.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] Setting titleHtml (Question) state, length:",ee.length),console.log("[GenericEditor] Setting bodyHtml (Answer) state, length:",Q.length),g(ee),v(Q),console.log("[GenericEditor] States set. Question:",ee.length,"Answer:",Q.length),L.current&&!N.current){console.log("[GenericEditor] Initializing Quill editor");const I=new Quill(L.current,{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["image","video","formula"],["clean"]],keyboard:{bindings:{linebreak:{key:13,shiftKey:!0,handler:function(ce){this.quill.clipboard.dangerouslyPasteHTML(ce.index,"<br>")}},enter:{key:13,handler:function(ce){return this.quill.format("block","P"),!0}}}}},placeholder:"Enter content..."}),K=d==="title"?ee:Q;console.log("[GenericEditor] Setting initial content for",d,":",K?K.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] Question content available:",!!ee,"Answer content available:",!!Q),I.root.innerHTML=K||"",N.current=I,F(!0),console.log("[GenericEditor] Editor initialized successfully"),setTimeout(()=>{if(N.current&&t){const ce=d==="title"?ee:Q;N.current.root.innerHTML!==ce&&(console.log("[GenericEditor] Correcting initial content load"),N.current.root.innerHTML=ce||"")}},100)}},[t,a]),P.useEffect(()=>()=>{t||(console.log("[GenericEditor] Cleaning up editor"),N.current=null,F(!1))},[t]),P.useEffect(()=>{if(N.current&&U&&t){const J=d==="title"?f:w,D=N.current.root.innerHTML;console.log("[GenericEditor] Tab changed to",d),console.log("[GenericEditor] Content to load:",J?J.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] Current content:",D?D.substring(0,100)+"...":"(empty)"),console.log("[GenericEditor] BodyHtml state:",w?w.substring(0,100)+"...":"(empty)"),D!==J&&(console.log("[GenericEditor] Loading content into Quill editor"),N.current.root.innerHTML=J||"")}},[d,U,f,w,t]),P.useEffect(()=>{if(N.current&&U&&t&&(d==="title"||d==="content")){const J=d==="title"?f:w;J&&N.current.root.innerHTML!==J&&(console.log("[GenericEditor] Ensuring content is loaded for tab:",d),N.current.root.innerHTML=J)}},[U,d,f,w,t]);const V=J=>{if(J===d||!N.current||!U)return;console.log("[GenericEditor] Switching from",d,"to",J);const D=N.current.root.innerHTML;console.log("[GenericEditor] Saving current content before switch:",D.substring(0,100)+"..."),d==="title"?(g(D),console.log("[GenericEditor] Saved title content")):(v(D),console.log("[GenericEditor] Saved body content")),u(J),console.log("[GenericEditor] Tab switched to:",J),setTimeout(()=>{if(N.current){let ee="",Q="";J==="title"?(ee=f,Q="Question",console.log("[GenericEditor] Force loading",Q,"content, length:",ee.length)):(ee=w,Q="Answer",console.log("[GenericEditor] Force loading",Q,"content, length:",ee.length),console.log("[GenericEditor] Answer content preview:",ee.substring(0,100)+"...")),N.current.root.innerHTML=ee,console.log("[GenericEditor]",Q,"content set in editor, current length:",N.current.root.innerHTML.length)}},50)},Ae=async()=>{if(C)return;let J=f,D=w;if(N.current){const ee=N.current.root.innerHTML;d==="title"?J=ee:D=ee}if(!J.trim()||!D.trim()){alert(`Both ${_} and ${k} are required.`);return}b(!0),await r({title:J,body:D}),g(""),v(""),N.current&&(N.current.root.innerHTML=""),b(!1)},ne=()=>{g(""),v(""),A()};return t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl flex flex-col max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:a?`Edit ${i}`:`Add New ${i}`}),o.jsx("button",{onClick:ne,className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:o.jsx("span",{className:"text-2xl",children:""})})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[o.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center transition-colors ${d==="title"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-t-2 border-blue-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>V("title"),children:_}),o.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center transition-colors ${d==="content"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 border-t-2 border-blue-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,onClick:()=>V("content"),children:k})]}),o.jsx("div",{className:"flex-1 flex flex-col p-4 overflow-hidden bg-white dark:bg-gray-800",children:o.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-lg border border-gray-300 dark:border-gray-600 flex-1 flex flex-col overflow-hidden text-gray-900 dark:text-gray-100",children:o.jsx("div",{ref:L,className:"flex-1 overflow-y-auto",style:{minHeight:"200px"}})})}),o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-end gap-3",children:[o.jsx("button",{onClick:ne,className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",disabled:C,children:"Cancel"}),o.jsx("button",{onClick:Ae,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-blue-400",disabled:C,children:C?"Saving...":`Save ${i}`})]})]})}):null},XN=({item:t,onEdit:A,onDelete:r,isAdmin:a,onExpandPdf:i,onDownload:l,onTogglePublish:d})=>{var U;const[u,f]=P.useState(!1),g=t.type==="worksheet"&&((U=t.metadata)==null?void 0:U.fileId),{session:w}=Di(),v={fontSize:`${w.fontSize}px`},b=g?(()=>{var F;try{if((F=t.metadata)!=null&&F.fileId){const L=mp.getFileUrl(t.metadata.fileId);if(L)return L}return t.body&&t.body.startsWith("data:application/pdf")?t.body:t.filePath?`/api/files/${require("path").basename(t.filePath)}`:null}catch(L){return console.error("Error generating PDF URL:",L),null}})():null;return g?o.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-2xl shadow-sm hover:shadow-2xl transition-all duration-300 border border-gray-100 dark:border-gray-700 flex flex-col h-72 sm:h-80 transform hover:-translate-y-1 overflow-hidden",onClick:()=>{i&&i(b||"")},children:[o.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-gray-900 flex items-center justify-center overflow-hidden relative group-hover:bg-gray-100 dark:group-hover:bg-gray-900/80 transition-theme",children:[o.jsx("div",{className:"absolute inset-0 opacity-5 bg-[radial-gradient(#3b82f6_1px,transparent_1px)] [background-size:16px_16px]"}),b?o.jsx("div",{className:"w-full h-full pointer-events-none opacity-90 group-hover:opacity-100 transition-opacity scale-95 group-hover:scale-100 duration-500 shadow-inner",children:o.jsx(Qo,{url:b,initialScale:.45})}):o.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"text-red-400 font-medium mb-1",children:"Preview Unavailable"}),o.jsx("div",{className:"text-xs text-gray-400",children:"PDF could not be loaded"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/10 dark:group-hover:bg-black/30 transition-all duration-300 backdrop-blur-[1px] opacity-0 group-hover:opacity-100",children:o.jsx("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-4 py-2 rounded-full shadow-lg font-medium text-sm flex items-center gap-2",children:[o.jsx(Bp,{className:"w-4 h-4"}),o.jsx("span",{children:"View Fullscreen"})]})})}),o.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-blue-600 text-white text-[10px] font-bold uppercase tracking-wider rounded shadow-md z-10",children:"PDF"})]}),o.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700 relative z-20",children:o.jsxs("div",{className:"flex justify-between items-start gap-3",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100 text-sm leading-snug line-clamp-2",title:t.title,children:t.title}),o.jsxs("div",{className:"flex items-center gap-1 shrink-0 -mt-1 -mr-1",onClick:F=>F.stopPropagation(),children:[o.jsx("button",{onClick:F=>{F.stopPropagation(),l&&l(t._id)},className:"p-2 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30 text-gray-400 hover:text-blue-600 transition-colors",title:a?"Download":"Email PDF",children:o.jsx(Mi,{className:"w-5 h-5"})}),a&&o.jsx("button",{onClick:()=>r(t._id),className:"p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:o.jsx(vs,{className:"w-5 h-5"})})]})]})})]}):o.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden mb-4 transform hover:-translate-y-0.5",children:[o.jsxs("div",{className:`
                w-full text-left p-5 flex flex-col relative cursor-pointer
                bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-800/50
             `,onClick:()=>{f(!u)},children:[o.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500 rounded-l-xl opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsxs("div",{className:"flex justify-between items-start w-full gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"prose dark:prose-invert max-w-none font-semibold text-lg text-gray-800 dark:text-white font-tau-paalai leading-snug",style:v,dangerouslySetInnerHTML:{__html:sn(t.title)}})}),o.jsxs("div",{className:"flex items-center shrink-0 gap-2",children:[a&&d&&o.jsx("div",{className:"mr-2",onClick:F=>F.stopPropagation(),children:o.jsx("div",{className:"mr-2",onClick:F=>F.stopPropagation(),children:o.jsx(PublishToggle,{isPublished:!!t.isPublished,onToggle:()=>d(t)})})}),a&&o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-200 transform translate-x-2 group-hover:translate-x-0",onClick:F=>F.stopPropagation(),children:[o.jsx("button",{onClick:()=>A(t),className:"p-2 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit",children:o.jsx(dh,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>r(t._id),className:"p-2 rounded-full hover:bg-red-50 dark:hover:bg-red-900/30 text-gray-400 hover:text-red-500 transition-colors",title:"Delete",children:o.jsx(vs,{className:"w-4 h-4"})})]}),o.jsx("div",{className:`p-1.5 rounded-full bg-gray-100 dark:bg-gray-700 transition-all duration-300 ${u?"rotate-90 bg-blue-100 text-blue-600":"text-gray-400"}`,children:o.jsx(Wu,{className:"w-5 h-5"})})]})]})]}),o.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${u?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:o.jsx("div",{className:"overflow-hidden",children:o.jsx("div",{className:"p-5 border-t border-dashed border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/30",children:o.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-700 dark:text-gray-300 font-tau-paalai",style:v,dangerouslySetInnerHTML:{__html:sn(t.body)}})})})})]})},YN=({onSave:t,onCancel:A,lessonId:r})=>{const[a,i]=P.useState("Loading title..."),[l,d]=P.useState(null),[u,f]=P.useState(!1),[g,w]=P.useState(null),[v,C]=P.useState(""),{showToast:b}=Mr();P.useEffect(()=>{r?(async()=>{try{console.log("=== FAST PATH GENERATION START ===");const N=await oB(r);if(N&&N.trim()){const Ae=N.split(" > ").filter(ne=>ne.trim());if(Ae.length>=2){const ne=Ae[Ae.length-1],D=`${Ae.join("/")}/Worksheet/${ne}.pdf`;console.log("Fast path from breadcrumbs:",D),i(ne),C(D);return}}console.log("Breadcrumbs failed, trying fast search...");let H=!1,_=[],k="New Worksheet";const V=await wp();for(const Ae of V){const ne=await bp(Ae._id);for(const J of ne){const D=await xp(J._id),ee=D.find(Q=>Q._id===r);if(ee){_=[Ae.name,J.name,ee.name],k=ee.name,H=!0;break}for(const Q of D){const j=await vp(Q._id),I=j.find(K=>K._id===r);if(I){_=[Ae.name,J.name,Q.name,I.name],k=I.name,H=!0;break}if(!H)for(const K of j){const R=(await yp(K._id)).find(Y=>Y._id===r);if(R){_=[Ae.name,J.name,Q.name,K.name,R.name],k=R.name,H=!0;break}}}if(H)break}if(H)break}if(H&&_.length>0){const ne=`${_.join("/")}/Worksheet/${k}.pdf`;console.log("Fast path from search:",ne),i(k),C(ne)}else{console.log("Quick fallback for:",r);const Ae=`Worksheet_${r.slice(-4)}`,ne=`Class/Worksheet/${Ae}.pdf`;i(Ae),C(ne)}}catch(N){console.error("Fast path generation error:",N),i("New Worksheet"),C("Default/Worksheet/New Worksheet.pdf")}})():(i("Select a lesson/unit first"),C("Worksheets/Pending Selection"))},[r]),P.useEffect(()=>()=>{g&&URL.revokeObjectURL(g)},[g]);const U=L=>{var H;const N=(H=L.target.files)==null?void 0:H[0];if(N&&N.type==="application/pdf"){d(N);const _=URL.createObjectURL(N);w(_)}else N&&b("Please select a valid PDF file.","error")},F=async L=>{if(L.preventDefault(),!(!l||!a||u)){f(!0);try{const N=await mp.uploadFile(l,r,"worksheet",a,{folderPath:v,fileName:l.name}),H={title:a,body:mp.getFileUrl(N.fileId)||"",metadata:{fileId:N.fileId,filePath:N.path,fileName:l.name,fileSize:l.size,uploadDate:new Date().toISOString()}};await t(H),b("Worksheet saved successfully!","success")}catch(N){console.error("Save failed",N),b("Failed to save worksheet.","error")}finally{f(!1)}}};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 dark:text-white",children:"Upload Worksheet (PDF)"}),o.jsxs("form",{onSubmit:F,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title"}),o.jsx("input",{type:"text",value:a,onChange:L=>i(L.target.value),className:"mt-1 w-full p-2 border rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 text-gray-900 dark:text-gray-100",required:!0}),o.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 font-mono truncate",title:v,children:["Virtual Path: ",v]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"PDF File"}),o.jsx("div",{className:"mt-1 flex items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Uo,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center",children:o.jsxs("label",{htmlFor:"worksheet-upload",className:"relative cursor-pointer bg-white dark:bg-gray-800 rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none",children:[o.jsx("span",{children:"Upload a file"}),o.jsx("input",{id:"worksheet-upload",name:"worksheet-upload",type:"file",className:"sr-only",onChange:U,accept:".pdf"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:l?l.name:"PDF up to 10MB"})]})})]}),g&&o.jsx("div",{className:"h-64 border rounded overflow-hidden",children:o.jsx(Qo,{url:g,initialScale:.6})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-md text-gray-700 dark:text-gray-200",disabled:u,children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md disabled:bg-blue-400",disabled:u||!l,children:u?"Uploading...":"Save Worksheet"})]})]})]})},JN=({isOpen:t,onClose:A,onExport:r,isLoading:a})=>{const[i,l]=P.useState("");if(!t)return null;const d=u=>{u.preventDefault(),r(i)};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-6 transform transition-all scale-100",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Export to PDF"}),o.jsx("button",{onClick:A,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx(Pa,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6 font-medium",children:"Enter your email address to receive the PDF copy."}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),o.jsx("input",{type:"email",value:i,onChange:u=>l(u.target.value),placeholder:"your@email.com",required:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-blue-500 dark:text-white"})]}),o.jsx("div",{className:"pt-2",children:o.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-3 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:from-green-700 hover:to-teal-700 transition-all font-bold shadow-md flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:a?o.jsx("span",{children:"Generating PDF..."}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Export & Send Mail"}),o.jsx(Mi,{className:"w-5 h-5"})]})})})]})]})})},WN=({lessonId:t,user:A,resourceType:r})=>{var be;const[a,i]=P.useState(0),{data:l,isLoading:d}=Ar(()=>za(t,[r],A.role!=="admin"&&!A.canEdit),[t,a,r,A]),[u,f]=P.useState({isOpen:!1,content:null}),[g,w]=P.useState({isOpen:!1,onConfirm:null}),[v,C]=P.useState(!1),[b,U]=P.useState(null),[F,L]=P.useState(null),{showToast:N}=Mr(),[H,_]=P.useState(!1),[k,V]=P.useState(!1),Ae=P.useRef(null),[ne,J]=P.useState({show:!1,type:"loading",title:"",message:""}),D=((be=l==null?void 0:l[0])==null?void 0:be.docs)||[],ee=Hb.find(T=>T.key===r)||{key:r,label:r,Icon:()=>null,description:"Resource",color:"text-gray-500",gradient:"from-gray-500 to-gray-600"},Q=A.role==="admin"||!!A.canEdit,j=r==="worksheet",I=async T=>{try{if(u.content){const q={...T};u.content.metadata&&u.content.metadata.fileId&&(q.metadata=u.content.metadata),await(void 0)(u.content._id,q)}else j&&T.metadata?await(void 0)({title:T.title,body:T.body||"",metadata:T.metadata,lessonId:t,type:r}):await(void 0)({...T,lessonId:t,type:r});i(q=>q+1),N(`${ee.label} saved successfully!`,"success")}catch{N("Failed to save content.","error")}f({isOpen:!1,content:null}),C(!1)},K=T=>{w({isOpen:!0,onConfirm:async()=>{try{await(void 0)(T),i($=>$+1),N(`${ee.label} deleted.`,"error")}catch{N("Failed to delete content.","error")}w({isOpen:!1,onConfirm:null})}})},ce=async T=>{try{const q=!T.isPublished;await(void 0)(T._id,{isPublished:q}),i($=>$+1),N(`Content ${q?"published":"unpublished"} successfully`,"success")}catch(q){console.error("Failed to toggle publish status:",q),N("Failed to update publish status","error")}},R=()=>{j?C(!0):f({isOpen:!0,content:null})},Y=async T=>{try{const q=await fetch(T);if(!q.ok)throw new Error(`Failed to load ${T}`);const $=await q.blob();return new Promise(le=>{const oe=new FileReader;oe.onloadend=()=>le(oe.result),oe.readAsDataURL($)})}catch(q){return console.error("Error loading image:",T,q),""}},Z=async T=>{V(!0);const q=A.role==="admin"||A.canEdit;J({show:!0,type:"loading",title:"PDF  | Generating PDF",message:`PDF ...  

Generating PDF... Please wait`});try{const $=await wn(t),le=($==null?void 0:$.lessonName)||ee.label,oe=await Y("/top_logo.png");let we="";const Se=We=>We.replace(/^(\s*(?:<[^>]+>\s*)*)\s*\d+[\.\)\-\s]+\s*/,(Xe,ke)=>ke.replace(/\s+$/,""));if(D.forEach((We,Xe)=>{const ke=We.title?sn(Se(We.title)):"",Ze=We.body?sn(We.body):"";we+=`
                    <div class="qa-pair-container" style="border: 1px solid #eee; border-radius: 8px; padding: 8px 12px; margin-bottom: 12px; background-color: #fcfcfc;">
                        <div class="question-part" style="font-weight: bold; font-size: 15pt; margin-bottom: 4px; color: #000; line-height: 1.4;">
                            <span style="color: #2563eb; margin-right: 5px;">${Xe+1}.</span>
                            ${ke}
                        </div>
                        <div class="answer-part" style="font-size: 14pt; margin-left: 0px; color: #333; line-height: 1.5;">
                            ${Ze}
                        </div>
                    </div>
                `}),D.length===0)throw new Error(`  ${ee.label}  | No ${ee.label} available for this chapter`);const Ne=GN(we);if(console.log(`Split content into ${Ne.length} pages`),!Ae.current)throw new Error("Export container not found");const Le=Ae.current;Le.innerHTML="";const Te=document.createElement("style");Te.textContent=`
                .pdf-page {
                    width: 794px;
                    min-height: 1123px;
                    background: white;
                    position: relative;
                    font-family: 'TAU-Paalai', 'Nirmala UI', Arial, sans-serif;
                    page-break-after: always;
                }
               
                .pdf-header {
                    position: absolute;
                    top: 20px;
                    left: 40px;
                    right: 40px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid #ddd;
                    padding-bottom: 10px;
                }
               
                .logo-container img {
                    width: 170px;
                    height: 22px;
                    object-fit: contain;
                }
               
                .header-info {
                    text-align: right;
                    font-size: 11px;
                    color: #555;
                    line-height: 1.3;
                }
               
                .header-info .class-info {
                    font-weight: bold;
                    color: #333;
                }
               
                .header-info .lesson-name {
                    font-size: 12px;
                    font-weight: bold;
                    margin-top: 3px;
                    color: #222;
                }
               
                .pdf-content {
                    position: absolute;
                    top: 100px;
                    left: 40px;
                    right: 54px;
                    bottom: 100px;
                    font-size: 14pt;
                    line-height: 1.6;
                    color: #000;
                    text-align: justify;
                    overflow: visible;
                    z-index: 10;
                }
               
                .pdf-footer {
                    position: absolute;
                    bottom: 30px;
                    left: 40px;
                    right: 40px;
                    border-top: 1px solid #ddd;
                    padding-top: 10px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    font-size: 10px;
                    color: #666;
                }
               
                .footer-quote {
                    font-style: normal;
                }
               
                .page-number {
                    font-weight: bold;
                }
               
                .qa-pair-container {
                    border: 1px solid #eee;
                    border-radius: 8px;
                    padding: 15px;
                    margin-bottom: 20px;
                    background-color: #fcfcfc;
                }

                .qa-pair-container:last-child {
                    margin-bottom: 0;
                }

                p {
                    margin-bottom: 12px;
                    line-height: 1.6;
                }
               
                h1, h2, h3, h4, h5, h6 {
                    margin-top: 20px;
                    margin-bottom: 8px;
                    line-height: 1.3;
                    font-weight: bold;
                }

                ul, ol {
                    margin: 10px 0 10px 20px;
                    padding-left: 20px;
                }

                ul { list-style-type: disc; }
                ol { list-style-type: decimal; }
               
                li {
                    margin-bottom: 5px;
                }

                strong { font-weight: bold; }
                em, i { font-style: italic; }

                table {
                    width: 100%;
                    border-collapse: collapse;
                    margin: 10px 0;
                }

                th, td {
                    border: 1px solid #ddd;
                    padding: 8px;
                    text-align: left;
                }

                th {
                    background-color: #f2f2f2;
                    font-weight: bold;
                }
            `,Le.appendChild(Te),Ne.forEach((We,Xe)=>{const ke=document.createElement("div");ke.className="pdf-page";const Ze=document.createElement("div");Ze.className="pdf-header";const Ye=document.createElement("div");if(Ye.className="logo-container",oe){const Ot=document.createElement("img");Ot.src=oe,Ot.alt="TAU Logo",Ye.appendChild(Ot)}Ze.appendChild(Ye);const rt=document.createElement("div");rt.className="header-info",rt.innerHTML=`
                    <div class="class-info">${($==null?void 0:$.className)||""} - ${($==null?void 0:$.subjectName)||""}</div>
                    <div>${($==null?void 0:$.unitName)||""}${$!=null&&$.subUnitName?" - "+$.subUnitName:""}</div>
                    <div class="lesson-name">${le}</div>
                `,Ze.appendChild(rt),ke.appendChild(Ze);const ot=document.createElement("div");ot.className="pdf-content",ot.innerHTML=We,ke.appendChild(ot);const yt=document.createElement("div");yt.className="pdf-footer";const Mt=document.createElement("div");Mt.className="footer-quote",Mt.textContent="  ;   ",yt.appendChild(Mt);const Ft=document.createElement("div");Ft.className="page-number",Ft.textContent=` ${Xe+1} / ${Ne.length}`,yt.appendChild(Ft),ke.appendChild(yt),Le.appendChild(ke)});const Oe=new ft("p","mm","a4"),ze=Oe.internal.pageSize.getWidth(),qe=Oe.internal.pageSize.getHeight(),re=Le.querySelectorAll(".pdf-page");for(let We=0;We<re.length;We++){We>0&&Oe.addPage();const Xe=re[We],Ze=(await Uh(Xe,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0,width:794,height:1123,windowWidth:794,onclone:(Ye,rt)=>{rt.style.opacity="1",rt.style.visibility="visible",rt.style.display="block",rt.querySelectorAll("*").forEach(yt=>{yt instanceof HTMLElement&&(yt.style.fontFamily="'TAU-Paalai', 'Nirmala UI', Arial, sans-serif")})}})).toDataURL("image/png");Oe.addImage(Ze,"PNG",0,0,ze,qe,void 0,"FAST"),We<re.length-1&&await new Promise(Ye=>setTimeout(Ye,100))}const Ge=Oe.output("blob");if(q){const We=URL.createObjectURL(Ge),Xe=document.createElement("a");Xe.href=We,Xe.download=`${le.replace(/[^a-zA-Z0-9\u0B80-\u0BFF]/g,"_")}_${ee.label}_${new Date().toISOString().slice(0,10)}.pdf`,document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe),URL.revokeObjectURL(We),(void 0)(t,r).catch(console.error),L(ke=>ke?{...ke,downloads:ke.downloads+1}:{count:0,downloads:1}),J({show:!0,type:"success",title:"! | Success!",message:`  !

Download started successfully!`})}else{J({show:!0,type:"loading",title:"  | Sending Email",message:`PDF  ...

Sending PDF to email...`});const We=new FormData;We.append("file",Ge,`${le}_${ee.label}.pdf`),We.append("email",T),We.append("title",`${ee.label}: ${le}`),We.append("lessonId",t),We.append("type",r),We.append("userName",A.name||"User");const Xe=await fetch("/api/export/send-pdf",{method:"POST",body:We}),ke=await Xe.json();if(Xe.ok&&ke.success)(void 0)(t,r).catch(console.error),L(Ze=>Ze?{...Ze,downloads:Ze.downloads+1}:{count:0,downloads:1}),J({show:!0,type:"success",title:"! | Success!",message:`PDF   !
 ${T}

    .

PDF sent to your email successfully!`});else throw new Error(ke.message||"  ")}_(!1)}catch($){console.error("Export Error:",$);const le="7904838296";J({show:!0,type:"error",title:A.role==="admin"||A.canEdit?" | Error":"  | Email Failed",message:A.role==="admin"||A.canEdit?`Export : ${$.message}

: ${le}`:`PDF   .
(${$.message})

    :
 ${le}`,phone:le})}finally{V(!1),Ae.current&&(Ae.current.innerHTML="")}},ue=()=>{Q?Z(A.email||"admin@example.com"):A.email?Z(A.email):_(!0)},ge=async T=>{J({show:!0,type:"loading",title:" | Downloading",message:` ...

Please wait...`});const q=A.role==="admin"||!!A.canEdit;try{const $=await(void 0)(T,A._id,A.email);if($.success)if(q&&$.fileUrl){const le=document.createElement("a");le.href=$.fileUrl,le.setAttribute("download",""),document.body.appendChild(le),le.click(),document.body.removeChild(le),J({show:!0,type:"success",title:"! | Success!",message:`  !

Download started successfully!`})}else J({show:!0,type:"success",title:"! | Success!",message:`PDF   !
 ${A.email}

PDF sent to your email successfully!`});else throw new Error($.message||"Download failed")}catch($){J({show:!0,type:"error",title:" | Failed",message:$.message||"Download failed",phone:"7904838296"})}};return P.useEffect(()=>{(async()=>{const q=["book","slide","video","audio","flashcard","worksheet","questionPaper","quiz","activity"],$=r;if(q.includes($))try{const le=await wn(t),oe=`${$}DownloadCount`;L({count:0,downloads:le[oe]||0})}catch(le){console.error("Failed to fetch stats",le)}})()},[t,r]),o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto w-full flex flex-col h-full overflow-hidden",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[o.jsx(ee.Icon,{className:`w-8 h-8 ${ee.color}`}),o.jsx("h2",{className:`text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r ${ee.gradient}`,children:ee.label})]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 pl-1",children:ee.description})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[!j&&o.jsx(Cp,{}),!d&&!j&&D.length>0&&o.jsxs("button",{onClick:ue,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",title:"Export to PDF",children:[o.jsx(Mi,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"PDF"}),o.jsx("span",{className:"bg-white/20 px-1.5 py-0.5 rounded text-xs font-semibold ml-1",children:yo((F==null?void 0:F.downloads)||0)})]}),Q&&!v&&o.jsxs("button",{onClick:R,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:`Add New ${ee.label}`,children:[o.jsx(Ti,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Add New"})]})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 no-scrollbar",children:[d&&o.jsx("div",{className:"text-center py-10",children:"Loading content..."}),v&&o.jsx(YN,{onSave:I,onCancel:()=>C(!1),lessonId:t}),!d&&!v&&D.length>0&&o.jsx("div",{className:j?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6 lg:gap-8 pb-6":"space-y-3 sm:space-y-4 pb-6",children:D.map(T=>{var q,$,le;return console.log("[GenericContentView] Content item:",{id:T._id,title:((q=T.title)==null?void 0:q.substring(0,50))+"...",body:(($=T.body)==null?void 0:$.substring(0,50))+"...",bodyLength:((le=T.body)==null?void 0:le.length)||0,type:T.type}),o.jsx(XN,{item:T,onEdit:oe=>{var we,Se,Ne;console.log("[GenericContentView] Edit clicked for item:",{id:oe._id,title:((we=oe.title)==null?void 0:we.substring(0,50))+"...",body:((Se=oe.body)==null?void 0:Se.substring(0,50))+"...",bodyLength:((Ne=oe.body)==null?void 0:Ne.length)||0}),f({isOpen:!0,content:oe})},onDelete:K,isAdmin:Q,onExpandPdf:U,onDownload:ge,onTogglePublish:ce},T._id)})}),!d&&!v&&D.length===0&&o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(ee.Icon,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsxs("p",{className:"mt-4 text-gray-500",children:["No ",ee.label.toLowerCase()," available for this chapter."]})]})]}),o.jsx(qN,{isOpen:u.isOpen,onClose:()=>f({isOpen:!1,content:null}),onSave:I,contentToEdit:u.content,resourceLabel:ee.label,resourceType:r}),o.jsx(Ws,{isOpen:g.isOpen,onClose:()=>w({isOpen:!1,onConfirm:null}),onConfirm:g.onConfirm,title:`Delete ${ee.label}`,message:`Are you sure you want to delete this ${ee.label.toLowerCase()}?`}),b&&o.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex flex-col animate-fade-in h-screen w-screen",children:[o.jsx("div",{className:"flex justify-end p-2 bg-black/50 absolute top-0 right-0 z-50 rounded-bl-lg",children:o.jsx("button",{onClick:()=>U(null),className:"p-2 rounded-full bg-white/20 hover:bg-white/40 text-white transition-colors","aria-label":"Close fullscreen PDF viewer",children:o.jsx(Pa,{className:"w-6 h-6"})})}),o.jsx("div",{className:"w-full h-full",children:o.jsx(Qo,{url:b,initialScale:2.5})})]}),o.jsx(JN,{isOpen:H,onClose:()=>_(!1),onExport:Z,isLoading:k}),o.jsx("div",{ref:Ae,style:{position:"fixed",top:"-10000px",left:"-10000px",width:"794px",visibility:"visible",pointerEvents:"none",zIndex:-9999}}),ne.show&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all scale-100 flex flex-col items-center text-center",children:[ne.type==="loading"&&o.jsx("div",{className:"w-16 h-16 mb-4",children:o.jsxs("svg",{className:"animate-spin h-16 w-16 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),ne.type==="success"&&o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),ne.type==="error"&&o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:ne.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 whitespace-pre-line",children:ne.message}),ne.type!=="loading"&&o.jsx("button",{onClick:()=>J(T=>({...T,show:!1})),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:" (OK)"}),ne.phone&&ne.type==="error"&&o.jsxs("a",{href:`tel:${ne.phone}`,className:"mt-3 w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})," | Call Admin"]})]})})]})},Gf=t=>{if(!t)return null;const A=t.trim();if(!A.startsWith("http://")&&!A.startsWith("https://"))return null;if(A.includes("youtube.com/embed/"))return A;try{const r=new URL(A),a=r.hostname.replace(/^www\./,"");let i=null;return a==="youtu.be"?(i=r.pathname.split("/")[1]||null,i&&(i=i.split("?")[0].split("/")[0])):a.includes("youtube.com")&&(r.pathname==="/watch"?i=r.searchParams.get("v"):(r.pathname.startsWith("/shorts/")||r.pathname.startsWith("/embed/")||r.pathname.startsWith("/v/"))&&(i=r.pathname.split("/")[2]||null)),i?(i=i.replace(/[^a-zA-Z0-9_-]/g,""),`https://www.youtube.com/embed/${i}?rel=0`):null}catch{return null}},ZN=({content:t,onRemove:A,isAdmin:r,onTogglePublish:a})=>{const[i,l]=P.useState(null),[d,u]=P.useState(!0),[f,g]=P.useState(""),w=()=>{var L,N,H,_,k;console.log("[VideoView] Getting video source for content:",{id:t._id,type:t.type,title:t.title,hasFilePath:!!t.filePath,filePath:t.filePath,hasBody:!!t.body,bodyLength:((L=t.body)==null?void 0:L.length)||0,bodyPreview:((N=t.body)==null?void 0:N.substring(0,100))+(((H=t.body)==null?void 0:H.length)>100?"...":""),bodyStartsWith:(_=t.body)==null?void 0:_.substring(0,50)});const U=(t.body||"").trim(),F=Gf(U);if(F)return console.log("[VideoView] YouTube video detected:",F),F;if((k=t.file)!=null&&k.url)return console.log("[VideoView] Using Cloudinary URL from file object:",t.file.url),t.file.url;if(t.filePath&&t.filePath.trim()!==""){if(t.filePath.startsWith("http://")||t.filePath.startsWith("https://"))return console.log("[VideoView] Using direct URL from filePath:",t.filePath),t.filePath;const V=`/api/content/${t._id}/file`;return console.log("[VideoView] Using uploaded file (proxy):",V),V}if(U&&U!==""){if(U.startsWith("http://")||U.startsWith("https://"))return console.log("[VideoView] Using external URL:",U),U;if(U.startsWith("data:video/"))return console.log("[VideoView] Using base64 video data"),U;try{const V=JSON.parse(U);if(V&&typeof V=="object")return console.log("[VideoView] Body contains JSON metadata, not using as video source:",V),""}catch{console.log("[VideoView] Body is not JSON, checking if it might be a direct URL")}}return console.warn("[VideoView] No valid video source found for content:",t._id),""};P.useEffect(()=>{const U=w();g(U);const F=U&&U.includes("youtube.com/embed/");u(F?!1:!!U),l(null)},[t]),P.useEffect(()=>{},[t._id]);const v=()=>{console.log("[VideoView] Video loading started"),u(!0),l(null)},C=()=>{console.log("[VideoView] Video can play"),u(!1),l(null)},b=U=>{const F=U.currentTarget.error,L=U.currentTarget;let N="Unknown video error";if(console.error("[VideoView] Video playback error details:",{error:F,src:f,currentSrc:L.currentSrc,networkState:L.networkState,readyState:L.readyState,duration:L.duration,errorCode:F==null?void 0:F.code,errorMessage:F==null?void 0:F.message}),F)switch(F.code){case MediaError.MEDIA_ERR_ABORTED:N="Video loading was aborted";break;case MediaError.MEDIA_ERR_NETWORK:N="Network error while loading video. Please check your internet connection.";break;case MediaError.MEDIA_ERR_DECODE:N="Video file is corrupted or unsupported format. Please try converting to MP4 or WebM.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:N="Video format not supported or file not found. Supported formats: MP4, WebM, OGV, AVI, MOV.";break;default:N=`Video error: ${F.message}`}f.includes("/api/content/")&&!f.endsWith("/file")&&(N+=" (Invalid API endpoint format)"),console.error("[VideoView] Final error message:",N),u(!1),l(N)};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 relative w-full",children:[r&&o.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[a&&o.jsx("div",{className:"",children:o.jsx(PublishToggle,{isPublished:!!t.isPublished,onToggle:()=>a(t)})}),o.jsx("button",{onClick:A,className:"p-2 rounded-full bg-white/50 dark:bg-black/50 hover:bg-white/80 dark:hover:bg-black/80 backdrop-blur-sm shadow-md",title:"Remove Video",children:o.jsx(vs,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),o.jsx("h2",{className:"text-xl font-semibold mb-4 pr-12 truncate",children:t.title}),o.jsxs("div",{className:"w-full",children:[d&&o.jsxs("div",{className:"flex items-center justify-center py-4",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mr-2"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading video..."})]}),f&&f.includes("youtube.com/embed/")&&o.jsx("div",{className:"aspect-video w-full bg-black rounded-lg overflow-hidden",children:o.jsx("iframe",{src:f,className:"w-full h-full",title:t.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0,onError:()=>l("YouTube playback error")},f)}),f&&!f.includes("youtube.com/embed/")&&o.jsx("div",{className:"aspect-video w-full bg-black rounded-lg overflow-hidden",children:o.jsx("video",{controls:!0,className:"w-full h-full",src:f,onLoadStart:v,onCanPlay:C,onError:b,style:{display:d?"none":"block"},children:"Your browser does not support the video element."})}),i&&o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Video Playback Error"}),o.jsxs("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:[o.jsx("p",{children:i}),o.jsxs("p",{className:"mt-1 text-xs",children:[o.jsx("strong",{children:"Debug Info:"})," Source: ",f||"None"," | File Path: ",t.filePath||"None"]})]}),o.jsx("div",{className:"mt-3",children:o.jsx("button",{onClick:()=>{l(null),u(!0);const U=w();g(U)},className:"text-xs bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200 px-2 py-1 rounded hover:bg-red-200 dark:hover:bg-red-700",children:"Retry"})})]})]})}),!f&&!i&&!d&&o.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"No Video Source"}),o.jsxs("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:[o.jsx("p",{children:"No valid video source found for this content."}),o.jsxs("p",{className:"mt-1 text-xs",children:[o.jsx("strong",{children:"Content Info:"})," ID: ",t._id," | Type: ",t.type," | File Path: ",t.filePath||"None"]})]})]})]})})]})]})},$N=({lessonId:t,onAdd:A,onCancel:r})=>{const[a,i]=P.useState("upload"),[l,d]=P.useState(""),[u,f]=P.useState(""),[g,w]=P.useState(""),[v,C]=P.useState(!1),[b,U]=P.useState(null),[F,L]=P.useState(null),[N,H]=P.useState(0),[_,k]=P.useState(!1),[V,Ae]=P.useState(""),{showToast:ne}=Mr();P.useEffect(()=>{t&&(async()=>{try{const j=await wn(t);if(j){const{className:I,subjectName:K,unitName:ce,subUnitName:R,lessonName:Y}=j,Z=oe=>{if(!oe)return"0";const we=oe.match(/\d+/);return we?we[0]:"0"},ue=Z(ce),ge=Z(R),be=Z(Y),T=`${ue}-${ge}-${be} ${Y}.mp4`,q=oe=>oe.replace(/[^a-zA-Z0-9]/g,""),le=[q(I),q(K),q(ce),R?q(R):"",q(Y)].filter(oe=>oe).join("/");d(T),w(T),f(`${le}/Videos`)}else d("New Video"),f("Default/Videos")}catch(j){console.error("Error in fetchTitleAndPath:",j),d("New Video"),f("Default/Videos")}})()},[t]);const J=Q=>{var I;const j=(I=Q.target.files)==null?void 0:I[0];j&&j.type.startsWith("video/")?(L(j),U(null),H(0)):(ne("Please select a valid video file.","error"),L(null))},D=async()=>{if(!F||!t)return;k(!0),H(0);const Q=new FormData;Q.append("file",F),Q.append("lessonId",t),Q.append("type","video"),Q.append("title",l);let j=u.replace(/^(\.\.\/)?uploads\//,"");Q.append("folder",j);const I=new XMLHttpRequest;I.upload.addEventListener("progress",K=>{if(K.lengthComputable){const ce=Math.round(K.loaded/K.total*100);H(ce)}}),I.addEventListener("load",()=>{if(I.status>=200&&I.status<300)try{ne("Video uploaded and saved successfully!","success"),k(!1),A()}catch{ne("Upload succeeded but response was invalid.","warning"),k(!1)}else{try{const K=JSON.parse(I.responseText);ne(`Upload failed: ${K.message||I.statusText}`,"error")}catch{ne(`Upload failed: ${I.statusText}`,"error")}k(!1)}}),I.addEventListener("error",()=>{ne("Network error during upload.","error"),k(!1)}),I.open("POST","/api/upload"),I.send(Q)},ee=async()=>{if(!V||!l)return;if(!Gf(V)){U("Please enter a valid YouTube URL."),ne("Invalid YouTube URL","error");return}C(!0);try{await(void 0)({title:l.trim(),body:V,lessonId:t,type:"video",metadata:{category:"External",subCategory:"YouTube",videoUrl:V}}),ne("Video saved successfully!","success"),A()}catch{ne("Failed to save video.","error")}finally{C(!1)}};return o.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800/50 p-6 sm:p-8 rounded-lg shadow-md mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-center text-gray-800 dark:text-white",children:"Add New Video"}),o.jsxs("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[o.jsx("button",{onClick:()=>i("upload"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="upload"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Video Upload"}),o.jsx("button",{onClick:()=>i("youtube"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="youtube"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"YouTube URL"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"videoTitle",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Video Title"}),o.jsx("input",{id:"videoTitle",type:"text",value:l,onChange:Q=>d(Q.target.value),required:!0,className:"mt-1 w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-gray-100"}),o.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 font-mono truncate",title:u,children:["Path: ",u]})]}),a==="upload"&&o.jsx("div",{className:"space-y-4",children:_?o.jsxs("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[o.jsx("div",{className:`h-4 rounded-full transition-all duration-300 relative overflow-hidden ${N===100?"bg-green-500":"bg-blue-600"}`,style:{width:`${N===100?100:N}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})}),o.jsx("div",{className:"text-center mt-2 flex items-center justify-center gap-2",children:N===100?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"Processing on Server (Please wait)..."})]}):o.jsxs("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:[N,"% Uploading..."]})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-1 flex items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Uo,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center",children:o.jsxs("label",{htmlFor:"videoFile",className:"relative cursor-pointer bg-transparent rounded-md font-medium text-blue-600 hover:text-blue-500",children:[o.jsx("span",{children:F?"Change file":"Upload a file"}),o.jsx("input",{id:"videoFile",name:"videoFile",type:"file",className:"sr-only",onChange:J,accept:"video/*"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:F?F.name:"MP4, WebM, etc."})]})}),F&&o.jsx("button",{onClick:D,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Upload & Save"})]})}),a==="youtube"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"youtubeUrl",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"YouTube URL"}),o.jsx("input",{id:"youtubeUrl",type:"url",value:V,onChange:Q=>Ae(Q.target.value),required:!0,placeholder:"https://www.youtube.com/watch?v=...",className:"mt-1 w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-gray-100"})]}),o.jsx("button",{onClick:ee,disabled:v,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:v?"Saving...":"Save Video"})]}),b&&o.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:b})]}),o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preview"}),o.jsx("div",{className:"aspect-video w-full bg-black rounded-lg border dark:border-gray-600 overflow-hidden shadow-inner relative",children:a==="upload"&&F?o.jsx("video",{src:URL.createObjectURL(F),controls:!0,className:"w-full h-full"}):a==="youtube"&&V&&Gf(V)?o.jsx("iframe",{src:Gf(V)||"",className:"w-full h-full",title:"YouTube Preview",allowFullScreen:!0}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 dark:text-gray-400 w-full",children:[o.jsx(Xf,{className:"w-12 h-12 mb-2"}),o.jsx("p",{children:"Video preview will appear here"})]})})]})]})]})},eS=({lessonId:t,user:A})=>{var H;const[r,a]=P.useState(0),{data:i,isLoading:l}=Ar(()=>za(t,["video"],A.role!=="admin"&&!A.canEdit),[t,r,A]),[d,u]=P.useState({isOpen:!1,onConfirm:null}),[f,g]=P.useState(!1),[w,v]=P.useState(null),{showToast:C}=Mr();P.useEffect(()=>{(async()=>{})()},[t]);const b=((H=i==null?void 0:i[0])==null?void 0:H.docs)||[],U=A.role==="admin"||!!A.canEdit,F=_=>{u({isOpen:!0,onConfirm:async()=>{try{await(void 0)(_),a(V=>V+1),C("Video deleted successfully","success")}catch{C("Failed to delete video","error")}u({isOpen:!1,onConfirm:null})}})},L=async _=>{try{const k=!_.isPublished;await(void 0)(_._id,{isPublished:k}),a(V=>V+1),C(`Video ${k?"published":"unpublished"} successfully`,"success")}catch(k){console.error("Failed to toggle publish status:",k),C("Failed to update publish status","error")}},N=()=>{a(_=>_+1),g(!1)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xf,{className:"w-8 h-8 text-red-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-red-600 dark:from-white dark:to-red-400",children:"Video"})]})}),U&&!f&&o.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center p-2.5 w-10 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors sm:px-4 sm:w-auto sm:h-auto",title:"Add New Video",children:[o.jsx(Ti,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline sm:ml-2",children:"Add New"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[l&&o.jsx("div",{className:"text-center py-10",children:"Loading videos..."}),!l&&f&&o.jsx($N,{lessonId:t,onAdd:N,onCancel:()=>g(!1)}),!l&&!f&&b.length>0&&o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6",children:b.map(_=>o.jsx(El.Fragment,{children:!_.isPublished&&!U?o.jsx(Ib,{contentType:"video"}):o.jsx(ZN,{content:_,onRemove:()=>F(_._id),isAdmin:U,onTogglePublish:L})},_._id))}),!l&&!f&&b.length===0&&o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(Xf,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsxs("p",{className:"mt-4 text-gray-500",children:["No videos available for this chapter.",U&&" Click 'Add New Video' to get started."]})]})]}),o.jsx(Ws,{isOpen:d.isOpen,onClose:()=>u({isOpen:!1,onConfirm:null}),onConfirm:d.onConfirm,title:"Remove Video",message:"Are you sure you want to remove this video?"})]})},tS=({src:t,title:A})=>{const r=P.useRef(null),a=P.useRef(null),[i,l]=P.useState(!1),[d,u]=P.useState(0),[f,g]=P.useState(0),[w,v]=P.useState(1),[C,b]=P.useState(!1),[U,F]=P.useState(1),[L,N]=P.useState(null),[H,_]=P.useState(null),k=P.useRef(null);P.useEffect(()=>{if(!t||!r.current)return;const Q=()=>{if(L)L.state==="suspended"&&L.resume();else try{const Z=window.AudioContext||window.webkitAudioContext,ue=new Z,ge=ue.createAnalyser();ge.fftSize=256,ue.createMediaElementSource(r.current).connect(ge),ge.connect(ue.destination),N(ue),_(ge)}catch(Z){console.error("Audio Context Init Error (likely CORS):",Z)}},j=()=>{l(!0),Q()},I=()=>l(!1),K=()=>{var Z;return u(((Z=r.current)==null?void 0:Z.currentTime)||0)},ce=()=>{var Z;return g(((Z=r.current)==null?void 0:Z.duration)||0)},R=()=>l(!1),Y=r.current;return Y.addEventListener("play",j),Y.addEventListener("pause",I),Y.addEventListener("timeupdate",K),Y.addEventListener("loadedmetadata",ce),Y.addEventListener("ended",R),()=>{Y.removeEventListener("play",j),Y.removeEventListener("pause",I),Y.removeEventListener("timeupdate",K),Y.removeEventListener("loadedmetadata",ce),Y.removeEventListener("ended",R),k.current&&cancelAnimationFrame(k.current)}},[t,L]),P.useEffect(()=>{if(!H||!a.current)return;const Q=a.current,j=Q.getContext("2d");if(!j)return;const I=H.frequencyBinCount,K=new Uint8Array(I),ce=()=>{k.current=requestAnimationFrame(ce),H.getByteFrequencyData(K);const R=Q.width,Y=Q.height;j.clearRect(0,0,R,Y);const Z=R/I*2.5;let ue,ge=0;for(let be=0;be<I;be++){ue=K[be]/2;const T=j.createLinearGradient(0,Y-ue,0,Y);T.addColorStop(0,"#60A5FA"),T.addColorStop(1,"#2563EB"),j.fillStyle=T,j.beginPath(),j.roundRect(ge,Y-ue,Z,ue,[4,4,0,0]),j.fill(),ge+=Z+1}};return i?ce():(k.current&&cancelAnimationFrame(k.current),j.clearRect(0,0,Q.width,Q.height)),()=>{k.current&&cancelAnimationFrame(k.current)}},[H,i]);const V=()=>{r.current&&(i?r.current.pause():r.current.play())},Ae=Q=>{const j=Number(Q.target.value);r.current&&(r.current.currentTime=j,u(j))},ne=()=>{r.current&&(r.current.muted=!C,b(!C))},J=Q=>{const j=Number(Q.target.value);r.current&&(r.current.volume=j,v(j))},D=()=>{const Q=[.5,1,1.25,1.5,2],j=Q.indexOf(U),I=Q[(j+1)%Q.length];r.current&&(r.current.playbackRate=I,F(I))},ee=Q=>{const j=Math.floor(Q/60),I=Math.floor(Q%60);return`${j}:${I<10?"0":""}${I}`};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-100 dark:border-gray-700",children:[o.jsxs("div",{className:"relative h-32 bg-gray-900 flex items-center justify-center overflow-hidden",children:[o.jsx("canvas",{ref:a,width:600,height:128,className:"absolute bottom-0 w-full h-full opacity-80"}),!i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm transition-opacity z-10",children:o.jsx("button",{onClick:V,className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white shadow-lg hover:scale-110 transition-transform",children:o.jsx(s2,{className:"w-8 h-8 ml-1"})})}),o.jsx("div",{className:"absolute top-4 left-4 right-4 text-white text-shadow-md truncate font-medium z-10 pointer-events-none",children:A})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono text-gray-500 dark:text-gray-400",children:[o.jsx("span",{className:"w-10 text-right",children:ee(d)}),o.jsx("input",{type:"range",min:"0",max:f||0,value:d,onChange:Ae,className:"flex-1 h-1 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600 hover:accent-blue-500"}),o.jsx("span",{className:"w-10",children:ee(f)})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:V,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-white transition-colors",children:i?o.jsx(QB,{className:"w-6 h-6"}):o.jsx(s2,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex items-center gap-2 group relative",children:[o.jsx("button",{onClick:ne,className:"text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:C||w===0?o.jsx(NB,{className:"w-5 h-5"}):o.jsx(FB,{className:"w-5 h-5"})}),o.jsx("div",{className:"w-0 overflow-hidden group-hover:w-24 transition-all duration-300 ease-in-out",children:o.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:C?0:w,onChange:J,className:"w-20 h-1 accent-blue-600 cursor-pointer"})})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{onClick:D,className:"px-2 py-1 text-xs font-bold text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[U,"x"]})})]})]}),o.jsx("audio",{ref:r,src:t,crossOrigin:"anonymous",preload:"metadata",className:"hidden"})]})},AS=({content:t,onRemove:A,isAdmin:r,onTogglePublish:a})=>{const[i,l]=P.useState(null),[d,u]=P.useState(""),f=()=>{var g;return(g=t.file)!=null&&g.url?t.file.url:t.filePath?t.filePath.startsWith("http")?t.filePath:`/api/content/${t._id}/file`:t.body&&t.body.startsWith("http")?t.body:""};return P.useEffect(()=>{const g=f();u(g)},[t]),P.useEffect(()=>{},[t._id]),o.jsxs("div",{className:"relative group",children:[r&&o.jsxs("div",{className:"absolute top-2 right-2 z-20 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[a&&o.jsx("button",{onClick:()=>a(t),className:`p-2 rounded-full backdrop-blur-sm shadow-sm transition-all ${t.isPublished?"bg-white/80 dark:bg-black/80 text-green-600":"bg-white/50 dark:bg-black/50 text-gray-500"}`,title:t.isPublished?"Published (Click to Unpublish)":"Draft (Click to Publish)",children:o.jsx(rd,{className:"w-4 h-4"})}),o.jsx("button",{onClick:A,className:"p-2 rounded-full bg-white/80 dark:bg-black/80 hover:bg-red-500 hover:text-white backdrop-blur-sm shadow-sm transition-all text-gray-600 dark:text-gray-300",title:"Remove Audio",children:o.jsx(vs,{className:"w-4 h-4"})})]}),d?o.jsx(tS,{src:d,title:t.title}):o.jsx("div",{className:"p-4 bg-red-50 text-red-500 rounded-lg text-sm",children:"Audio source not found."})]})},rS=({lessonId:t,onAdd:A,onCancel:r})=>{const[a,i]=P.useState("upload"),[l,d]=P.useState(""),[u,f]=P.useState(""),[g,w]=P.useState(""),[v,C]=P.useState(!1),[b,U]=P.useState(null),[F,L]=P.useState(null),[N,H]=P.useState(0),[_,k]=P.useState(!1),[V,Ae]=P.useState(""),{showToast:ne}=Mr();P.useEffect(()=>{t&&(async()=>{try{const j=await wn(t);if(j){const{className:I,subjectName:K,unitName:ce,subUnitName:R,lessonName:Y}=j,Z=oe=>{if(!oe)return"0";const we=oe.match(/\d+/);return we?we[0]:"0"},ue=Z(ce),ge=Z(R),be=Z(Y),T=`${ue}-${ge}-${be} ${Y}.mp3`,q=oe=>oe.replace(/[^a-zA-Z0-9]/g,""),le=[q(I),q(K),q(ce),R?q(R):"",q(Y)].filter(oe=>oe).join("/");d(T),w(T),f(`${le}/Audios`)}else d("New Audio"),f("Default/Audios")}catch(j){console.error("Error in fetchTitleAndPath:",j),d("New Audio"),f("Default/Audios")}})()},[t]);const J=Q=>{var I;const j=(I=Q.target.files)==null?void 0:I[0];j&&j.type.startsWith("audio/")?(L(j),U(null),H(0)):(ne("Please select a valid audio file.","error"),L(null))},D=async()=>{if(!F||!t)return;k(!0),H(0);const Q=new FormData;Q.append("file",F),Q.append("lessonId",t),Q.append("type","audio"),Q.append("title",l);let j=u.replace(/^(\.\.\/)?uploads\//,"");Q.append("folder",j);const I=new XMLHttpRequest;I.upload.addEventListener("progress",K=>{if(K.lengthComputable){const ce=Math.round(K.loaded/K.total*100);H(ce)}}),I.addEventListener("load",()=>{if(I.status>=200&&I.status<300)try{ne("Audio uploaded and saved successfully!","success"),k(!1),A()}catch{ne("Upload succeeded but response was invalid.","warning"),k(!1)}else{try{const K=JSON.parse(I.responseText);ne(`Upload failed: ${K.message||I.statusText}`,"error")}catch{ne(`Upload failed: ${I.statusText}`,"error")}k(!1)}}),I.addEventListener("error",()=>{ne("Network error during upload.","error"),k(!1)}),I.open("POST","/api/upload"),I.send(Q)},ee=async()=>{if(!(!V||!l)){C(!0);try{await(void 0)({title:l.trim(),body:V,lessonId:t,type:"audio",metadata:{category:"External",audioUrl:V}}),ne("Audio link saved successfully!","success"),A()}catch{ne("Failed to save audio link.","error")}finally{C(!1)}}};return o.jsxs("div",{className:"w-full max-w-4xl mx-auto bg-white dark:bg-gray-800/50 p-6 sm:p-8 rounded-lg shadow-md mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-center text-gray-800 dark:text-white",children:"Add New Audio"}),o.jsxs("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6 overflow-x-auto",children:[o.jsx("button",{onClick:()=>i("upload"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="upload"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Audio Upload"}),o.jsx("button",{onClick:()=>i("link"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${a==="link"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Audio Link"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Audio Title"}),o.jsx("input",{type:"text",value:l,onChange:Q=>d(Q.target.value),required:!0,className:"mt-1 w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-gray-100"}),o.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 font-mono truncate",title:u,children:["Path: ",u]})]}),a==="upload"&&o.jsx("div",{className:"space-y-4",children:_?o.jsxs("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[o.jsx("div",{className:`h-4 rounded-full transition-all duration-300 relative overflow-hidden ${N===100?"bg-green-500":"bg-blue-600"}`,style:{width:`${N===100?100:N}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})}),o.jsx("div",{className:"text-center mt-2 flex items-center justify-center gap-2",children:N===100?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"Processing on Server (Please wait)..."})]}):o.jsxs("p",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:[N,"% Uploading..."]})})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-1 flex items-center justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:o.jsxs("div",{className:"space-y-1 text-center",children:[o.jsx(Uo,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("div",{className:"flex text-sm text-gray-600 dark:text-gray-400 justify-center",children:o.jsxs("label",{className:"relative cursor-pointer bg-transparent rounded-md font-medium text-blue-600 hover:text-blue-500",children:[o.jsx("span",{children:F?"Change file":"Upload a file"}),o.jsx("input",{type:"file",className:"sr-only",onChange:J,accept:"audio/*"})]})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:F?F.name:"MP3, WAV, etc."})]})}),F&&o.jsx("button",{onClick:D,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Upload & Save"})]})}),a==="link"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Audio URL"}),o.jsx("input",{type:"url",value:V,onChange:Q=>Ae(Q.target.value),required:!0,placeholder:"https://example.com/audio.mp3",className:"mt-1 w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-gray-100"})]}),o.jsx("button",{onClick:ee,disabled:v,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:v?"Saving...":"Save Audio Link"})]}),b&&o.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:b})]}),o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preview & Info"}),o.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-gray-800 rounded-lg border dark:border-gray-700 p-6 flex flex-col items-center justify-center text-center",children:[o.jsx(Yf,{className:"w-16 h-16 text-blue-500 mb-4"}),o.jsx("h4",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Audio Enhancement"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs",children:"Uploaded audio will feature an interactive visualizer, speed controls, and a modern playback interface."}),F&&o.jsxs("div",{className:"mt-6 w-full",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Selected File"}),o.jsx("div",{className:"bg-white dark:bg-gray-700 p-3 rounded border dark:border-gray-600 text-sm truncate",children:F.name})]})]})]})]})]})},nS=({lessonId:t,user:A})=>{var H;const[r,a]=P.useState(0),{data:i,isLoading:l}=Ar(()=>za(t,["audio"],A.role!=="admin"&&!A.canEdit),[t,r,A]),[d,u]=P.useState({isOpen:!1,onConfirm:null}),[f,g]=P.useState(!1),[w,v]=P.useState(null),{showToast:C}=Mr();P.useEffect(()=>{(async()=>{try{const k=await wn(t);v({count:0})}catch(k){console.error("Failed to fetch stats",k)}})()},[t]);const b=((H=i==null?void 0:i[0])==null?void 0:H.docs)||[],U=A.role==="admin"||!!A.canEdit,F=_=>{u({isOpen:!0,onConfirm:async()=>{try{await(void 0)(_),a(V=>V+1),C("Audio deleted successfully","success")}catch{C("Failed to delete audio","error")}u({isOpen:!1,onConfirm:null})}})},L=async _=>{try{const k=!_.isPublished;await(void 0)(_._id,{isPublished:k}),a(V=>V+1),C(`Audio ${k?"published":"unpublished"} successfully`,"success")}catch(k){console.error("Failed to toggle publish status:",k),C("Failed to update publish status","error")}},N=()=>{a(_=>_+1),g(!1)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Yf,{className:"w-8 h-8 text-purple-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-purple-600 dark:from-white dark:to-purple-400",children:"Audio"})]})}),U&&!f&&o.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center p-2.5 w-10 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors sm:px-4 sm:w-auto sm:h-auto",title:"Add New Audio",children:[o.jsx(Ti,{className:"w-5 h-5"}),o.jsx("span",{className:"hidden sm:inline sm:ml-2",children:"Add New"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[l&&o.jsx("div",{className:"text-center py-10",children:"Loading audio..."}),!l&&f&&o.jsx(rS,{lessonId:t,onAdd:N,onCancel:()=>g(!1)}),!l&&!f&&b.length>0&&o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 pb-6",children:b.map(_=>o.jsx(AS,{content:_,onRemove:()=>F(_._id),isAdmin:U,onTogglePublish:L},_._id))}),!l&&!f&&b.length===0&&o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg",children:[o.jsx(Yf,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsxs("p",{className:"mt-4 text-gray-500",children:["No audio available for this chapter.",U&&" Click 'Add New Audio' to get started."]})]})]}),o.jsx(Ws,{isOpen:d.isOpen,onClose:()=>u({isOpen:!1,onConfirm:null}),onConfirm:d.onConfirm,title:"Remove Audio",message:"Are you sure you want to remove this audio file?"})]})},Hf=({label:t,value:A,colorClass:r,bgClass:a})=>o.jsxs("div",{className:`${a} p-4 rounded-xl flex flex-col items-center justify-center shadow-sm border border-opacity-10 transition-transform hover:scale-105`,children:[o.jsx("span",{className:`text-3xl font-bold ${r}`,children:A}),o.jsx("span",{className:"text-xs uppercase font-semibold text-gray-500 dark:text-gray-400 mt-1 tracking-wider",children:t})]}),aS=({percentage:t,color:A})=>{const a=2*Math.PI*50,i=a-t/100*a;return o.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center group",children:[o.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 120 120",children:[o.jsx("circle",{cx:"60",cy:"60",r:50,fill:"none",stroke:"currentColor",strokeWidth:"10",className:"text-gray-200 dark:text-gray-700 opacity-30"}),o.jsx("circle",{cx:"60",cy:"60",r:50,fill:"none",stroke:A,strokeWidth:"10",strokeDasharray:a,strokeDashoffset:i,strokeLinecap:"round",className:"transition-all duration-1000 ease-out drop-shadow-md"})]}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsxs("span",{className:"text-2xl font-bold text-gray-800 dark:text-white group-hover:scale-110 transition-transform",children:[Math.round(t),"%"]}),o.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 font-medium uppercase",children:"Accuracy"})]})]})},sS=({correct:t,wrong:A,skipped:r})=>{const a=t+A+r;if(a===0)return null;const i=t/a*360,l=A/a*360,d=`conic-gradient(#22c55e 0deg ${i}deg, #ef4444 ${i}deg ${i+l}deg, #9ca3af ${i+l}deg 360deg)`;return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-32 h-32 rounded-full shadow-inner border-4 border-white dark:border-gray-800 transition-transform hover:scale-105",style:{background:d}}),o.jsxs("div",{className:"mt-4 flex gap-3 text-xs font-medium text-gray-600 dark:text-gray-300",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})," Correct"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})," Wrong"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"})," Skipped"]})]})]})},Fb=({question:t,index:A,totalQuestions:r,userAnswerIndex:a,onAnswerSelect:i,readOnly:l,showRationale:d})=>{var w;const[u,f]=P.useState(!1),g=(v,C)=>{const b="w-full text-left p-4 rounded-lg border-2 transition-all duration-200 relative group ";return a!==null?C?b+"bg-green-100 dark:bg-green-900/40 border-green-500 text-green-800 dark:text-green-100":a===v&&!C?b+"bg-red-100 dark:bg-red-900/40 border-red-500 text-red-800 dark:text-red-100 opacity-90":b+"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 opacity-50":b+"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-blue-50 dark:hover:bg-gray-700"};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 md:p-8 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:["Question ",A+1," ",o.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"/"})," ",r]}),a!==null&&o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${t.answerOptions[a].isCorrect?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}`,children:t.answerOptions[a].isCorrect?"Correct":"Incorrect"})]}),o.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-black dark:text-white mb-8 leading-relaxed font-tau-paalai",dangerouslySetInnerHTML:{__html:sn(t.question)}}),o.jsx("div",{className:"space-y-4 mb-6",children:t.answerOptions.map((v,C)=>o.jsx("div",{children:o.jsx("button",{onClick:()=>!l&&a===null&&i(C),disabled:l||a!==null,className:g(C,v.isCorrect),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsxs("div",{className:`flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center mt-0.5 transition-colors ${a!==null?v.isCorrect?"border-green-500 text-green-500":a===C?"border-red-500 text-red-500":"border-gray-300 dark:border-gray-600":"border-gray-300 dark:border-gray-600 group-hover:border-blue-500"}`,children:[a!==null&&v.isCorrect&&o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),a===C&&!v.isCorrect&&o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})]}),o.jsx("div",{className:"flex-1 font-tau-paalai text-xl",dangerouslySetInnerHTML:{__html:sn(v.text)}})]})})},C))}),d&&a!==null&&o.jsxs("div",{className:`mt-4 p-4 rounded-lg text-sm animate-fade-in ${t.answerOptions[a].isCorrect?"bg-green-50 border border-green-100 text-green-800 dark:bg-green-900/20 dark:border-green-900 dark:text-green-300":"bg-red-50 border border-red-100 text-red-800 dark:bg-red-900/20 dark:border-red-900 dark:text-red-300"}`,children:[o.jsx("strong",{className:"block mb-2",children:t.answerOptions[a].isCorrect?" Good job!":" Not quite right."}),o.jsx("div",{dangerouslySetInnerHTML:{__html:sn(((w=t.answerOptions.find(v=>v.isCorrect))==null?void 0:w.rationale)||"No explanation provided.")}})]}),o.jsx("div",{className:"min-h-[2rem]",children:a===null&&t.hint&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>f(!u),className:"text-sm font-medium text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1 transition-colors",children:[o.jsx("span",{className:"text-lg",children:""})," ",u?"Hide Hint":"Show Hint"]}),u&&o.jsx("div",{className:"mt-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-100 dark:border-yellow-900/50 rounded-lg animate-fade-in",children:o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",dangerouslySetInnerHTML:{__html:sn(t.hint)}})})]})})]})},iS=({lessonId:t,user:A})=>{const[r,a]=P.useState(0),{data:i,isLoading:l}=Ar(()=>za(t,["quiz"]),[t,r]),{showToast:d}=Mr(),[u,f]=P.useState([]),[g,w]=P.useState(null),[v,C]=P.useState([]),[b,U]=P.useState(0),[F,L]=P.useState([]),[N,H]=P.useState("list"),[_,k]=P.useState(null);P.useEffect(()=>{(async()=>{try{const K=await wn(t);k({count:0})}catch(K){console.error("Failed to fetch stats",K)}})()},[t]),P.useEffect(()=>{var ce;const K=(((ce=i==null?void 0:i[0])==null?void 0:ce.docs)||[]).filter(R=>R.isPublished!==!1);f(K),H("list"),w(null)},[i]);const V=I=>{if(w(I),k({count:0}),I.body)try{const K=JSON.parse(I.body.replace(/&quot;/g,'"'));C(K),L(new Array(K.length).fill(null)),U(0),H("question")}catch(K){console.error("Failed to parse quiz JSON:",K),C([])}else C([])},Ae=I=>{if(F[b]!==null)return;const K=[...F];K[b]=I,L(K)},ne=()=>{b<v.length-1?U(I=>I+1):H("result")},J=()=>{b>0&&U(I=>I-1)},D=()=>{U(0),L(new Array(v.length).fill(null)),H("question")},ee=()=>{H("review")},Q=()=>{H("list"),w(null)},j=P.useMemo(()=>{let I=0,K=0,ce=0;F.forEach((Z,ue)=>{Z===null?ce++:v[ue].answerOptions[Z].isCorrect?I++:K++});const R=v.length,Y=R>0?I/R*100:0;return{correct:I,wrong:K,skipped:ce,total:R,accuracy:Y}},[F,v]);if(l)return o.jsx("div",{className:"text-center p-8 text-gray-500",children:"Loading Quiz..."});if(u.length===0)return o.jsxs("div",{className:"p-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ec,{className:"w-8 h-8 text-rose-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-rose-600 dark:from-white dark:to-rose-400",children:"Quiz"})]})})}),o.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800/50 rounded-lg shadow-inner",children:[o.jsx(Ec,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600"}),o.jsx("p",{className:"mt-4 text-gray-500",children:"No quiz available for this chapter."})]})]});if(N==="list")return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ec,{className:"w-8 h-8 text-rose-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-rose-600 dark:from-white dark:to-rose-400",children:"Select a Quiz"})]})})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(I=>o.jsxs("button",{onClick:()=>V(I),className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-md hover:shadow-lg transition-all border border-gray-100 dark:border-gray-700 text-left group relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:o.jsx(Ec,{className:"w-8 h-8"})}),o.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded-md",children:[o.jsx(i2,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300",children:yo(I.viewCount||0)})]})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:I.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Click to start this quiz."})]},I._id))})]});if(N==="result"){const I=j.accuracy>=80,K=I?"#22c55e":j.accuracy>=50?"#eab308":"#ef4444";return o.jsx("div",{className:"p-4 sm:p-6 lg:p-8 flex items-center justify-center h-full overflow-y-auto",children:o.jsxs("div",{className:"max-w-4xl w-full bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-2xl text-center relative overflow-hidden animate-fade-in",children:[I&&o.jsx(Tv,{}),o.jsx("h2",{className:"text-3xl font-extrabold mb-2 text-gray-800 dark:text-white",children:I?" Outstanding Performance!":"Quiz Completed!"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"Here is the summary of your results."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[o.jsx("div",{className:"flex flex-col items-center justify-center space-y-6 bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl",children:o.jsxs("div",{className:"flex justify-around w-full items-center",children:[o.jsx(aS,{percentage:j.accuracy,color:K}),o.jsx(sS,{correct:j.correct,wrong:j.wrong,skipped:j.skipped})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 content-center",children:[o.jsx(Hf,{label:"Total",value:j.total,bgClass:"bg-blue-50 dark:bg-blue-900/20",colorClass:"text-blue-600 dark:text-blue-400"}),o.jsx(Hf,{label:"Correct",value:j.correct,bgClass:"bg-green-50 dark:bg-green-900/20",colorClass:"text-green-600 dark:text-green-400"}),o.jsx(Hf,{label:"Wrong",value:j.wrong,bgClass:"bg-red-50 dark:bg-red-900/20",colorClass:"text-red-600 dark:text-red-400"}),o.jsx(Hf,{label:"Skipped",value:j.skipped,bgClass:"bg-gray-100 dark:bg-gray-700/40",colorClass:"text-gray-600 dark:text-gray-400"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[o.jsx("button",{onClick:ee,className:"px-8 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-semibold rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Review Answers"}),o.jsx("button",{onClick:D,className:"px-8 py-3 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1",children:"Try Again"}),u.length>1&&o.jsx("button",{onClick:Q,className:"px-8 py-3 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 font-semibold rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Other Quizzes"})]})]})})}return N==="review"?o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 flex flex-col h-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1 shrink-0 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm",children:[o.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-800 dark:text-white",children:"Review Answers"}),o.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:"Back to Quiz List"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto max-w-4xl mx-auto w-full pb-10",children:[v.map((I,K)=>o.jsx(Fb,{question:I,index:K,totalQuestions:v.length,userAnswerIndex:F[K],onAnswerSelect:()=>{},readOnly:!0,showRationale:!0},K)),o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx("button",{onClick:Q,className:"px-8 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white font-semibold rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600",children:"Back to Quiz List"})})]})]}):o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 flex flex-col h-full",children:[o.jsx("div",{className:"flex justify-between items-center mb-1 shrink-0",children:o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[u.length>1&&o.jsx("button",{onClick:Q,className:"mr-4 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Back to Quiz List",children:o.jsx(Wu,{className:"w-5 h-5 transform rotate-180 text-gray-500"})}),o.jsx(Ec,{className:"w-8 h-8 text-rose-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-rose-600 dark:from-white dark:to-rose-400",children:(g==null?void 0:g.title)||"Quiz"}),g&&o.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-gray-100 dark:bg-gray-700/50 rounded-full ml-2",children:[o.jsx(i2,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300 animate-slide-up",children:yo(g.viewCount||0)})]})]})})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx(Fb,{question:v[b],index:b,totalQuestions:v.length,userAnswerIndex:F[b],onAnswerSelect:Ae,readOnly:!1,showRationale:!0}),o.jsxs("div",{className:"flex justify-between items-center pt-2 pb-10",children:[o.jsx("button",{onClick:J,disabled:b===0,className:"px-6 py-2.5 rounded-xl text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors shadow-sm",children:"Previous"}),o.jsxs("button",{onClick:()=>ne(),className:`flex items-center gap-2 px-8 py-2.5 rounded-xl text-white font-semibold transition-all shadow-md hover:shadow-lg transform active:scale-95 ${F[b]!==null?"bg-blue-600 hover:bg-blue-700":"bg-gray-500 hover:bg-gray-600"}`,children:[o.jsx("span",{children:b===v.length-1?"Finish Quiz":"Next Question"}),o.jsx(Wu,{className:"w-4 h-4"})]})]})]})})]})},lS=({content:t,onRemove:A,isAdmin:r,onExpand:a,onDownloadClick:i,index:l,downloading:d,onTogglePublish:u})=>{var C;const f=((C=t.file)==null?void 0:C.url)||t.filePath||t.body;t.viewCount;const g=t.downloadCount||0,w=[{bg:"from-emerald-400 to-teal-600",text:"text-white",icon:"bg-white/20"},{bg:"from-orange-400 to-red-600",text:"text-white",icon:"bg-white/20"},{bg:"from-cyan-400 to-blue-600",text:"text-white",icon:"bg-white/20"},{bg:"from-violet-400 to-fuchsia-600",text:"text-white",icon:"bg-white/20"},{bg:"from-amber-400 to-orange-600",text:"text-white",icon:"bg-white/20"},{bg:"from-lime-400 to-green-600",text:"text-white",icon:"bg-white/20"}],v=w[l%w.length];return o.jsxs("div",{className:"group relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full",children:[o.jsxs("div",{className:`h-32 bg-gradient-to-br ${v.bg} relative overflow-hidden cursor-pointer`,onClick:()=>a(f),children:[o.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-colors"}),o.jsx("div",{className:"absolute -top-6 -right-6 w-20 h-20 bg-white/10 rounded-full blur-xl"}),o.jsx("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-white/10 rounded-full blur-lg"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:o.jsx("div",{className:`p-4 ${v.icon} rounded-full backdrop-blur-sm shadow-inner group-hover:scale-110 transition-transform duration-300`,children:o.jsx(Wf,{className:"w-8 h-8 text-white"})})}),r&&o.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all z-10",children:[u&&o.jsx("button",{onClick:b=>{b.stopPropagation(),u(t)},className:`p-1.5 rounded-full backdrop-blur-sm shadow-md transition-colors ${t.isPublished?"bg-blue-600/90 hover:bg-blue-700 text-white":"bg-white/90 hover:bg-gray-100 text-gray-500"}`,title:t.isPublished?"Published":"Draft",children:t.isPublished?o.jsx(rd,{className:"w-4 h-4"}):o.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"})}),o.jsx("button",{onClick:b=>{b.stopPropagation(),A()},className:"p-1.5 rounded-full bg-black/20 hover:bg-red-500 text-white backdrop-blur-sm",title:"Delete",children:o.jsx(vs,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 dark:text-white mb-2 text-center line-clamp-2 cursor-pointer hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:()=>a(f),title:t.title,children:t.title}),o.jsxs("div",{className:"mt-auto pt-4 flex items-center justify-between border-t border-gray-100 dark:border-gray-700",children:[o.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400 font-medium"}),o.jsx("button",{onClick:b=>{b.stopPropagation(),i()},disabled:d,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full text-xs font-semibold hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mi,{className:"w-3 h-3"}),o.jsxs("span",{children:["Download (",yo(g),")"]})]})})]})]})]})},oS=({lessonId:t,onUpload:A,onCancel:r})=>{const[a,i]=P.useState("upload"),[l,d]=P.useState(null),[u,f]=P.useState("Monthly Test"),[g,w]=P.useState(""),[v,C]=P.useState(0),[b,U]=P.useState(!1),[F,L]=P.useState(!1),[N,H]=P.useState(""),{showToast:_}=Mr(),k=["Monthly Test","Summative Exam","Model Exam","SSLC Exam"],V=J=>{var ee;const D=(ee=J.target.files)==null?void 0:ee[0];D&&D.type==="application/pdf"?(d(D),C(0)):(_("Please select a valid PDF","error"),d(null))},Ae=async()=>{if(!l||!t||!g){g||_("Please enter the Exam Name/Year","error");return}U(!0),C(0);const J=`${u} ${g}`,D=new FormData;D.append("file",l),D.append("lessonId",t),D.append("type","questionPaper"),D.append("title",J),D.append("examCategory",u);const ee=new XMLHttpRequest;ee.upload.addEventListener("progress",Q=>{Q.lengthComputable&&C(Math.round(Q.loaded/Q.total*100))}),ee.onload=()=>{ee.status>=200&&ee.status<300?(_("Question paper uploaded successfully!","success"),A(),r()):_("Upload failed","error"),U(!1)},ee.onerror=()=>{_("Network error","error"),U(!1)},ee.open("POST","/api/upload"),ee.send(D)},ne=async()=>{if(!N||!g){g||_("Please enter the Exam Name/Year","error");return}L(!0);const J=`${u} ${g}`;try{await(void 0)({title:J,body:N,lessonId:t,type:"questionPaper",metadata:{category:"External",subCategory:"Link",isExternal:!0,examCategory:u}}),_("Link saved successfully","success"),A(),r()}catch{_("Failed to save link","error")}L(!1)};return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6 animate-fade-in border border-blue-100 dark:border-blue-900/30",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Add New Question Paper"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:o.jsx(Pa,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[o.jsx("button",{onClick:()=>i("upload"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="upload"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Upload PDF"}),o.jsx("button",{onClick:()=>i("link"),className:`flex-1 py-3 text-sm font-medium border-b-2 transition-colors ${a==="link"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Direct Link"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Exam Type"}),o.jsx("select",{value:u,onChange:J=>f(J.target.value),className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:k.map(J=>o.jsx("option",{value:J,children:J},J))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Exam Name / Year (e.g. June 25)"}),o.jsx("input",{type:"text",value:g,onChange:J=>w(J.target.value),placeholder:"Enter Name or Year",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),o.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["File Name: ",o.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[u," ",g||"..."]})]}),a==="upload"&&o.jsxs("div",{className:"space-y-4 mt-4",children:[b?o.jsxs("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4 overflow-hidden relative",children:[o.jsx("div",{className:`h-4 rounded-full transition-all duration-300 relative overflow-hidden ${v===100?"bg-green-500":"bg-blue-600"}`,style:{width:`${v===100?100:v}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})}),o.jsx("p",{className:"text-center text-xs mt-1 text-gray-500",children:v===100?"Processing...":`Uploading ${v}%`})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[o.jsx(Uo,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),o.jsxs("label",{className:"block cursor-pointer",children:[o.jsx("span",{className:"text-blue-600 hover:text-blue-500 font-medium",children:"Click to upload"}),o.jsx("span",{className:"text-gray-500",children:" or drag and drop PDF"}),o.jsx("input",{type:"file",className:"hidden",accept:".pdf",onChange:V})]}),l&&o.jsx("p",{className:"mt-2 text-sm font-semibold text-green-600",children:l.name})]}),o.jsx("button",{disabled:!l||!g||b,onClick:Ae,className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium shadow-sm",children:b?"Uploading...":"Save Question Paper"})]}),a==="link"&&o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsx("input",{type:"url",value:N,onChange:J=>H(J.target.value),placeholder:"https://example.com/question.pdf",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),o.jsx("button",{disabled:!N||!g||F,onClick:ne,className:"w-full bg-gray-800 text-white py-2 rounded-md hover:bg-gray-700 disabled:opacity-50 transition-colors font-medium shadow-sm",children:F?"Saving...":"Save Link"})]})]})]})},cS=({lessonId:t,user:A})=>{var ee;const[r,a]=P.useState(0),[i,l]=P.useState(!1),{data:d,isLoading:u}=Ar(()=>za(t,["questionPaper"],A.role!=="admin"&&!A.canEdit),[t,r,A]),f=((ee=d==null?void 0:d[0])==null?void 0:ee.docs)||[],g=A.role==="admin"||!!A.canEdit,[w,v]=P.useState({isOpen:!1,onConfirm:null}),[C,b]=P.useState(null),{showToast:U}=Mr(),[F,L]=P.useState(null),[N,H]=P.useState(!1),[_,k]=P.useState({show:!1,type:"loading",title:"",message:""});P.useEffect(()=>{(async()=>{try{const j=await wn(t)}catch(j){console.error("Failed to fetch stats",j)}})()},[t]);const V=Q=>{v({isOpen:!0,onConfirm:async()=>{await(void 0)(Q),a(j=>j+1),U("Deleted","success"),v({isOpen:!1,onConfirm:null})}})},Ae=async Q=>{try{const j=!Q.isPublished;await(void 0)(Q._id,{isPublished:j}),a(I=>I+1),U(`Question Paper ${j?"published":"unpublished"} successfully`,"success")}catch(j){console.error("Failed to toggle publish status:",j),U("Failed to update publish status","error")}},ne=(Q,j)=>{J(Q,j)},J=async(Q,j)=>{H(!0),k({show:!0,type:"loading",title:" | Downloading",message:`PDF ...  

Sending PDF... Please wait`});try{const I=await(void 0)(Q,A._id,A.email);if(I.success){if(I.isAdmin&&I.fileUrl){const K=document.createElement("a");K.href=I.fileUrl,K.download=j||"question-paper.pdf",document.body.appendChild(K),K.click(),document.body.removeChild(K),k({show:!0,type:"success",title:"! | Success!",message:`  !

Download started!`})}else I.emailSent?k({show:!0,type:"success",title:"! | Success!",message:`  PDF !
 ${A.email}

PDF sent to your email successfully!`}):k({show:!0,type:"success",title:" | Done",message:I.message||` 

Download processed`});a(K=>K+1),setTimeout(()=>{k(K=>({...K,show:!1}))},3e3)}else{const K=I.adminPhone||"7904838296";k({show:!0,type:"error",title:" | Failed",message:`${I.message}

 | Contact Admin:
 ${K}`,phone:K})}}catch(I){console.error("Download error:",I);const K="7904838296";k({show:!0,type:"error",title:" | Error",message:`${I.message}

 | Contact Admin:
 ${K}`,phone:K})}finally{H(!1)}},D=async(Q,j)=>{b(Q)};return o.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 h-full flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 shrink-0",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Wf,{className:"w-8 h-8 text-indigo-600"}),o.jsx("h1",{className:"text-lg sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-indigo-600 dark:from-white dark:to-indigo-400",children:"Question Papers"})]})}),g&&o.jsxs("button",{onClick:()=>l(!i),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[o.jsx(Ti,{className:`w-5 h-5 mr-1 transition-transform ${i?"rotate-45":""}`}),i?"Cancel":"Add New"]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 custom-scrollbar",children:[i&&o.jsx(oS,{lessonId:t,onUpload:()=>{a(Q=>Q+1),l(!1)},onCancel:()=>l(!1)}),u&&o.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading question papers..."}),!u&&f.length===0&&!i&&o.jsxs("div",{className:"text-center py-20 bg-gray-50 dark:bg-gray-800/50 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[o.jsx(Wf,{className:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No question papers found."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 pb-8",children:f.map((Q,j)=>o.jsx(lS,{content:Q,index:j,isAdmin:g,onRemove:()=>V(Q._id),onExpand:I=>D(I,Q._id),onDownloadClick:()=>ne(Q._id,Q.title),downloading:N,onTogglePublish:Ae},Q._id))})]}),o.jsx(Ws,{isOpen:w.isOpen,onClose:()=>v({...w,isOpen:!1}),onConfirm:w.onConfirm,title:"Delete Question Paper",message:"Are you sure?"}),C&&o.jsxs("div",{className:"fixed inset-0 z-[70] bg-black/95 flex flex-col animate-fade-in",children:[o.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full text-white z-50",children:o.jsx(Pa,{className:"w-6 h-6"})}),o.jsx("div",{className:"flex-1 w-full h-full p-4 md:p-8",children:o.jsx(Qo,{url:C,initialScale:1.5})})]}),_.show&&o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform transition-all scale-100 flex flex-col items-center text-center",children:[_.type==="loading"&&o.jsx("div",{className:"w-16 h-16 mb-4",children:o.jsxs("svg",{className:"animate-spin h-16 w-16 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),_.type==="success"&&o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),_.type==="error"&&o.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:_.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 whitespace-pre-line",children:_.message}),_.type!=="loading"&&o.jsx("button",{onClick:()=>k(Q=>({...Q,show:!1})),className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:" (OK)"}),_.phone&&_.type==="error"&&o.jsxs("a",{href:`tel:${_.phone}`,className:"mt-3 w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})," | Call Admin"]})]})})]})},kg=({message:t,subMessage:A})=>o.jsx("div",{className:"flex items-center justify-center h-full text-center text-gray-500 dark:text-gray-400 p-4",children:o.jsxs("div",{className:"p-8 bg-white dark:bg-gray-800/50 rounded-lg shadow-sm",children:[o.jsx("h2",{className:"text-xl font-medium",children:t}),o.jsx("p",{className:"mt-2 text-sm",children:A})]})}),uS=({lessonId:t,selectedResourceType:A,user:r})=>{P.useEffect(()=>{console.log("[ContentDisplay] Props changed:",{lessonId:t,selectedResourceType:A})},[t,A]);const{data:a}=Ar(()=>wn(t),[t],!!t);if(!t)return o.jsx(kg,{message:"Select a chapter to begin",subMessage:"Use the selectors at the top to navigate to a chapter."});if(!A)return o.jsx(kg,{message:"Select a resource",subMessage:"Choose a resource type from the sidebar to view its content."});const i=()=>{switch(A){case"book":return o.jsx(A5,{lessonId:t,user:r});case"worksheet":return o.jsx(u5,{lessonId:t,user:r});case"notes":return o.jsx(jN,{lessonId:t,user:r});case"qa":return o.jsx(RN,{lessonId:t,user:r});case"flashcard":return o.jsx(zN,{lessonId:t,user:r});case"video":return o.jsx(eS,{lessonId:t,user:r});case"audio":return o.jsx(nS,{lessonId:t,user:r});case"quiz":return o.jsx(iS,{lessonId:t,user:r});case"questionPaper":return o.jsx(cS,{lessonId:t,user:r});case"slide":return o.jsx(l5,{lessonId:t,user:r});case"activity":return o.jsx(WN,{lessonId:t,user:r,resourceType:A});default:return o.jsx(kg,{message:"Unknown resource type",subMessage:"This resource type is not supported."})}},l=a&&a.isPublished===!1,d=r.role==="admin"||r.canEdit;return o.jsxs("div",{className:"h-full overflow-hidden flex flex-col",children:[l&&d&&o.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/40 border-b border-amber-200 dark:border-amber-700/50 px-4 py-1.5 flex items-center justify-center shrink-0",children:o.jsxs("span",{className:"text-amber-800 dark:text-amber-200 text-xs font-semibold uppercase tracking-wider flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Draft Mode  Unpublished Content"]})}),o.jsx("div",{className:"flex-1 overflow-hidden relative",children:i()})]})},dS=(t,A,r=[])=>{const a=P.useRef(null),i=P.useRef(!1),l=P.useRef(null);P.useEffect(()=>{const u=a.current;if(u&&!(typeof t!="number"||Number.isNaN(t))){i.current=!0;try{const f=u.scrollHeight-u.clientHeight,g=Math.max(0,Math.min(t,Math.max(0,f)));Math.abs(u.scrollTop-g)>1&&(u.scrollTop=g),l.current=g}finally{window.setTimeout(()=>{i.current=!1},0)}}},[t,...r]);const d=P.useCallback(()=>{const u=a.current;if(!u||i.current)return;const f=u.scrollTop;l.current!==null&&Math.abs(l.current-f)<=1||(l.current=f,A(f))},[A]);return P.useEffect(()=>{if(a.current)return;const u=document.querySelector("#root, main, .app, body");u&&u!==document.body&&u.scrollHeight>u.clientHeight&&(a.current=u)},[]),{scrollElementRef:a,handleScroll:d}},fS=({className:t=""})=>{const{isNavigationRestored:A,session:r}=Di(),[a,i]=P.useState(!1);return null},hS=()=>{const{session:t,logout:A,updateTeacherState:r}=Di(),{user:a,teacherState:i}=t,[l,d]=P.useState(!1),[u,f]=P.useState(!1);P.useEffect(()=>{console.log("[TeacherView] Navigation state changed:",{classId:i.classId,subjectId:i.subjectId,unitId:i.unitId,subUnitId:i.subUnitId,lessonId:i.lessonId,selectedResourceType:i.selectedResourceType})},[i]);const g=typeof window<"u"&&window.innerWidth<768,{scrollElementRef:w,handleScroll:v}=dS(i.scrollPosition,k=>r({scrollPosition:k}),[i.classId,i.subjectId,i.unitId,i.subUnitId,i.lessonId,i.selectedResourceType]),C=P.useCallback(k=>{r({...k,scrollPosition:0})},[r]),b=P.useCallback(k=>{C({classId:k,subjectId:null,unitId:null,subUnitId:null,lessonId:null,selectedResourceType:null})},[C]),U=P.useCallback(k=>{C({subjectId:k,unitId:null,subUnitId:null,lessonId:null,selectedResourceType:null})},[C]),F=P.useCallback(k=>{C({unitId:k,subUnitId:null,lessonId:null,selectedResourceType:null})},[C]),L=P.useCallback(k=>{C({subUnitId:k,lessonId:null,selectedResourceType:null})},[C]),N=P.useCallback(k=>{console.log("[TeacherView] Lesson changed:",{newLessonId:k,previousLessonId:i.lessonId}),C({lessonId:k,selectedResourceType:k?"book":null})},[C,i.lessonId]),H=P.useCallback(k=>{C({selectedResourceType:k}),g&&d(!1)},[C,g]),_=P.useCallback(()=>{f(!u)},[u]);return a?o.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[o.jsx(MB,{user:a,onToggleSidebar:()=>d(!l),onLogout:A,onProfile:_}),o.jsx(fS,{}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[o.jsx(jB,{lessonId:i.lessonId,selectedResourceType:i.selectedResourceType,onSelectResourceType:H,isOpen:l}),o.jsx("main",{ref:w,onScroll:v,className:"flex-1 flex flex-col bg-gray-100 dark:bg-gray-800 overflow-y-auto relative transition-all duration-300 border-l border-gray-200 dark:border-gray-700 h-full",children:u?o.jsx("div",{className:"h-full overflow-y-auto",children:o.jsx(GB,{user:a,onBack:()=>f(!1)})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"shrink-0",children:o.jsx(EB,{classId:i.classId,subjectId:i.subjectId,unitId:i.unitId,subUnitId:i.subUnitId,lessonId:i.lessonId,onClassChange:b,onSubjectChange:U,onUnitChange:F,onSubUnitChange:L,onLessonChange:N,onlyPublished:!0})}),o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(uS,{lessonId:i.lessonId,selectedResourceType:i.selectedResourceType,user:a})})]})})]})]}):null},gS=()=>{const{session:t,updateProfile:A}=Di(),r=t.user,[a,i]=P.useState(""),[l,d]=P.useState(""),[u,f]=P.useState(""),[g,w]=P.useState(null),[v,C]=P.useState(!1),b=async F=>{if(F.preventDefault(),!r){w("User session not found.");return}if(a!==l){w("Passwords do not match.");return}if(a.length<3){w("Password must be at least 3 characters long.");return}if(!u||u.trim().length===0){w("Mobile number is required.");return}if(!/^\d{10}$/.test(u.trim())){w("Please enter a valid 10-digit mobile number.");return}w(null),C(!0);try{const L=await lB(r._id,{password:a,mobileNumber:u.trim()});A(L)}catch(L){L instanceof Error?w(L.message):w("An unknown error occurred.")}finally{C(!1)}},U="mt-1 w-full px-3 py-2 text-sm bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500";return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-800 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"w-full max-w-md p-6 sm:p-8 space-y-6 bg-white dark:bg-gray-900 rounded-2xl shadow-xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-800 dark:text-white",children:"Update Your Profile"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-500 dark:text-gray-400",children:"For security, please update your password and add a mobile number."})]}),o.jsxs("form",{className:"space-y-4",onSubmit:b,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),o.jsx("input",{type:"password",value:a,onChange:F=>i(F.target.value),required:!0,className:U,placeholder:"Enter new password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),o.jsx("input",{type:"password",value:l,onChange:F=>d(F.target.value),required:!0,className:U,placeholder:"Re-enter password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mobile Number"}),o.jsx("input",{type:"tel",value:u,onChange:F=>f(F.target.value),required:!0,className:U,placeholder:"Enter 10-digit mobile number",maxLength:10,pattern:"[0-9]{10}"})]}),g&&o.jsx("div",{className:"p-3 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:g}),o.jsx("button",{type:"submit",disabled:v,className:"w-full px-4 py-3 font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-900 transition-transform transform hover:scale-105 disabled:bg-blue-400 disabled:cursor-wait disabled:transform-none",children:v?"Updating...":"Update and Continue"})]})]})})},pS=()=>{["learningPlatformNavigation","learningPlatformLastActivity","learningPlatformRestartDetected"].forEach(A=>{try{localStorage.removeItem(A)}catch(r){console.warn(`Failed to remove ${A} from localStorage:`,r)}})},mS=()=>{var t,A,r,a;try{const i=localStorage.getItem("learningPlatformNavigation"),l=localStorage.getItem("learningPlatformLastActivity");if(!i||!l)return{hasStoredState:!1,lastUpdated:0,sessionExpired:!1,hasValidIds:!1};const d=JSON.parse(i),u=parseInt(l,10),f=Date.now(),g=1800*1e3,w=f-u>g,v=!!((t=d==null?void 0:d.adminState)!=null&&t.classId||(A=d==null?void 0:d.teacherState)!=null&&A.classId||(r=d==null?void 0:d.adminState)!=null&&r.lessonId||(a=d==null?void 0:d.teacherState)!=null&&a.lessonId);return{hasStoredState:!0,lastUpdated:(d==null?void 0:d.lastUpdated)||0,sessionExpired:w,hasValidIds:v}}catch(i){return console.error("Failed to get navigation storage info:",i),{hasStoredState:!1,lastUpdated:0,sessionExpired:!0,hasValidIds:!1}}},wS=()=>{pS(),window.location.reload()},bS=()=>{const t=mS();console.group(" Navigation State Debug Info"),console.log("Storage Info:",t);try{const A=localStorage.getItem("learningPlatformNavigation");if(A){const a=JSON.parse(A);console.log("Stored Navigation State:",a)}else console.log("No stored navigation state found");const r=localStorage.getItem("learningPlatformLastActivity");if(r){const a=new Date(parseInt(r,10));console.log("Last Activity:",a.toLocaleString())}}catch(A){console.error("Error reading navigation state:",A)}console.groupEnd()},xS=()=>{const t=A=>{A.ctrlKey&&A.shiftKey&&A.key==="N"&&(A.preventDefault(),bS()),A.ctrlKey&&A.shiftKey&&A.key==="C"&&(A.preventDefault(),confirm("Clear all navigation data and reload page?")&&wS())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},vS=()=>{const{session:t}=Di(),A=t.user;return A?A.isFirstLogin?o.jsx(gS,{}):o.jsx(hS,{}):o.jsx(mB,{})},yS=()=>(El.useEffect(()=>xS(),[]),o.jsx(gB,{children:o.jsxs(zB,{children:[" ",o.jsx(vS,{})]})})),Iv=document.getElementById("root");if(!Iv)throw new Error("Could not find root element to mount to");const BS=AB.createRoot(Iv);BS.render(o.jsx(El.StrictMode,{children:o.jsx(yS,{})}));export{vA as _};
